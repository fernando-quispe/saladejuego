import{A as sl,B as al,C as cl,D as Br,E as kt,a as A,b as ae,c as Fp,d as m,e as LE,f as rl,g as jE,h as BE,i as $E,j as kp,k as HE,l as Oa,m as Vp,n as il,o as qE,p as zE,q as Up,r as Pe,s as Ni,t as An,u as ol,v as Fa,w as GE,x as WE,y as KE,z as jr}from"./chunk-BID5EZLQ.js";var QE=null;var Lp=1,jp=Symbol("SIGNAL");function pe(t){let e=QE;return QE=t,e}var JE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lR(t){if(!(Hp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Lp)){if(!t.producerMustRecompute(t)&&!Bp(t)){t.dirty=!1,t.lastCleanEpoch=Lp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Lp}}function YE(t){return t&&(t.nextProducerIndex=0),pe(t)}function ZE(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$p(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bp(t){ul(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lR(n),r!==n.version))return!0}return!1}function XE(t){if(ul(t),Hp(t))for(let e=0;e<t.producerNode.length;e++)$p(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $p(t,e){if(dR(t),ul(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)$p(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ul(i),i.producerIndexOfThis[r]=e}}function Hp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ul(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function dR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function hR(){throw new Error}var fR=hR;function eC(t){fR=t}function K(t){return typeof t=="function"}function Lo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ll=Lo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Oi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof ll?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tC(o)}catch(s){e=e??[],s instanceof ll?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ll(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Oi(n,e)}remove(e){let{_finalizers:n}=this;n&&Oi(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var qp=Ue.EMPTY;function dl(t){return t instanceof Ue||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function tC(t){K(t)?t():t.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jo={setTimeout(t,e,...n){let{delegate:r}=jo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=jo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hl(t){jo.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(t);else throw t})}function ka(){}var nC=zp("C",void 0,void 0);function rC(t){return zp("E",void 0,t)}function iC(t){return zp("N",t,void 0)}function zp(t,e,n){return{kind:t,value:e,error:n}}var Fi=null;function Bo(t){if(un.useDeprecatedSynchronousErrorHandling){let e=!Fi;if(e&&(Fi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fi;if(Fi=null,n)throw r}}else t()}function oC(t){un.useDeprecatedSynchronousErrorHandling&&Fi&&(Fi.errorThrown=!0,Fi.error=t)}var ki=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dl(e)&&e.add(this)):this.destination=mR}static create(e,n,r){return new cr(e,n,r)}next(e){this.isStopped?Wp(iC(e),this):this._next(e)}error(e){this.isStopped?Wp(rC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wp(nC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pR=Function.prototype.bind;function Gp(t,e){return pR.call(t,e)}var Kp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fl(r)}else fl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fl(n)}}},cr=class extends ki{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gp(e.next,o),error:e.error&&Gp(e.error,o),complete:e.complete&&Gp(e.complete,o)}):i=e}this.destination=new Kp(i)}};function fl(t){un.useDeprecatedSynchronousErrorHandling?oC(t):hl(t)}function gR(t){throw t}function Wp(t,e){let{onStoppedNotification:n}=un;n&&jo.setTimeout(()=>n(t,e))}var mR={closed:!0,next:ka,error:gR,complete:ka};var $o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function It(t){return t}function Qp(...t){return Jp(t)}function Jp(t){return t.length===0?It:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=vR(n)?n:new cr(n,r,i);return Bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sC(r),new r((i,o)=>{let s=new cr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$o](){return this}pipe(...n){return Jp(n)(this)}toPromise(n){return n=sC(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function sC(t){var e;return(e=t??un.Promise)!==null&&e!==void 0?e:Promise}function yR(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function vR(t){return t&&t instanceof ki||yR(t)&&dl(t)}function Yp(t){return K(t?.lift)}function ee(t){return e=>{if(Yp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(t,e,n,r,i){return new Zp(t,e,n,r,i)}var Zp=class extends ki{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ho(){return ee((t,e)=>{let n=null;t._refCount++;let r=te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var qo=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Ho()(this)}};var aC=Lo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new aC}next(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qp:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Oi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new pl(e,n),t})(),pl=class extends ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qp}};var lt=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Va={now(){return(Va.delegate||Date).now()},delegate:void 0};var gl=class extends ge{constructor(e=1/0,n=1/0,r=Va){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ml=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var Ua={setInterval(t,e,...n){let{delegate:r}=Ua;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ua;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zo=class extends ml{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ua.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Go=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Go.now=Va.now;var Wo=class extends Go{constructor(e,n=Go.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var La=new Wo(zo);var yl=class extends zo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vl=class extends Wo{};var Xp=new vl(yl);var Dt=new re(t=>t.complete());function cC(t){return t&&K(t.schedule)}function eg(t){return t[t.length-1]}function _l(t){return K(eg(t))?t.pop():void 0}function Sn(t){return cC(eg(t))?t.pop():void 0}function uC(t,e){return typeof eg(t)=="number"?t.pop():e}var wl=t=>t&&typeof t.length=="number"&&typeof t!="function";function El(t){return K(t?.then)}function Cl(t){return K(t[$o])}function Il(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function Dl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _R(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bl=_R();function Tl(t){return K(t?.[bl])}function Al(t){return jE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield rl(n.read());if(i)return yield rl(void 0);yield yield rl(r)}}finally{n.releaseLock()}})}function Sl(t){return K(t?.getReader)}function be(t){if(t instanceof re)return t;if(t!=null){if(Cl(t))return wR(t);if(wl(t))return ER(t);if(El(t))return CR(t);if(Il(t))return lC(t);if(Tl(t))return IR(t);if(Sl(t))return DR(t)}throw Dl(t)}function wR(t){return new re(e=>{let n=t[$o]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ER(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function CR(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hl)})}function IR(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lC(t){return new re(e=>{bR(t,e).catch(n=>e.error(n))})}function DR(t){return lC(Al(t))}function bR(t,e){var n,r,i,o;return LE(this,void 0,void 0,function*(){try{for(n=BE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Jt(t,e=0){return ee((n,r)=>{n.subscribe(te(r,i=>Vt(r,t,()=>r.next(i),e),()=>Vt(r,t,()=>r.complete(),e),i=>Vt(r,t,()=>r.error(i),e)))})}function ln(t,e=0){return ee((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dC(t,e){return be(t).pipe(ln(e),Jt(e))}function hC(t,e){return be(t).pipe(ln(e),Jt(e))}function fC(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pC(t,e){return new re(n=>{let r;return Vt(n,e,()=>{r=t[bl](),Vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Ml(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{Vt(n,e,()=>{let r=t[Symbol.asyncIterator]();Vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gC(t,e){return Ml(Al(t),e)}function mC(t,e){if(t!=null){if(Cl(t))return dC(t,e);if(wl(t))return fC(t,e);if(El(t))return hC(t,e);if(Il(t))return Ml(t,e);if(Tl(t))return pC(t,e);if(Sl(t))return gC(t,e)}throw Dl(t)}function ce(t,e){return e?mC(t,e):be(t)}function B(...t){let e=Sn(t);return ce(t,e)}function Ko(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function tg(t){return!!t&&(t instanceof re||K(t.lift)&&K(t.subscribe))}var ur=Lo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return ee((n,r)=>{let i=0;n.subscribe(te(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:TR}=Array;function AR(t,e){return TR(e)?t(...e):t(e)}function xl(t){return $(e=>AR(t,e))}var{isArray:SR}=Array,{getPrototypeOf:MR,prototype:xR,keys:PR}=Object;function Pl(t){if(t.length===1){let e=t[0];if(SR(e))return{args:e,keys:null};if(RR(e)){let n=PR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RR(t){return t&&typeof t=="object"&&MR(t)===xR}function Rl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ja(...t){let e=Sn(t),n=_l(t),{args:r,keys:i}=Pl(t);if(r.length===0)return ce([],e);let o=new re(NR(r,e,i?s=>Rl(i,s):It));return n?o.pipe(xl(n)):o}function NR(t,e,n=It){return r=>{yC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)yC(e,()=>{let u=ce(t[c],e),l=!1;u.subscribe(te(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yC(t,e,n){t?Vt(n,t,e):e()}function vC(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=_=>u<r?g(_):c.push(_),g=_=>{o&&e.next(_),u++;let y=!1;be(n(_,l++)).subscribe(te(e,E=>{i?.(E),o?f(E):e.next(E)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let E=c.shift();s?Vt(e,s,()=>g(E)):g(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(te(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ze(t,e,n=1/0){return K(e)?ze((r,i)=>$((o,s)=>e(r,o,i,s))(be(t(r,i))),n):(typeof e=="number"&&(n=e),ee((r,i)=>vC(r,i,t,n)))}function $r(t=1/0){return ze(It,t)}function _C(){return $r(1)}function Qo(...t){return _C()(ce(t,Sn(t)))}function Nl(t){return new re(e=>{be(t()).subscribe(e)})}function ng(...t){let e=_l(t),{args:n,keys:r}=Pl(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;be(n[l]).subscribe(te(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Rl(r,a):a),o.complete())}))}});return e?i.pipe(xl(e)):i}function rg(...t){let e=Sn(t),n=uC(t,1/0),r=t;return r.length?r.length===1?be(r[0]):$r(n)(ce(r,e)):Dt}function et(t,e){return ee((n,r)=>{let i=0;n.subscribe(te(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Hr(t){return ee((e,n)=>{let r=null,i=!1,o;r=e.subscribe(te(n,void 0,void 0,s=>{o=be(t(s,Hr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wC(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(te(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function lr(t,e){return K(e)?ze(t,e,1):ze(t,1)}function qr(t){return ee((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dr(t){return t<=0?()=>Dt:ee((e,n)=>{let r=0;e.subscribe(te(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ig(t){return $(()=>t)}function og(t,e=It){return t=t??OR,ee((n,r)=>{let i,o=!0;n.subscribe(te(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function OR(t,e){return t===e}function Ol(t=FR){return ee((e,n)=>{let r=!1;e.subscribe(te(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function FR(){return new ur}function zr(t){return ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Yt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?et((i,o)=>t(i,o,r)):It,dr(1),n?qr(e):Ol(()=>new ur))}function Jo(t){return t<=0?()=>Dt:ee((e,n)=>{let r=[];e.subscribe(te(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?et((i,o)=>t(i,o,r)):It,Jo(1),n?qr(e):Ol(()=>new ur))}function Ba(){return ee((t,e)=>{let n,r=!1;t.subscribe(te(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function Vi(t,e){return ee(wC(t,e,arguments.length>=2,!0))}function EC(t={}){let{connector:e=()=>new ge,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},g=()=>{let _=s;f(),_?.unsubscribe()};return ee((_,y)=>{u++,!d&&!l&&h();let E=c=c??e();y.add(()=>{u--,u===0&&!d&&!l&&(a=ag(g,i))}),E.subscribe(y),!s&&u>0&&(s=new cr({next:U=>E.next(U),error:U=>{d=!0,h(),a=ag(f,n,U),E.error(U)},complete:()=>{l=!0,h(),a=ag(f,r),E.complete()}}),be(_).subscribe(s))})(o)}}function ag(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new cr({next:()=>{r.unsubscribe(),t()}});return be(e(...n)).subscribe(r)}function Fl(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,EC({connector:()=>new gl(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ui(...t){let e=Sn(t);return ee((n,r)=>{(e?Qo(t,n,e):Qo(t,n)).subscribe(r)})}function Me(t,e){return ee((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(te(r,c=>{i?.unsubscribe();let u=0,l=o++;be(t(c,l)).subscribe(i=te(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function kl(t,e){return K(e)?Me(()=>t,e):Me(()=>t)}function cg(t){return ee((e,n)=>{be(t).subscribe(te(n,()=>n.complete(),ka)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(te(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):It}var uI="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(pd(e,n)),this.code=e}};function pd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Xa(t){return{toString:t}.toString()}var Vl="__parameters__";function kR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function lI(t,e,n){return Xa(()=>{let r=kR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Vl)?c[Vl]:Object.defineProperty(c,Vl,{value:[]})[Vl];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var hr=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function VR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Tt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Tt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Dg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var UR=Ce({__forward_ref__:Ce});function vr(t){return t.__forward_ref__=vr,t.toString=function(){return Tt(this())},t}function bt(t){return dI(t)?t():t}function dI(t){return typeof t=="function"&&t.hasOwnProperty(UR)&&t.__forward_ref__===vr}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function gd(t){return CC(t,fI)||CC(t,pI)}function hI(t){return gd(t)!==null}function CC(t,e){return t.hasOwnProperty(e)?t[e]:null}function LR(t){let e=t&&(t[fI]||t[pI]);return e||null}function IC(t){return t&&(t.hasOwnProperty(DC)||t.hasOwnProperty(jR))?t[DC]:null}var fI=Ce({\u0275prov:Ce}),DC=Ce({\u0275inj:Ce}),pI=Ce({ngInjectableDef:Ce}),jR=Ce({ngInjectorDef:Ce}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gI(t){return t&&!!t.\u0275providers}var BR=Ce({\u0275cmp:Ce}),$R=Ce({\u0275dir:Ce}),HR=Ce({\u0275pipe:Ce}),qR=Ce({\u0275mod:Ce}),Kl=Ce({\u0275fac:Ce}),$a=Ce({__NG_ELEMENT_ID__:Ce}),bC=Ce({__NG_ENV_ID__:Ce});function ec(t){return typeof t=="string"?t:t==null?"":String(t)}function zR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ec(t)}function GR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function wm(t,e){throw new j(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),bg;function mI(){return bg}function Zt(t){let e=bg;return bg=t,e}function yI(t,e,n){let r=gd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;wm(t,"Injector")}var WR={},Ha=WR,Tg="__NG_DI_FLAG__",Ql="ngTempTokenPath",KR="ngTokenPath",QR=/\n/gm,JR="\u0275",TC="__source",ts;function YR(){return ts}function Gr(t){let e=ts;return ts=t,e}function ZR(t,e=ie.Default){if(ts===void 0)throw new j(-203,!1);return ts===null?yI(t,void 0,e):ts.get(t,e&ie.Optional?null:void 0,e)}function I(t,e=ie.Default){return(mI()||ZR)(bt(t),e)}function D(t,e=ie.Default){return I(t,md(e))}function md(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ag(t){let e=[];for(let n=0;n<t.length;n++){let r=bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],c=XR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(I(i,o))}else e.push(I(r))}return e}function vI(t,e){return t[Tg]=e,t.prototype[Tg]=e,t}function XR(t){return t[Tg]}function eN(t,e,n,r){let i=t[Ql];throw e[TC]&&i.unshift(e[TC]),t.message=tN(`
`+t.message,i,n,r),t[KR]=i,t[Ql]=null,t}function tN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==JR?t.slice(2):t;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QR,`
  `)}`}var fs=vI(lI("Optional"),8);var Em=vI(lI("SkipSelf"),4);function rs(t,e){let n=t.hasOwnProperty(Kl);return n?t[Kl]:null}function Cm(t,e){t.forEach(n=>Array.isArray(n)?Cm(n,e):e(n))}function _I(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Im(t,e,n){let r=tc(t,e);return r>=0?t[r|1]=n:(r=~r,nN(t,r,e,n)),r}function ug(t,e){let n=tc(t,e);if(n>=0)return t[n|1]}function tc(t,e){return rN(t,e,1)}function rN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var is={},Ut=[],os=new R(""),wI=new R("",-1),EI=new R(""),Yl=class{get(e,n=Ha){if(n===Ha){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return n}},CI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(CI||{}),Pn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Pn||{}),Le=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Le||{});function iN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Sg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];oN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function II(t){return t===3||t===4||t===6}function oN(t){return t.charCodeAt(0)===64}function qa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?AC(t,n,i,null,e[++r]):AC(t,n,i,null,null))}}return t}function AC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var DI="ng-template";function sN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&iN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Dm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Dm(t){return t.type===4&&t.value!==DI}function aN(t,e,n){let r=t.type===4&&!n?DI:t.value;return e===r}function cN(t,e,n){let r=4,i=t.attrs,o=i!==null?dN(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dn(r)&&!dn(c))return!1;if(s&&dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!aN(t,c,n)||c===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!sN(t,i,c,n)){if(dn(r))return!1;s=!0}}else{let u=e[++a],l=uN(c,i,Dm(t),n);if(l===-1){if(dn(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function uN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hN(e,t)}function lN(t,e,n=!1){for(let r=0;r<e.length;r++)if(cN(t,e[r],n))return!0;return!1}function dN(t){for(let e=0;e<t.length;e++){let n=t[e];if(II(n))return e}return t.length}function hN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function SC(t,e){return t?":not("+e.trim()+")":e}function fN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=SC(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=SC(o,i)),e}function pN(t){return t.map(fN).join(",")}function gN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:e,classes:n}}function Re(t){return Xa(()=>{let e=MI(t),n=ae(A({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===CI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Pn.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});xI(n);let r=t.dependencies;return n.directiveDefs=xC(r,!1),n.pipeDefs=xC(r,!0),n.id=vN(n),n})}function mN(t){return Kr(t)||bI(t)}function yN(t){return t!==null}function ht(t){return Xa(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function MC(t,e){if(t==null)return is;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Le.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Le.None?[r,a]:r,e[o]=s):n[o]=r}return n}function je(t){return Xa(()=>{let e=MI(t);return xI(e),e})}function Kr(t){return t[BR]||null}function bI(t){return t[$R]||null}function TI(t){return t[HR]||null}function AI(t){let e=Kr(t)||bI(t)||TI(t);return e!==null?e.standalone:!1}function SI(t,e){let n=t[qR]||null;if(!n&&e===!0)throw new Error(`Type ${Tt(t)} does not have '\u0275mod' property.`);return n}function MI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||is,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MC(t.inputs,e),outputs:MC(t.outputs),debugInfo:null}}function xI(t){t.features?.forEach(e=>e(t))}function xC(t,e){if(!t)return null;let n=e?TI:mN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yN)}function vN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yr(t){return{\u0275providers:t}}function bm(...t){return{\u0275providers:PI(!0,t),\u0275fromNgModule:!0}}function PI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cm(e,s=>{let a=s;Mg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RI(i,o),n}function RI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Tm(i,o=>{e(o,r)})}}function Mg(t,e,n,r){if(t=bt(t),!t)return!1;let i=null,o=IC(t),s=!o&&Kr(t);if(!o&&!s){let c=t.ngModule;if(o=IC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Mg(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Cm(o.imports,l=>{Mg(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&RI(u,e)}if(!a){let u=rs(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ut},i),e({provide:EI,useValue:i,multi:!0},i),e({provide:os,useValue:()=>I(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;Tm(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Tm(t,e){for(let n of t)gI(n)&&(n=n.\u0275providers),Array.isArray(n)?Tm(n,e):e(n)}var _N=Ce({provide:String,useValue:Ce});function NI(t){return t!==null&&typeof t=="object"&&_N in t}function wN(t){return!!(t&&t.useExisting)}function EN(t){return!!(t&&t.useFactory)}function ss(t){return typeof t=="function"}function CN(t){return!!t.useClass}var yd=new R(""),Hl={},IN={},lg;function Am(){return lg===void 0&&(lg=new Yl),lg}var At=class{},za=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pg(e,s=>this.processProvider(s)),this.records.set(wI,Yo(void 0,this)),i.has("environment")&&this.records.set(At,Yo(void 0,this));let o=this.records.get(yd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(EI,Ut,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Gr(this),r=Zt(void 0),i;try{return e()}finally{Gr(n),Zt(r)}}get(e,n=Ha,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bC))return e[bC](this);r=md(r);let i,o=Gr(this),s=Zt(void 0);try{if(!(r&ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=SN(e)&&gd(e);u&&this.injectableDefInScope(u)?c=Yo(xg(e),Hl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ie.Self?Am():this.parent;return n=r&ie.Optional&&n===Ha?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ql]=a[Ql]||[]).unshift(Tt(e)),o)throw a;return eN(a,e,"R3InjectorError",this.source)}else throw a}finally{Zt(s),Gr(o)}}resolveInjectorInitializers(){let e=pe(null),n=Gr(this),r=Zt(void 0),i;try{let o=this.get(os,Ut,ie.Self);for(let s of o)s()}finally{Gr(n),Zt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=bt(e);let n=ss(e)?e:bt(e&&e.provide),r=bN(e);if(!ss(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Yo(void 0,Hl,!0),i.factory=()=>Ag(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Hl&&(n.value=IN,n.value=n.factory()),typeof n.value=="object"&&n.value&&AN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function xg(t){let e=gd(t),n=e!==null?e.factory:rs(t);if(n!==null)return n;if(t instanceof R)throw new j(204,!1);if(t instanceof Function)return DN(t);throw new j(204,!1)}function DN(t){if(t.length>0)throw new j(204,!1);let n=LR(t);return n!==null?()=>n.factory(t):()=>new t}function bN(t){if(NI(t))return Yo(void 0,t.useValue);{let e=OI(t);return Yo(e,Hl)}}function OI(t,e,n){let r;if(ss(t)){let i=bt(t);return rs(i)||xg(i)}else if(NI(t))r=()=>bt(t.useValue);else if(EN(t))r=()=>t.useFactory(...Ag(t.deps||[]));else if(wN(t))r=()=>I(bt(t.useExisting));else{let i=bt(t&&(t.useClass||t.provide));if(TN(t))r=()=>new i(...Ag(t.deps));else return rs(i)||xg(i)}return r}function Yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function TN(t){return!!t.deps}function AN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function SN(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Pg(t,e){for(let n of t)Array.isArray(n)?Pg(n,e):n&&gI(n)?Pg(n.\u0275providers,e):e(n)}function mn(t,e){t instanceof za&&t.assertNotDestroyed();let n,r=Gr(t),i=Zt(void 0);try{return e()}finally{Gr(r),Zt(i)}}function FI(){return mI()!==void 0||YR()!=null}function MN(t){if(!FI())throw new j(-203,!1)}function xN(t){return typeof t=="function"}var Fn=0,ue=1,W=2,yt=3,fn=4,yn=5,Zl=6,Ga=7,pn=8,as=9,gn=10,Oe=11,Wa=12,PC=13,ps=14,Rn=15,vd=16,Zo=17,cs=18,_d=19,kI=20,Wr=21,dg=22,Bi=23,fr=25,Sm=1;var $i=7,Xl=8,ed=9,Xt=10,Mm=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Mm||{});function Li(t){return Array.isArray(t)&&typeof t[Sm]=="object"}function _r(t){return Array.isArray(t)&&t[Sm]===!0}function xm(t){return(t.flags&4)!==0}function wd(t){return t.componentOffset>-1}function Ed(t){return(t.flags&1)===1}function pr(t){return!!t.template}function PN(t){return(t[W]&512)!==0}var Rg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function VI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function kn(){return UI}function UI(t){return t.type.prototype.ngOnChanges&&(t.setInput=NN),RN}kn.ngInherit=!0;function RN(){let t=jI(this),e=t?.current;if(e){let n=t.previous;if(n===is)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function NN(t,e,n,r,i){let o=this.declaredInputs[r],s=jI(t)||ON(t,{previous:is,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Rg(u&&u.currentValue,n,c===is),VI(t,e,i,n)}var LI="__ngSimpleChanges__";function jI(t){return t[LI]||null}function ON(t,e){return t[LI]=e}var RC=null;var Mn=function(t,e,n){RC?.(t,e,n)},FN="svg",kN="math",VN=!1;function UN(){return VN}function Nn(t){for(;Array.isArray(t);)t=t[Fn];return t}function LN(t){for(;Array.isArray(t);){if(typeof t[Sm]=="object")return t;t=t[Fn]}return null}function BI(t,e){return Nn(e[t])}function en(t,e){return Nn(e[t.index])}function $I(t,e){return t.data[e]}function Zr(t,e){let n=e[t];return Li(n)?n:n[Fn]}function Pm(t){return(t[W]&128)===128}function jN(t){return _r(t[yt])}function us(t,e){return e==null?null:t[e]}function HI(t){t[Zo]=0}function BN(t){t[W]&1024||(t[W]|=1024,Pm(t)&&Ka(t))}function $N(t,e){for(;t>0;)e=e[ps],t--;return e}function Rm(t){return!!(t[W]&9216||t[Bi]?.dirty)}function Ng(t){t[gn].changeDetectionScheduler?.notify(1),Rm(t)?Ka(t):t[W]&64&&(UN()?(t[W]|=1024,Ka(t)):t[gn].changeDetectionScheduler?.notify())}function Ka(t){t[gn].changeDetectionScheduler?.notify();let e=Qa(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Pm(e)));)e=Qa(e)}function qI(t,e){if((t[W]&256)===256)throw new j(911,!1);t[Wr]===null&&(t[Wr]=[]),t[Wr].push(e)}function HN(t,e){if(t[Wr]===null)return;let n=t[Wr].indexOf(e);n!==-1&&t[Wr].splice(n,1)}function Qa(t){let e=t[yt];return _r(e)?e[yt]:e}var oe={lFrame:XI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qN(){return oe.lFrame.elementDepthCount}function zN(){oe.lFrame.elementDepthCount++}function GN(){oe.lFrame.elementDepthCount--}function zI(){return oe.bindingsEnabled}function WN(){return oe.skipHydrationRootTNode!==null}function KN(t){return oe.skipHydrationRootTNode===t}function QN(){oe.skipHydrationRootTNode=null}function ve(){return oe.lFrame.lView}function ft(){return oe.lFrame.tView}function wr(t){return oe.lFrame.contextLView=t,t[pn]}function Er(t){return oe.lFrame.contextLView=null,t}function St(){let t=GI();for(;t!==null&&t.type===64;)t=t.parent;return t}function GI(){return oe.lFrame.currentTNode}function JN(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wi(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Nm(){return oe.lFrame.isParent}function WI(){oe.lFrame.isParent=!1}function YN(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ZN(t){return oe.lFrame.bindingIndex=t}function nc(){return oe.lFrame.bindingIndex++}function KI(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function XN(){return oe.lFrame.inI18n}function eO(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Og(e)}function tO(){return oe.lFrame.currentDirectiveIndex}function Og(t){oe.lFrame.currentDirectiveIndex=t}function QI(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function JI(t){oe.lFrame.currentQueryIndex=t}function nO(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[yn]:null}function YI(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=nO(o),i===null||(o=o[ps],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=ZI();return r.currentTNode=e,r.lView=t,!0}function Om(t){let e=ZI(),n=t[ue];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZI(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?XI(t):e}function XI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eD(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tD=eD;function Fm(){let t=eD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rO(t){return(oe.lFrame.contextLView=$N(t,oe.lFrame.contextLView))[pn]}function Ki(){return oe.lFrame.selectedIndex}function Hi(t){oe.lFrame.selectedIndex=t}function Cd(){let t=oe.lFrame;return $I(t.tView,t.selectedIndex)}function iO(){return oe.lFrame.currentNamespace}var nD=!0;function Id(){return nD}function Dd(t){nD=t}function oO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=UI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function bd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function ql(t,e,n){rD(t,e,3,n)}function zl(t,e,n,r){(t[W]&3)===n&&rD(t,e,n,r)}function hg(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function rD(t,e,n,r){let i=r!==void 0?t[Zo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Zo]+=65536),(a<o||o==-1)&&(sO(t,n,e,c),t[Zo]=(t[Zo]&4294901760)+c+2),c++}function NC(t,e){Mn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Mn(5,t,e)}}function sO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[W]>>14<t[Zo]>>16&&(t[W]&3)===e&&(t[W]+=16384,NC(a,o)):NC(a,o)}var ns=-1,qi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function aO(t){return t instanceof qi}function cO(t){return(t.flags&8)!==0}function uO(t){return(t.flags&16)!==0}function iD(t){return t!==ns}function td(t){return t&32767}function lO(t){return t>>16}function nd(t,e){let n=lO(t),r=e;for(;n>0;)r=r[ps],n--;return r}var Fg=!0;function OC(t){let e=Fg;return Fg=t,e}var dO=256,oD=dO-1,sD=5,hO=0,xn={};function fO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty($a)&&(r=n[$a]),r==null&&(r=n[$a]=hO++);let i=r&oD,o=1<<i;e.data[t+(i>>sD)]|=o}function rd(t,e){let n=aD(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,fg(r.data,t),fg(e,null),fg(r.blueprint,null));let i=km(t,e),o=t.injectorIndex;if(iD(i)){let s=td(i),a=nd(i,e),c=a[ue].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function fg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function km(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=hD(i),r===null)return ns;if(n++,i=i[ps],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ns}function kg(t,e,n){fO(t,e,n)}function pO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(II(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function cD(t,e,n){if(n&ie.Optional||t!==void 0)return t;wm(e,"NodeInjector")}function uD(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[as],o=Zt(void 0);try{return i?i.get(e,r,n&ie.Optional):yI(e,r,n&ie.Optional)}finally{Zt(o)}}return cD(r,e,n)}function lD(t,e,n,r=ie.Default,i){if(t!==null){if(e[W]&2048&&!(r&ie.Self)){let s=_O(t,e,n,r,xn);if(s!==xn)return s}let o=dD(t,e,n,r,xn);if(o!==xn)return o}return uD(e,n,r,i)}function dD(t,e,n,r,i){let o=yO(n);if(typeof o=="function"){if(!YI(e,t,r))return r&ie.Host?cD(i,n,r):uD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))wm(n);else return s}finally{tD()}}else if(typeof o=="number"){let s=null,a=aD(t,e),c=ns,u=r&ie.Host?e[Rn][yn]:null;for((a===-1||r&ie.SkipSelf)&&(c=a===-1?km(t,e):e[a+8],c===ns||!kC(r,!1)?a=-1:(s=e[ue],a=td(c),e=nd(c,e)));a!==-1;){let l=e[ue];if(FC(o,a,l.data)){let d=gO(a,e,n,s,r,u);if(d!==xn)return d}c=e[a+8],c!==ns&&kC(r,e[ue].data[a+8]===u)&&FC(o,a,e)?(s=l,a=td(c),e=nd(c,e)):a=-1}}return i}function gO(t,e,n,r,i,o){let s=e[ue],a=s.data[t+8],c=r==null?wd(a)&&Fg:r!=s&&(a.type&3)!==0,u=i&ie.Host&&o===a,l=mO(a,s,n,c,u);return l!==null?ls(e,s,l,a):xn}function mO(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&pr(f)&&f.type===n)return c}return null}function ls(t,e,n,r){let i=t[n],o=e.data;if(aO(i)){let s=i;s.resolving&&GR(zR(o[n]));let a=OC(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Zt(s.injectImpl):null,l=YI(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&oO(n,o[n],e)}finally{u!==null&&Zt(u),OC(a),s.resolving=!1,tD()}}return i}function yO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty($a)?t[$a]:void 0;return typeof e=="number"?e>=0?e&oD:vO:e}function FC(t,e,n){let r=1<<t;return!!(n[e+(t>>sD)]&r)}function kC(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var ji=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lD(this._tNode,this._lView,e,md(r),n)}};function vO(){return new ji(St(),ve())}function gs(t){return Xa(()=>{let e=t.prototype.constructor,n=e[Kl]||Vg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Kl]||Vg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Vg(t){return dI(t)?()=>{let e=Vg(bt(t));return e&&e()}:rs(t)}function _O(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let a=dD(o,s,n,r|ie.Self,xn);if(a!==xn)return a;let c=o.parent;if(!c){let u=s[kI];if(u){let l=u.get(n,xn,r);if(l!==xn)return l}c=hD(s),s=s[ps]}o=c}return i}function hD(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[yn]:null}function Vm(t){return pO(St(),t)}function VC(t,e=null,n=null,r){let i=fD(t,e,n,r);return i.resolveInjectorInitializers(),i}function fD(t,e=null,n=null,r,i=new Set){let o=[n||Ut,bm(t)];return r=r||(typeof t=="object"?void 0:Tt(t)),new za(o,e||Am(),r||null,i)}var Ht=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return VC({name:""},i,r,"");{let o=r.name??"";return VC({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ha,e.NULL=new Yl,e.\u0275prov=k({token:e,providedIn:"any",factory:()=>I(wI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var wO="ngOriginalError";function pg(t){return t[wO]}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&pg(e);for(;n&&pg(n);)n=pg(n);return n||null}},pD=new R("",{providedIn:"root",factory:()=>D(On).handleError.bind(void 0)}),Um=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EO,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ug=class extends Um{constructor(e){super(),this._lView=e}onDestroy(e){return qI(this._lView,e),()=>HN(this._lView,e)}};function EO(){return new Ug(ve())}function CO(){return Td(St(),ve())}function Td(t,e){return new Vn(en(t,e))}var Vn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=CO;let t=e;return t})();var Lg=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,FI()&&(this.destroyRef=D(Um,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=gg(o),i&&(i=gg(i)),s&&(s=gg(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(a),a}};function gg(t){return e=>{setTimeout(t,void 0,e)}}var rt=Lg;function gD(t){return(t.flags&128)===128}var mD=new Map,IO=0;function DO(){return IO++}function bO(t){mD.set(t[_d],t)}function TO(t){mD.delete(t[_d])}var UC="__ngContext__";function Qr(t,e){Li(e)?(t[UC]=e[_d],bO(e)):t[UC]=e}function yD(t){return _D(t[Wa])}function vD(t){return _D(t[fn])}function _D(t){for(;t!==null&&!_r(t);)t=t[fn];return t}var jg;function wD(t){jg=t}function ED(){if(jg!==void 0)return jg;if(typeof document<"u")return document;throw new j(210,!1)}var Lm=new R("",{providedIn:"root",factory:()=>AO}),AO="ng",jm=new R(""),vt=new R("",{providedIn:"platform",factory:()=>"unknown"});var Bm=new R("",{providedIn:"root",factory:()=>ED().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SO="h",MO="b";var xO=()=>null;function $m(t,e,n=!1){return xO(t,e,n)}var CD=!1,PO=new R("",{providedIn:"root",factory:()=>CD});var Ul;function RO(){if(Ul===void 0&&(Ul=null,hr.trustedTypes))try{Ul=hr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ul}function Ad(t){return RO()?.createHTML(t)||t}var Ll;function ID(){if(Ll===void 0&&(Ll=null,hr.trustedTypes))try{Ll=hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ll}function LC(t){return ID()?.createHTML(t)||t}function jC(t){return ID()?.createScriptURL(t)||t}var gr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uI})`}},Bg=class extends gr{getTypeName(){return"HTML"}},$g=class extends gr{getTypeName(){return"Style"}},Hg=class extends gr{getTypeName(){return"Script"}},qg=class extends gr{getTypeName(){return"URL"}},zg=class extends gr{getTypeName(){return"ResourceURL"}};function tn(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}function Cr(t,e){let n=NO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${uI})`)}return n===e}function NO(t){return t instanceof gr&&t.getTypeName()||null}function DD(t){return new Bg(t)}function bD(t){return new $g(t)}function TD(t){return new Hg(t)}function AD(t){return new qg(t)}function SD(t){return new zg(t)}function OO(t){let e=new Wg(t);return FO()?new Gg(e):e}var Gg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ad(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Wg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ad(e),n}};function FO(){try{return!!new window.DOMParser().parseFromString(Ad(""),"text/html")}catch{return!1}}var kO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sd(t){return t=String(t),t.match(kO)?t:"unsafe:"+t}function Ir(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function rc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var MD=Ir("area,br,col,hr,img,wbr"),xD=Ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PD=Ir("rp,rt"),VO=rc(PD,xD),UO=rc(xD,Ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),LO=rc(PD,Ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),BC=rc(MD,UO,LO,VO),RD=Ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jO=Ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),BO=Ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),$O=rc(RD,jO,BO),HO=Ir("script,style,template"),Kg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=GO(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=zO(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=$C(e).toLowerCase();if(!BC.hasOwnProperty(n))return this.sanitizedSomething=!0,!HO.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!$O.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;RD[a]&&(c=Sd(c)),this.buf.push(" ",s,'="',HC(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=$C(e).toLowerCase();BC.hasOwnProperty(n)&&!MD.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(HC(e))}};function qO(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function zO(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw ND(e);return e}function GO(t){let e=t.firstChild;if(e&&qO(t,e))throw ND(e);return e}function $C(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function ND(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var WO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KO=/([^\#-~ |!])/g;function HC(t){return t.replace(/&/g,"&amp;").replace(WO,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(KO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var jl;function Hm(t,e){let n=null;try{jl=jl||OO(t);let r=e?String(e):"";n=jl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=jl.getInertBodyElement(r)}while(r!==o);let a=new Kg().sanitizeChildren(qC(n)||n);return Ad(a)}finally{if(n){let r=qC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function qC(t){return"content"in t&&QO(t)?t.content:null}function QO(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var qt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qt||{});function qm(t){let e=zm();return e?LC(e.sanitize(qt.HTML,t)||""):Cr(t,"HTML")?LC(tn(t)):Hm(ED(),ec(t))}function JO(t){let e=zm();return e?e.sanitize(qt.URL,t)||"":Cr(t,"URL")?tn(t):Sd(ec(t))}function YO(t){let e=zm();if(e)return jC(e.sanitize(qt.RESOURCE_URL,t)||"");if(Cr(t,"ResourceURL"))return jC(tn(t));throw new j(904,!1)}function ZO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?YO:JO}function OD(t,e,n){return ZO(e,n)(t)}function zm(){let t=ve();return t&&t[gn].sanitizer}var XO=/^>|^->|<!--|-->|--!>|<!-$/g,eF=/(<|>)/g,tF="\u200B$1\u200B";function nF(t){return t.replace(XO,e=>e.replace(eF,tF))}function FD(t){return t instanceof Function?t():t}function rF(t){return(t??D(Ht)).get(vt)==="browser"}var mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(mr||{}),iF;function Gm(t,e){return iF(t,e)}function Xo(t,e,n,r,i){if(r!=null){let o,s=!1;_r(r)?o=r:Li(r)&&(s=!0,r=r[Fn]);let a=Nn(r);t===0&&n!==null?i==null?jD(e,n,a):id(e,n,a,i||null,!0):t===1&&n!==null?id(e,n,a,i||null,!0):t===2?CF(e,a,s):t===3&&e.destroyNode(a),o!=null&&DF(e,t,o,n,i)}}function oF(t,e){return t.createText(e)}function sF(t,e,n){t.setValue(e,n)}function aF(t,e){return t.createComment(nF(e))}function kD(t,e,n){return t.createElement(e,n)}function cF(t,e){VD(t,e),e[Fn]=null,e[yn]=null}function uF(t,e,n,r,i,o){r[Fn]=i,r[yn]=e,xd(t,r,n,1,i,o)}function VD(t,e){e[gn].changeDetectionScheduler?.notify(1),xd(t,e,e[Oe],2,null,null)}function lF(t){let e=t[Wa];if(!e)return mg(t[ue],t);for(;e;){let n=null;if(Li(e))n=e[Wa];else{let r=e[Xt];r&&(n=r)}if(!n){for(;e&&!e[fn]&&e!==t;)Li(e)&&mg(e[ue],e),e=e[yt];e===null&&(e=t),Li(e)&&mg(e[ue],e),n=e&&e[fn]}e=n}}function dF(t,e,n,r){let i=Xt+r,o=n.length;r>0&&(n[i-1][fn]=e),r<o-Xt?(e[fn]=n[i],_I(n,Xt+r,e)):(n.push(e),e[fn]=null),e[yt]=n;let s=e[vd];s!==null&&n!==s&&hF(s,e);let a=e[cs];a!==null&&a.insertView(t),Ng(e),e[W]|=128}function hF(t,e){let n=t[ed],i=e[yt][yt][Rn];e[Rn]!==i&&(t[W]|=Mm.HasTransplantedViews),n===null?t[ed]=[e]:n.push(e)}function UD(t,e){let n=t[ed],r=n.indexOf(e);n.splice(r,1)}function Qg(t,e){if(t.length<=Xt)return;let n=Xt+e,r=t[n];if(r){let i=r[vd];i!==null&&i!==t&&UD(i,r),e>0&&(t[n-1][fn]=r[fn]);let o=Jl(t,Xt+e);cF(r[ue],r);let s=o[cs];s!==null&&s.detachView(o[ue]),r[yt]=null,r[fn]=null,r[W]&=-129}return r}function LD(t,e){if(!(e[W]&256)){let n=e[Oe];n.destroyNode&&xd(t,e,n,3,null,null),lF(e)}}function mg(t,e){if(e[W]&256)return;let n=pe(null);try{e[W]&=-129,e[W]|=256,e[Bi]&&XE(e[Bi]),pF(t,e),fF(t,e),e[ue].type===1&&e[Oe].destroy();let r=e[vd];if(r!==null&&_r(e[yt])){r!==e[yt]&&UD(r,e);let i=e[cs];i!==null&&i.detachView(t)}TO(e)}finally{pe(n)}}function fF(t,e){let n=t.cleanup,r=e[Ga];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ga]=null);let i=e[Wr];if(i!==null){e[Wr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function pF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Mn(4,a,c);try{c.call(a)}finally{Mn(5,a,c)}}else{Mn(4,i,o);try{o.call(i)}finally{Mn(5,i,o)}}}}}function gF(t,e,n){return mF(t,e.parent,n)}function mF(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Fn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Pn.None||o===Pn.Emulated)return null}return en(r,n)}}function id(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jD(t,e,n){t.appendChild(e,n)}function zC(t,e,n,r,i){r!==null?id(t,e,n,r,i):jD(t,e,n)}function yF(t,e,n,r){t.removeChild(e,n,r)}function Wm(t,e){return t.parentNode(e)}function vF(t,e){return t.nextSibling(e)}function _F(t,e,n){return EF(t,e,n)}function wF(t,e,n){return t.type&40?en(t,n):null}var EF=wF,GC;function Md(t,e,n,r){let i=gF(t,r,e),o=e[Oe],s=r.parent||e[yn],a=_F(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)zC(o,i,n[c],a,!1);else zC(o,i,n,a,!1);GC!==void 0&&GC(o,r,e,n,i)}function Gl(t,e){if(e!==null){let n=e.type;if(n&3)return en(e,t);if(n&4)return Jg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gl(t,r);{let i=t[e.index];return _r(i)?Jg(-1,i):Nn(i)}}else{if(n&32)return Gm(e,t)()||Nn(t[e.index]);{let r=BD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qa(t[Rn]);return Gl(i,r)}else return Gl(t,e.next)}}}return null}function BD(t,e){if(e!==null){let r=t[Rn][yn],i=e.projection;return r.projection[i]}return null}function Jg(t,e){let n=Xt+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Gl(r,i)}return e[$i]}function CF(t,e,n){let r=Wm(t,e);r&&yF(t,r,e,n)}function Km(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Qr(Nn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Km(t,e,n.child,r,i,o,!1),Xo(e,t,i,a,o);else if(c&32){let u=Gm(n,r),l;for(;l=u();)Xo(e,t,i,l,o);Xo(e,t,i,a,o)}else c&16?IF(t,e,r,n,i,o):Xo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function xd(t,e,n,r,i,o){Km(n,r,t.firstChild,e,i,o,!1)}function IF(t,e,n,r,i,o){let s=n[Rn],c=s[yn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Xo(e,t,i,l,o)}else{let u=c,l=s[yt];gD(r)&&(u.flags|=128),Km(t,e,u,l,i,o,!0)}}function DF(t,e,n,r,i){let o=n[$i],s=Nn(n);o!==s&&Xo(e,t,r,o,i);for(let a=Xt;a<n.length;a++){let c=n[a];xd(c[ue],c,t,e,r,o)}}function bF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:mr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mr.Important),t.setStyle(n,r,i,o))}}function TF(t,e,n){t.setAttribute(e,"style",n)}function $D(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Sg(t,e,r),i!==null&&$D(t,e,i),o!==null&&TF(t,e,o)}var Dr={};function ne(t=1){qD(ft(),ve(),Ki()+t,!1)}function qD(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ql(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zl(e,o,0,n)}Hi(n)}function N(t,e=ie.Default){let n=ve();if(n===null)return I(t,e);let r=St();return lD(r,n,bt(t),e)}function zD(){let t="invalid";throw new Error(t)}function GD(t,e,n,r,i,o){let s=pe(null);try{let a=null;i&Le.SignalBased&&(a=e[r][jp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Le.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):VI(e,a,r,o)}finally{pe(s)}}function AF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hi(~i);else{let o=i,s=n[++r],a=n[++r];eO(s,o);let c=e[o];a(2,c)}}}finally{Hi(-1)}}function Pd(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[Fn]=i,d[W]=r|4|128|8|64,(u!==null||t&&t[W]&2048)&&(d[W]|=2048),HI(d),d[yt]=d[ps]=t,d[pn]=n,d[gn]=s||t&&t[gn],d[Oe]=a||t&&t[Oe],d[as]=c||t&&t[as]||null,d[yn]=o,d[_d]=DO(),d[Zl]=l,d[kI]=u,d[Rn]=e.type==2?t[Rn]:d,d}function ic(t,e,n,r,i){let o=t.data[e];if(o===null)o=SF(t,e,n,r,i),XN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=JN();o.injectorIndex=s===null?-1:s.injectorIndex}return Wi(o,!0),o}function SF(t,e,n,r,i){let o=GI(),s=Nm(),a=s?o:o&&o.parent,c=t.data[e]=NF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function WD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KD(t,e,n,r,i){let o=Ki(),s=r&2;try{Hi(-1),s&&e.length>fr&&qD(t,e,fr,!1),Mn(s?2:0,i),n(r,i)}finally{Hi(o),Mn(s?3:1,i)}}function Qm(t,e,n){if(xm(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{pe(r)}}}function Jm(t,e,n){zI()&&(LF(t,e,n,en(n,e)),(n.flags&64)===64&&YD(t,e,n))}function Ym(t,e,n=en){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function QD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zm(t,e,n,r,i,o,s,a,c,u,l){let d=fr+r,h=d+i,f=MF(d,h),g=typeof u=="function"?u():u;return f[ue]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function MF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dr);return n}function xF(t,e,n,r){let o=r.get(PO,CD)||n===Pn.ShadowDom,s=t.selectRootElement(e,o);return PF(s),s}function PF(t){RF(t)}var RF=()=>null;function NF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return WN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function WC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Le.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?KC(r,n,u,a,c):KC(r,n,u,a)}return r}function KC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function OF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=WC(0,d.inputs,l,c,f),u=WC(1,d.outputs,l,u,g);let _=c!==null&&s!==null&&!Dm(e)?JF(c,l,s):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function FF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xm(t,e,n,r,i,o,s,a){let c=en(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(ty(t,n,l,r,i),wd(e)&&kF(n,e.index)):e.type&3?(r=FF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function kF(t,e){let n=Zr(e,t);n[W]&16||(n[W]|=64)}function ey(t,e,n,r){if(zI()){let i=r===null?null:{"":-1},o=BF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&JD(t,e,n,s,i,a),i&&$F(n,r,i)}n.mergedAttrs=qa(n.mergedAttrs,n.attrs)}function JD(t,e,n,r,i,o){for(let u=0;u<r.length;u++)kg(rd(n,e),t,r[u].type);qF(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=WD(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=qa(n.mergedAttrs,l.hostAttrs),zF(t,n,e,c,l),HF(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}OF(t,n,o)}function VF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;UF(s)!=a&&s.push(a),s.push(n,r,o)}}function UF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function LF(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;wd(n)&&GF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rd(n,e),Qr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=ls(e,t,a,n);if(Qr(u,e),s!==null&&QF(e,a-i,u,c,n,s),pr(c)){let l=Zr(n.index,e);l[pn]=ls(e,t,a,n)}}}function YD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=tO();try{Hi(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Og(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jF(c,u)}}finally{Hi(-1),Og(s)}}function jF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(lN(e,s.selectors,!1))if(r||(r=[]),pr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Yg(t,e,c)}else r.unshift(s),Yg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Yg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $F(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}}function HF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pr(e)&&(n[""]=t)}}function qF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=rs(i.type,!0)),s=new qi(o,pr(i),N);t.blueprint[r]=s,n[r]=s,VF(t,e,r,WD(t,n,i.hostVars,Dr),i)}function GF(t,e,n){let r=en(e,t),i=QD(n),o=t[gn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Rd(t,Pd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function WF(t,e,n,r,i,o){let s=en(t,e);KF(e[Oe],s,o,t.value,n,r,i)}function KF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ec(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function QF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];GD(r,n,c,u,l,d)}}function JF(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function ZD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function XD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];JI(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Rd(t,e){return t[Wa]?t[PC][fn]=e:t[Wa]=e,t[PC]=e,e}function Zg(t,e,n){JI(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function YF(t){return t[Ga]||(t[Ga]=[])}function ZF(t){return t.cleanup||(t.cleanup=[])}function XF(t,e,n){return(t===null||pr(t))&&(n=LN(n[e.index])),n[Oe]}function eb(t,e){let n=t[as],r=n?n.get(On,null):null;r&&r.handleError(e)}function ty(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];GD(l,u,r,a,c,i)}}function ek(t,e,n){let r=BI(e,t);sF(t[Oe],r,n)}function tk(t,e){let n=Zr(e,t),r=n[ue];nk(r,n);let i=n[Fn];i!==null&&n[Zl]===null&&(n[Zl]=$m(i,n[as])),ny(r,n,n[pn])}function nk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ny(t,e,n){Om(e);try{let r=t.viewQuery;r!==null&&Zg(1,r,n);let i=t.template;i!==null&&KD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cs]?.finishViewCreation(t),t.staticContentQueries&&XD(t,e),t.staticViewQueries&&Zg(2,t.viewQuery,n);let o=t.components;o!==null&&rk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,Fm()}}function rk(t,e){for(let n=0;n<e.length;n++)tk(t,e[n])}function ik(t,e,n,r){let i=pe(null);try{let o=e.tView,a=t[W]&4096?4096:16,c=Pd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[vd]=u;let l=t[cs];return l!==null&&(c[cs]=l.createEmbeddedView(o)),ny(o,c,n),c}finally{pe(i)}}function QC(t,e){return!e||e.firstChild===null||gD(t)}function ok(t,e,n,r=!0){let i=e[ue];if(dF(i,e,t,n),r){let s=Jg(n,t),a=e[Oe],c=Wm(a,t[$i]);c!==null&&uF(i,t[yn],a,e,c,s)}let o=e[Zl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function od(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Nn(o)),_r(o)&&sk(o,r);let s=n.type;if(s&8)od(t,e,n.child,r);else if(s&32){let a=Gm(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=BD(e,n);if(Array.isArray(a))r.push(...a);else{let c=Qa(e[Rn]);od(c[ue],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sk(t,e){for(let n=Xt;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&od(r[ue],r,i,e)}t[$i]!==t[Fn]&&e.push(t[$i])}var tb=[];function ak(t){return t[Bi]??ck(t)}function ck(t){let e=tb.pop()??Object.create(lk);return e.lView=t,e}function uk(t){t.lView[Bi]!==t&&(t.lView=null,tb.push(t))}var lk=ae(A({},JE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ka(t.lView)},consumerOnSignalRead(){this.lView[Bi]=this}}),nb=100;function rb(t,e=!0,n=0){let r=t[gn],i=r.rendererFactory,o=!1;o||i.begin?.();try{dk(t,n)}catch(s){throw e&&eb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function dk(t,e){Xg(t,e);let n=0;for(;Rm(t);){if(n===nb)throw new j(103,!1);n++,Xg(t,1)}}function hk(t,e,n,r){let i=e[W];if((i&256)===256)return;let o=!1;!o&&e[gn].inlineEffectRunner?.flush(),Om(e);let s=null,a=null;!o&&fk(t)&&(a=ak(e),s=YE(a));try{HI(e),ZN(t.bindingStartIndex),n!==null&&KD(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&ql(e,d,null)}else{let d=t.preOrderHooks;d!==null&&zl(e,d,0,null),hg(e,0)}if(pk(e),ib(e,0),t.contentQueries!==null&&XD(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&ql(e,d)}else{let d=t.contentHooks;d!==null&&zl(e,d,1),hg(e,1)}AF(t,e);let u=t.components;u!==null&&sb(e,u,0);let l=t.viewQuery;if(l!==null&&Zg(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&ql(e,d)}else{let d=t.viewHooks;d!==null&&zl(e,d,2),hg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[dg]){for(let d of e[dg])d();e[dg]=null}o||(e[W]&=-73)}catch(c){throw Ka(e),c}finally{a!==null&&(ZE(a,s),uk(a)),Fm()}}function fk(t){return t.type!==2}function ib(t,e){for(let n=yD(t);n!==null;n=vD(n))for(let r=Xt;r<n.length;r++){let i=n[r];ob(i,e)}}function pk(t){for(let e=yD(t);e!==null;e=vD(e)){if(!(e[W]&Mm.HasTransplantedViews))continue;let n=e[ed];for(let r=0;r<n.length;r++){let i=n[r],o=i[yt];BN(i)}}}function gk(t,e,n){let r=Zr(e,t);ob(r,n)}function ob(t,e){Pm(t)&&Xg(t,e)}function Xg(t,e){let r=t[ue],i=t[W],o=t[Bi],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bp(o)),o&&(o.dirty=!1),t[W]&=-9217,s)hk(r,t,r.template,t[pn]);else if(i&8192){ib(t,1);let a=r.components;a!==null&&sb(t,a,1)}}function sb(t,e,n){for(let r=0;r<e.length;r++)gk(t,e[r],n)}function ry(t){for(t[gn].changeDetectionScheduler?.notify();t;){t[W]|=64;let e=Qa(t);if(PN(t)&&!e)return t;t=e}return null}var zi=class{get rootNodes(){let e=this._lView,n=e[ue];return od(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(_r(e)){let n=e[Xl],r=n?n.indexOf(this):-1;r>-1&&(Qg(e,r),Jl(n,r))}this._attachedToViewContainer=!1}LD(this._lView[ue],this._lView)}onDestroy(e){qI(this._lView,e)}markForCheck(){ry(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){Ng(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,rb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,VD(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,Ng(this._lView)}},Nd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vk;let t=e;return t})(),mk=Nd,yk=class extends mk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ik(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new zi(i)}};function vk(){return _k(St(),ve())}function _k(t,e){return t.type&4?new yk(e,t,Td(t,e)):null}var W8=new RegExp(`^(\\d+)*(${MO}|${SO})*(.*)`);var wk=()=>null;function JC(t,e){return wk(t,e)}var sd=class{},em=class{},ad=class{};function Ek(t){let e=Error(`No component factory found for ${Tt(t)}.`);return e[Ck]=t,e}var Ck="ngComponent";var tm=class{resolveComponentFactory(e){throw Ek(e)}},ms=(()=>{let e=class e{};e.NULL=new tm;let t=e;return t})(),Ja=class{},Xr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Ik();let t=e;return t})();function Ik(){let t=ve(),e=St(),n=Zr(e.index,t);return(Li(n)?n:t)[Oe]}var Dk=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),yg={};var YC=new Set;function Od(t){YC.has(t)||(YC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ZC(...t){}function bk(){let t=typeof hr.requestAnimationFrame=="function",e=hr[t?"requestAnimationFrame":"setTimeout"],n=hr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var le=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=bk().nativeRequestAnimationFrame,Sk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Tk,ZC,ZC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Tk={};function iy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ak(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(hr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nm(t),t.isCheckStableRunning=!0,iy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nm(t))}function Sk(t){let e=()=>{Ak(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Mk(a))return n.invokeTask(i,o,s,a);try{return XC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),eI(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return XC(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),eI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,nm(t),iy(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function nm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function XC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eI(t){t._nesting--,iy(t)}function Mk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var es=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(es||{}),xk={destroy(){}};function oy(t,e){!e&&MN(oy);let n=e?.injector??D(Ht);if(!rF(n))return xk;Od("NgAfterNextRender");let r=n.get(sy),i=r.handler??=new im,o=e?.phase??es.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(Um).onDestroy(s),c=mn(n,()=>new rm(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var rm=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=D(le),this.errorHandler=D(On,{optional:!0}),D(sd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},im=class{constructor(){this.executingCallbacks=!1,this.buckets={[es.EarlyRead]:new Set,[es.Write]:new Set,[es.MixedReadWrite]:new Set,[es.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},sy=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function cd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Dg(i,a);else if(o==2){let c=a,u=e[++s];r=Dg(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ud=class extends ms{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new ds(n,this.ngModule)}};function tI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Pk(t){let e=t.toLowerCase();return e==="svg"?FN:e==="math"?kN:null}var om=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=md(r);let i=this.injector.get(e,yg,r);return i!==yg||n===yg?i:this.parentInjector.get(e,n,r)}},ds=class extends ad{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=tI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=pN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=pe(null);try{i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new om(e,s):e,c=a.get(Ja,null);if(c===null)throw new j(407,!1);let u=a.get(Dk,null),l=a.get(sy,null),d=a.get(sd,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?xF(f,r,this.componentDef.encapsulation,a):kD(f,g,Pk(g)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let E=null;_!==null&&(E=$m(_,a,!0));let U=Zm(0,null,null,1,0,null,null,null,null,null,null),T=Pd(null,U,null,y,null,null,h,f,a,null,E);Om(T);let V,q;try{let G=this.componentDef,ye,Ft=null;G.findHostDirectiveDefs?(ye=[],Ft=new Map,G.findHostDirectiveDefs(G,ye,Ft),ye.push(G)):ye=[G];let Op=Rk(T,_),nl=Nk(Op,_,G,ye,T,h,f);q=$I(U,fr),_&&kk(f,G,_,r),n!==void 0&&Vk(q,this.ngContentSelectors,n),V=Fk(nl,G,ye,Ft,T,[Uk]),ny(U,T,null)}finally{Fm()}return new sm(this.componentType,V,Td(q,T),T,q)}finally{pe(o)}}},sm=class extends em{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ty(o[ue],o,i,e,n),this.previousInputValues.set(e,n);let s=Zr(this._tNode.index,o);ry(s)}}get injector(){return new ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Rk(t,e){let n=t[ue],r=fr;return t[r]=e,ic(n,r,2,"#host",null)}function Nk(t,e,n,r,i,o,s){let a=i[ue];Ok(r,t,e,s);let c=null;e!==null&&(c=$m(e,i[as]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Pd(i,QD(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Yg(a,t,r.length-1),Rd(i,d),i[t.index]=d}function Ok(t,e,n,r){for(let i of t)e.mergedAttrs=qa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cd(e,e.mergedAttrs,!0),n!==null&&HD(r,n,e))}function Fk(t,e,n,r,i,o){let s=St(),a=i[ue],c=en(s,i);JD(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=ls(i,a,d,s);Qr(h,i)}YD(a,i,s),c&&Qr(c,i);let u=ls(i,a,s.directiveStart+s.componentOffset,s);if(t[pn]=i[pn]=u,o!==null)for(let l of o)l(u,e);return Qm(a,s,i),u}function kk(t,e,n,r){if(r)Sg(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:o}=gN(e.selectors[0]);i&&Sg(t,n,i),o&&o.length>0&&$D(t,n,o.join(" "))}}function Vk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Uk(){let t=St();bd(ve()[ue],t)}var ys=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Lk;let t=e;return t})();function Lk(){let t=St();return Bk(t,ve())}var jk=ys,ab=class extends jk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=km(this._hostTNode,this._hostLView);if(iD(e)){let n=nd(e,this._hostLView),r=td(e),i=n[ue].data[r+8];return new ji(i,n)}else return new ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=nI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=JC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,QC(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!xN(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new ds(Kr(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?u:this.parentInjector).get(At,null);_&&(o=_)}let l=Kr(c.componentType??{}),d=JC(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,o);return this.insertImpl(f.hostView,a,QC(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(jN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[yt],u=new ab(c,c[yn],c[yt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ok(s,i,o,r),e.attachToViewContainerRef(),_I(vg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=nI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Qg(this._lContainer,n);r&&(Jl(vg(this._lContainer),n),LD(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=Qg(this._lContainer,n);return r&&Jl(vg(this._lContainer),n)!=null?new zi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function nI(t){return t[Xl]}function vg(t){return t[Xl]||(t[Xl]=[])}function Bk(t,e){let n,r=e[t.index];return _r(r)?n=r:(n=ZD(r,e,null,t),e[t.index]=n,Rd(e,n)),Hk(n,e,t,r),new ab(n,t,e)}function $k(t,e){let n=t[Oe],r=n.createComment(""),i=en(e,t),o=Wm(n,i);return id(n,o,r,vF(n,i),!1),r}var Hk=Gk,qk=()=>!1;function zk(t,e,n){return qk(t,e,n)}function Gk(t,e,n,r){if(t[$i])return;let i;n.type&8?i=Nn(r):i=$k(e,n),t[$i]=i}function Wk(t){return typeof t=="function"&&t[jp]!==void 0}function cb(t){return Wk(t)&&typeof t.set=="function"}function Kk(t){return Object.getPrototypeOf(t.prototype).constructor}function vn(t){let e=Kk(t.type),n=!0,r=[t];for(;e;){let i;if(pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Bl(t.inputs),s.inputTransforms=Bl(t.inputTransforms),s.declaredInputs=Bl(t.declaredInputs),s.outputs=Bl(t.outputs);let a=i.hostBindings;a&&Xk(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Yk(t,c),u&&Zk(t,u),Qk(t,i),VR(t.outputs,i.outputs),pr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===vn&&(n=!1)}}e=Object.getPrototypeOf(e)}Jk(r)}function Qk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Jk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qa(i.hostAttrs,n=qa(n,i.hostAttrs))}}function Bl(t){return t===is?{}:t===Ut?[]:t}function Yk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Zk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Xk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ay(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Jr=class{},Ya=class{};var am=class extends Jr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ud(this);let i=SI(e);this._bootstrapComponents=FD(i.bootstrap),this._r3Injector=fD(e,n,[{provide:Jr,useValue:this},{provide:ms,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cm=class extends Ya{constructor(e){super(),this.moduleType=e}create(e){return new am(this.moduleType,e,[])}};var ld=class extends Jr{constructor(e){super(),this.componentFactoryResolver=new ud(this),this.instance=null;let n=new za([...e.providers,{provide:Jr,useValue:this},{provide:ms,useValue:this.componentFactoryResolver}],e.parent||Am(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fd(t,e,n=null){return new ld({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Qi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ub(t){return t2(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function e2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function t2(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function n2(t,e,n){return t[e]=n}function r2(t,e){return t[e]}function Ji(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function i2(t){return(t.flags&32)===32}function o2(t,e,n,r,i,o,s,a,c){let u=e.consts,l=ic(e,t,4,s||null,us(u,a));ey(e,n,l,us(u,c)),bd(e,l);let d=l.tView=Zm(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Un(t,e,n,r,i,o,s,a){let c=ve(),u=ft(),l=t+fr,d=u.firstCreatePass?o2(l,u,c,e,n,r,i,o,s):u.data[l];Wi(d,!1);let h=s2(u,c,d,t);Id()&&Md(u,c,h,d),Qr(h,c);let f=ZD(h,c,h,d);return c[l]=f,Rd(c,f),zk(f,d,c),Ed(d)&&Jm(u,c,d),s!=null&&Ym(c,d,a),Un}var s2=a2;function a2(t,e,n,r){return Dd(!0),e[Oe].createComment("")}function Ln(t,e,n,r){let i=ve(),o=nc();if(Ji(i,o,e)){let s=ft(),a=Cd();WF(a,i,t,e,n,r)}return Ln}function c2(t,e,n,r){return Ji(t,nc(),n)?e+ec(n)+r:Dr}function $l(t,e){return t<<17|e<<2}function Gi(t){return t>>17&32767}function u2(t){return(t&2)==2}function l2(t,e){return t&131071|e<<17}function um(t){return t|2}function hs(t){return(t&131068)>>2}function _g(t,e){return t&-131069|e<<2}function d2(t){return(t&1)===1}function lm(t){return t|1}function h2(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gi(s),c=hs(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||tc(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Gi(t[a+1]);t[r+1]=$l(h,a),h!==0&&(t[h+1]=_g(t[h+1],r)),t[a+1]=l2(t[a+1],r)}else t[r+1]=$l(a,0),a!==0&&(t[a+1]=_g(t[a+1],r)),a=r;else t[r+1]=$l(c,0),a===0?a=r:t[c+1]=_g(t[c+1],r),c=r;u&&(t[r+1]=um(t[r+1])),rI(t,l,r,!0),rI(t,l,r,!1),f2(e,l,t,r,o),s=$l(a,c),o?e.classBindings=s:e.styleBindings=s}function f2(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&tc(o,e)>=0&&(n[r+1]=lm(n[r+1]))}function rI(t,e,n,r){let i=t[n+1],o=e===null,s=r?Gi(i):hs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];p2(c,e)&&(a=!0,t[s+1]=r?lm(u):um(u)),s=r?Gi(u):hs(u)}a&&(t[n+1]=r?um(i):lm(i))}function p2(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?tc(t,e)>=0:!1}var hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g2(t){return t.substring(hn.key,hn.keyEnd)}function m2(t){return y2(t),lb(t,db(t,0,hn.textEnd))}function lb(t,e){let n=hn.textEnd;return n===e?-1:(e=hn.keyEnd=v2(t,hn.key=e,n),db(t,e,n))}function y2(t){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=t.length}function db(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function v2(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ee(t,e,n){let r=ve(),i=nc();if(Ji(r,i,e)){let o=ft(),s=Cd();Xm(o,s,r,t,e,r[Oe],n,!1)}return Ee}function dm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ty(t,n,o[s],s,r)}function Yi(t,e,n){return hb(t,e,n,!1),Yi}function kd(t,e){return hb(t,e,null,!0),kd}function br(t){w2(T2,_2,t,!0)}function _2(t,e){for(let n=m2(e);n>=0;n=lb(e,n))Im(t,g2(e),!0)}function hb(t,e,n,r){let i=ve(),o=ft(),s=KI(2);if(o.firstUpdatePass&&pb(o,t,s,r),e!==Dr&&Ji(i,s,e)){let a=o.data[Ki()];gb(o,a,i,i[Oe],t,i[s+1]=S2(e,n),r,s)}}function w2(t,e,n,r){let i=ft(),o=KI(2);i.firstUpdatePass&&pb(i,null,o,r);let s=ve();if(n!==Dr&&Ji(s,o,n)){let a=i.data[Ki()];if(mb(a,r)&&!fb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Dg(c,n||"")),dm(i,a,s,n,r)}else A2(i,a,s,s[Oe],s[o+1],s[o+1]=b2(t,e,n),r,o)}}function fb(t,e){return e>=t.expandoStartIndex}function pb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ki()],s=fb(t,n);mb(o,r)&&e===null&&!s&&(e=!1),e=E2(i,o,e,r),h2(i,o,e,n,s,r)}}function E2(t,e,n,r){let i=QI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wg(null,t,e,n,r),n=Za(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=wg(i,t,e,n,r),o===null){let c=C2(t,e,r);c!==void 0&&Array.isArray(c)&&(c=wg(null,t,e,c[1],r),c=Za(c,e.attrs,r),I2(t,e,r,c))}else o=D2(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function C2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(hs(r)!==0)return t[Gi(r)]}function I2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Gi(i)]=r}function D2(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Za(r,s,n)}return Za(r,e.attrs,n)}function wg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Za(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Za(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Im(t,s,n?!0:e[++o]))}return t===void 0?null:t}function b2(t,e,n){if(n==null||n==="")return Ut;let r=[],i=tn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function T2(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Im(t,r,n)}function A2(t,e,n,r,i,o,s,a){i===Dr&&(i=Ut);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0,g=null,_;l===d?(c+=2,u+=2,h!==f&&(g=d,_=f)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,_=f),g!==null&&gb(t,e,n,r,g,_,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}function gb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=d2(u)?iI(c,e,n,i,hs(u),s):void 0;if(!dd(l)){dd(o)||u2(u)&&(o=iI(c,null,n,i,a,s));let d=BI(Ki(),n);bF(r,s,d,i,o)}}function iI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Dr&&(h=d?Ut:void 0);let f=d?ug(h,r):l===r?h:void 0;if(u&&!dd(f)&&(f=ug(c,r)),dd(f)&&(a=f,s))return a;let g=t[i+1];i=s?Gi(g):hs(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ug(c,r))}return a}function dd(t){return t!==void 0}function S2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Tt(tn(t)))),t}function mb(t,e){return(t.flags&(e?8:16))!==0}function M2(t,e,n,r,i,o){let s=e.consts,a=us(s,i),c=ic(e,t,2,r,a);return ey(e,n,c,us(s,o)),c.attrs!==null&&cd(c,c.attrs,!1),c.mergedAttrs!==null&&cd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function b(t,e,n,r){let i=ve(),o=ft(),s=fr+t,a=i[Oe],c=o.firstCreatePass?M2(s,o,i,e,n,r):o.data[s],u=x2(o,i,c,a,e,t);i[s]=u;let l=Ed(c);return Wi(c,!0),HD(a,u,c),!i2(c)&&Id()&&Md(o,i,u,c),qN()===0&&Qr(u,i),zN(),l&&(Jm(o,i,c),Qm(o,c,i)),r!==null&&Ym(i,c),b}function S(){let t=St();Nm()?WI():(t=t.parent,Wi(t,!1));let e=t;KN(e)&&QN(),GN();let n=ft();return n.firstCreatePass&&(bd(n,t),xm(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&cO(e)&&dm(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&uO(e)&&dm(n,e,ve(),e.stylesWithoutHost,!1),S}function z(t,e,n,r){return b(t,e,n,r),S(),z}var x2=(t,e,n,r,i,o)=>(Dd(!0),kD(r,i,iO()));function P2(t,e,n,r,i){let o=e.consts,s=us(o,r),a=ic(e,t,8,"ng-container",s);s!==null&&cd(a,s,!0);let c=us(o,i);return ey(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Vd(t,e,n){let r=ve(),i=ft(),o=t+fr,s=i.firstCreatePass?P2(o,i,r,e,n):i.data[o];Wi(s,!0);let a=R2(i,r,s,t);return r[o]=a,Id()&&Md(i,r,a,s),Qr(a,r),Ed(s)&&(Jm(i,r,s),Qm(i,s,r)),n!=null&&Ym(r,s),Vd}function Ud(){let t=St(),e=ft();return Nm()?WI():(t=t.parent,Wi(t,!1)),e.firstCreatePass&&(bd(e,t),xm(t)&&e.queries.elementEnd(t)),Ud}var R2=(t,e,n,r)=>(Dd(!0),aF(e[Oe],""));function vs(){return ve()}function cy(t,e,n){let r=ve(),i=nc();if(Ji(r,i,e)){let o=ft(),s=Cd(),a=QI(o.data),c=XF(a,s,r);Xm(o,s,r,t,e,c,n,!0)}return cy}var hd="en-US";var N2=hd;function O2(t){typeof t=="string"&&(N2=t.toLowerCase().replace(/_/g,"-"))}function J(t,e,n,r){let i=ve(),o=ft(),s=St();return yb(o,i,i[Oe],s,t,e,r),J}function F2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ga],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function yb(t,e,n,r,i,o,s){let a=Ed(r),u=t.firstCreatePass&&ZF(t),l=e[pn],d=YF(e),h=!0;if(r.type&3||s){let _=en(r,e),y=s?s(_):_,E=d.length,U=s?V=>s(Nn(V[r.index])):r.index,T=null;if(!s&&a&&(T=F2(t,e,i,r.index)),T!==null){let V=T.__ngLastListenerFn__||T;V.__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,h=!1}else{o=sI(r,e,l,o,!1);let V=n.listen(y,i,o);d.push(o,V),u&&u.push(i,U,E,E+1)}}else o=sI(r,e,l,o,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let _=g.length;if(_)for(let y=0;y<_;y+=2){let E=g[y],U=g[y+1],q=e[E][U].subscribe(o),G=d.length;d.push(o,q),u&&u.push(i,r.index,G,-(G+1))}}}function oI(t,e,n,r){let i=pe(null);try{return Mn(6,e,n),n(r)!==!1}catch(o){return eb(t,o),!1}finally{Mn(7,e,n),pe(i)}}function sI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Zr(t.index,e):e;ry(a);let c=oI(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=oI(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function Be(t=1){return rO(t)}function O(t,e=""){let n=ve(),r=ft(),i=t+fr,o=r.firstCreatePass?ic(r,i,1,e,null):r.data[i],s=k2(r,n,o,e,t);n[i]=s,Id()&&Md(r,n,s,o),Wi(o,!1)}var k2=(t,e,n,r,i)=>(Dd(!0),oF(e[Oe],r));function uy(t){return it("",t,""),uy}function it(t,e,n){let r=ve(),i=c2(r,t,e,n);return i!==Dr&&ek(r,Ki(),i),it}function ly(t,e,n){cb(e)&&(e=e());let r=ve(),i=nc();if(Ji(r,i,e)){let o=ft(),s=Cd();Xm(o,s,r,t,e,r[Oe],n,!1)}return ly}function vb(t,e){let n=cb(t);return n&&t.set(e),n}function dy(t,e){let n=ve(),r=ft(),i=St();return yb(r,n,n[Oe],i,t,e),dy}function V2(t,e,n){let r=ft();if(r.firstCreatePass){let i=pr(t);hm(n,r.data,r.blueprint,i,!0),hm(e,r.data,r.blueprint,i,!1)}}function hm(t,e,n,r,i){if(t=bt(t),Array.isArray(t))for(let o=0;o<t.length;o++)hm(t[o],e,n,r,i);else{let o=ft(),s=ve(),a=St(),c=ss(t)?t:bt(t.provide),u=OI(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ss(t)||!t.multi){let f=new qi(u,i,N),g=Cg(c,e,i?l:l+h,d);g===-1?(kg(rd(a,s),o,c),Eg(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Cg(c,e,l+h,d),g=Cg(c,e,l,l+h),_=f>=0&&n[f],y=g>=0&&n[g];if(i&&!y||!i&&!_){kg(rd(a,s),o,c);let E=j2(i?L2:U2,n.length,i,r,u);!i&&y&&(n[g].providerFactory=E),Eg(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=_b(n[i?g:f],u,!i&&r);Eg(o,t,f>-1?f:g,E)}!i&&r&&y&&n[g].componentProviders++}}}function Eg(t,e,n,r){let i=ss(e),o=CN(e);if(i||o){let c=(o?bt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function _b(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function U2(t,e,n,r){return fm(this.multi,[])}function L2(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ls(n,n[ue],this.providerFactory.index,r);o=a.slice(0,s),fm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],fm(i,o);return o}function fm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function j2(t,e,n,r,i){let o=new qi(t,n,N);return o.multi=[],o.index=e,o.componentProviders=0,_b(o,i,r&&!n),o}function Zi(t,e=[]){return n=>{n.providersResolver=(r,i)=>V2(r,i?i(t):t,e)}}var B2=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=PI(!1,r.type),o=i.length>0?Fd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(I(At))});let t=e;return t})();function tt(t){Od("NgStandalone"),t.getStandaloneInjector=e=>e.get(B2).getOrCreateStandaloneInjector(t)}function wb(t,e,n){let r=YN()+t,i=ve();return i[r]===Dr?n2(i,r,n?e.call(n):e()):r2(i,r)}var yr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Eb=new yr("17.3.5"),Ld=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Cb=new R("");function Xi(t){return!!t&&typeof t.then=="function"}function Ib(t){return!!t&&typeof t.subscribe=="function"}var jd=new R(""),Db=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(jd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Xi(s))r.push(s);else if(Ib(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oc=new R("");function $2(){eC(()=>{throw new j(600,!1)})}function H2(t){return t.isBoundToModule}function q2(t,e,n){try{let r=n();return Xi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var jn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(pD),this.afterRenderEffectManager=D(sy),this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=D(Qi).hasPendingTasks.pipe($(r=>!r)),this._injector=D(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ad;if(!this._injector.get(Db).done){let f=!o&&AI(r),g=!1;throw new j(405,g)}let a;o?a=r:a=this._injector.get(ms).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=H2(a)?void 0:this._injector.get(Jr),u=i||a.selector,l=a.create(Ht.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(Cb,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ig(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new j(101,!1);let i=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,pe(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===nb)throw new j(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)z2(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>pm(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>pm(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ig(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(oc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ig(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new j(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ig(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function z2(t,e,n){!e&&!pm(t)||G2(t,n,e)}function pm(t){return Rm(t)}function G2(t,e,n){let r;n?(r=0,t[W]|=1024):t[W]&64?r=0:r=1,rb(t,e,r)}var gm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Bd=(()=>{let e=class e{compileModuleSync(r){return new cm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=SI(r),s=FD(o.declarations).reduce((a,c)=>{let u=Kr(c);return u&&a.push(new ds(u)),a},[]);return new gm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var W2=(()=>{let e=class e{constructor(){this.zone=D(le),this.applicationRef=D(jn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K2(t){return[{provide:le,useFactory:t},{provide:os,multi:!0,useFactory:()=>{let e=D(W2,{optional:!0});return()=>e.initialize()}},{provide:os,multi:!0,useFactory:()=>{let e=D(Z2);return()=>{e.initialize()}}},{provide:pD,useFactory:Q2}]}function Q2(){let t=D(le),e=D(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}function J2(t){let e=K2(()=>new le(Y2(t)));return Yr([[],e])}function Y2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Z2=(()=>{let e=class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=D(le),this.pendingTasks=D(Qi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X2(){return typeof $localize<"u"&&$localize.locale||hd}var hy=new R("",{providedIn:"root",factory:()=>D(hy,ie.Optional|ie.SkipSelf)||X2()});var bb=new R("");var Wl=null;function eV(t=[],e){return Ht.create({name:e,providers:[{provide:yd,useValue:"platform"},{provide:bb,useValue:new Set([()=>Wl=null])},...t]})}function tV(t=[]){if(Wl)return Wl;let e=eV(t);return Wl=e,$2(),nV(e),e}function nV(t){t.get(jm,null)?.forEach(n=>n())}function fy(){return!1}var eo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rV;let t=e;return t})();function rV(t){return iV(St(),ve(),(t&16)===16)}function iV(t,e,n){if(wd(t)&&!n){let r=Zr(t.index,e);return new zi(r,r)}else if(t.type&47){let r=e[Rn];return new zi(r,e)}return null}var mm=class{constructor(){}supports(e){return ub(e)}create(e){return new ym(e)}},oV=(t,e)=>e,ym=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||oV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<aI(r,i,o)?n:r,a=aI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;l<=g&&g<u&&(o[h]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ub(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,e2(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new vm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new fd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},_m=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new _m,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cI(){return new py([new mm])}var py=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||cI()),deps:[[e,new Em,new fs]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new j(901,!1)}};e.\u0275prov=k({token:e,providedIn:"root",factory:cI});let t=e;return t})();function Tb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=tV(r),o=[J2(),...n||[]],a=new ld({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(le);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(On,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(bb);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),q2(u,c,()=>{let f=a.get(Db);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(hy,hd);O2(g||hd);let _=a.get(jn);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function ei(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ab(t){let e=Kr(t);if(!e)return null;let n=new ds(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Nb=null;function Ar(){return Nb}function Ob(t){Nb??=t}var $d=class{};var Ke=new R(""),wy=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>D(sV),providedIn:"platform"});let t=e;return t})(),Fb=new R(""),sV=(()=>{let e=class e extends wy{constructor(){super(),this._doc=D(Ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ar().getBaseHref(this._doc)}onPopState(r){let i=Ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ey(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Sb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Tr(t){return t&&t[0]!=="?"?"?"+t:t}var Bn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>D(Cy),providedIn:"root"});let t=e;return t})(),kb=new R(""),Cy=(()=>{let e=class e extends Bn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ey(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Tr(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(I(wy),I(kb,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Iy=(()=>{let e=class e extends Bn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ey(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Tr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(I(wy),I(kb,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),ws=(()=>{let e=class e{constructor(r){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=uV(Sb(Mb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Tr(i))}normalize(r){return e.stripTrailingSlash(cV(this._basePath,Mb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tr(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Tr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Tr,e.joinWithSlash=Ey,e.stripTrailingSlash=Sb,e.\u0275fac=function(i){return new(i||e)(I(Bn))},e.\u0275prov=k({token:e,factory:()=>aV(),providedIn:"root"});let t=e;return t})();function aV(){return new ws(I(Bn))}function cV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Mb(t){return t.replace(/\/index.html$/,"")}function uV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Hd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var gy=/\s+/,xb=[],Vb=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=xb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(gy):xb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(gy):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(gy).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(N(Vn),N(Xr))},e.\u0275dir=je({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Le.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var my=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ub=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new my(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),Pb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Pb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(N(ys),N(Nd),N(py))},e.\u0275dir=je({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Pb(t,e){t.context.$implicit=e.item}var sc=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new yy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Rb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Rb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(N(ys),N(Nd))},e.\u0275dir=je({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),yy=class{constructor(){this.$implicit=null,this.ngIf=null}};function Rb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Tt(e)}'.`)}var Mt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=dt({});let t=e;return t})(),Dy="browser",lV="server";function dV(t){return t===Dy}function ti(t){return t===lV}var Lb=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>dV(D(vt))?new vy(D(Ke),window):new _y});let t=e;return t})(),vy=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=hV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function hV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _y=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},_s=class{};var cc=class{},zd=class{},to=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ay=class{encodeKey(e){return jb(e)}encodeValue(e){return jb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function gV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var mV=/%(\d[a-f0-9])/gi,yV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jb(t){return encodeURIComponent(t).replace(mV,(e,n)=>yV[n]??e)}function qd(t){return`${t}`}var ni=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ay,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(qd):[qd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(qd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(qd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Sy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function vV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Bb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function $b(t){return typeof Blob<"u"&&t instanceof Blob}function Hb(t){return typeof FormData<"u"&&t instanceof FormData}function _V(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ac=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(vV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new to,this.context??=new Sy,!this.params)this.params=new ni,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Bb(this.body)||$b(this.body)||Hb(this.body)||_V(this.body)?this.body:this.body instanceof ni?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Hb(this.body)?null:$b(this.body)?this.body.type||null:Bb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ni?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new t(n,r,s,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Es=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Es||{}),uc=class{constructor(e,n=Kd.Ok,r="OK"){this.headers=e.headers||new to,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},My=class t extends uc{constructor(e={}){super(e),this.type=Es.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Gd=class t extends uc{constructor(e={}){super(e),this.type=Es.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wd=class extends uc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Kd=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Kd||{});function Ty(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var wV=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof ac)s=r;else{let u;o.headers instanceof to?u=o.headers:u=new to(o.headers);let l;o.params&&(o.params instanceof ni?l=o.params:l=new ni({fromObject:o.params})),s=new ac(r,i,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=B(s).pipe(lr(u=>this.handler.handle(u)));if(r instanceof ac||o.observe==="events")return a;let c=a.pipe(et(u=>u instanceof Gd));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe($(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe($(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe($(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe($(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ni().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Ty(o,i))}post(r,i,o={}){return this.request("POST",r,Ty(o,i))}put(r,i,o={}){return this.request("PUT",r,Ty(o,i))}};e.\u0275fac=function(i){return new(i||e)(I(cc))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function Wb(t,e){return e(t)}function EV(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function CV(t,e,n){return(r,i)=>mn(n,()=>e(r,o=>t(o,i)))}var IV=new R(""),xy=new R(""),DV=new R(""),bV=new R("");function TV(){let t=null;return(e,n)=>{t===null&&(t=(D(IV,{optional:!0})??[]).reduceRight(EV,Wb));let r=D(Qi),i=r.add();return t(e,n).pipe(zr(()=>r.remove(i)))}}var qb=(()=>{let e=class e extends cc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=D(Qi);let o=D(bV,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(xy),...this.injector.get(DV,[])]));this.chain=o.reduceRight((s,a)=>CV(s,a,this.injector),Wb)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(zr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(I(zd),I(At))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var AV=/^\)\]\}',?\n/;function SV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var zb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new j(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ce(i.\u0275loadImpl()):B(null)).pipe(Me(()=>new re(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,E)=>a.setRequestHeader(y,E.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let y=r.detectContentTypeHeader();y!==null&&a.setRequestHeader("Content-Type",y)}if(r.responseType){let y=r.responseType.toLowerCase();a.responseType=y!=="json"?y:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let y=a.statusText||"OK",E=new to(a.getAllResponseHeaders()),U=SV(a)||r.url;return u=new My({headers:E,status:a.status,statusText:y,url:U}),u},d=()=>{let{headers:y,status:E,statusText:U,url:T}=l(),V=null;E!==Kd.NoContent&&(V=typeof a.response>"u"?a.responseText:a.response),E===0&&(E=V?Kd.Ok:0);let q=E>=200&&E<300;if(r.responseType==="json"&&typeof V=="string"){let G=V;V=V.replace(AV,"");try{V=V!==""?JSON.parse(V):null}catch(ye){V=G,q&&(q=!1,V={error:ye,text:V})}}q?(s.next(new Gd({body:V,headers:y,status:E,statusText:U,url:T||void 0})),s.complete()):s.error(new Wd({error:V,headers:y,status:E,statusText:U,url:T||void 0}))},h=y=>{let{url:E}=l(),U=new Wd({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:E||void 0});s.error(U)},f=!1,g=y=>{f||(s.next(l()),f=!0);let E={type:Es.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),r.responseType==="text"&&a.responseText&&(E.partialText=a.responseText),s.next(E)},_=y=>{let E={type:Es.UploadProgress,loaded:y.loaded};y.lengthComputable&&(E.total=y.total),s.next(E)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(c),s.next({type:Es.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(I(_s))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Kb=new R(""),MV="XSRF-TOKEN",xV=new R("",{providedIn:"root",factory:()=>MV}),PV="X-XSRF-TOKEN",RV=new R("",{providedIn:"root",factory:()=>PV}),Qd=class{},NV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(I(Ke),I(vt),I(xV))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function OV(t,e){let n=t.url.toLowerCase();if(!D(Kb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=D(Qd).getToken(),i=D(RV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Qb=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Qb||{});function FV(t,e){return{\u0275kind:t,\u0275providers:e}}function kV(...t){let e=[wV,zb,qb,{provide:cc,useExisting:qb},{provide:zd,useExisting:zb},{provide:xy,useValue:OV,multi:!0},{provide:Kb,useValue:!0},{provide:Qd,useClass:NV}];for(let n of t)e.push(...n.\u0275providers);return Yr(e)}var Gb=new R("");function VV(){return FV(Qb.LegacyInterceptors,[{provide:Gb,useFactory:TV},{provide:xy,useExisting:Gb,multi:!0}])}var Jb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=dt({providers:[kV(VV())]});let t=e;return t})();var Ny=class extends $d{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Oy=class t extends Ny{static makeCurrent(){Ob(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=UV();return n==null?null:LV(n)}resetBaseElement(){lc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hd(document.cookie,e)}},lc=null;function UV(){return lc=lc||document.querySelector("base"),lc?lc.getAttribute("href"):null}function LV(t){return new URL(t,document.baseURI).pathname}var jV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Fy=new R(""),eT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(I(Fy),I(le))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Jd=class{constructor(e){this._doc=e}},Py="ng-app-id",tT=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ti(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Py}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Py),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Py,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(I(Ke),I(Lm),I(Bm,8),I(vt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Ry={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vy=/%COMP%/g,nT="%COMP%",BV=`_nghost-${nT}`,$V=`_ngcontent-${nT}`,HV=!0,qV=new R("",{providedIn:"root",factory:()=>HV});function zV(t){return $V.replace(Vy,t)}function GV(t){return BV.replace(Vy,t)}function rT(t,e){return e.map(n=>n.replace(Vy,t))}var Yb=(()=>{let e=class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ti(c),this.defaultRenderer=new dc(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Pn.ShadowDom&&(i=ae(A({},i),{encapsulation:Pn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Yd?o.applyToHost(r):o instanceof hc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Pn.Emulated:s=new Yd(u,l,i,this.appId,d,a,c,h);break;case Pn.ShadowDom:return new ky(u,l,r,i,a,c,this.nonce,h);default:s=new hc(u,l,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(I(eT),I(tT),I(Lm),I(qV),I(Ke),I(vt),I(le),I(Bm))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),dc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ry[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Zb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Zb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ry[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ry[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mr.DashCase|mr.Important)?e.style.setProperty(n,r,i&mr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ar().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Zb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ky=class extends dc{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=rT(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hc=class extends dc{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?rT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yd=class extends hc{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=zV(u),this.hostAttr=GV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},WV=(()=>{let e=class e extends Jd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(I(Ke))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Xb=["alt","control","meta","shift"],KV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},JV=(()=>{let e=class e extends Jd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ar().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Xb.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=KV[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Xb.forEach(a=>{if(a!==o){let c=QV[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(I(Ke))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function iT(t,e){return Tb(A({rootComponent:t},YV(e)))}function YV(t){return{appProviders:[...nU,...t?.providers??[]],platformProviders:tU}}function ZV(){Oy.makeCurrent()}function XV(){return new On}function eU(){return wD(document),document}var tU=[{provide:vt,useValue:Dy},{provide:jm,useValue:ZV,multi:!0},{provide:Ke,useFactory:eU,deps:[]}];var nU=[{provide:yd,useValue:"root"},{provide:On,useFactory:XV,deps:[]},{provide:Fy,useClass:WV,multi:!0,deps:[Ke,le,vt]},{provide:Fy,useClass:JV,multi:!0,deps:[Ke]},Yb,tT,eT,{provide:Ja,useExisting:Yb},{provide:_s,useClass:jV,deps:[]},[]];var oT=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(I(Ke))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Uy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=I(rU),o},providedIn:"root"});let t=e;return t})(),rU=(()=>{let e=class e extends Uy{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case qt.NONE:return i;case qt.HTML:return Cr(i,"HTML")?tn(i):Hm(this._doc,String(i)).toString();case qt.STYLE:return Cr(i,"Style")?tn(i):i;case qt.SCRIPT:if(Cr(i,"Script"))return tn(i);throw new j(5200,!1);case qt.URL:return Cr(i,"URL")?tn(i):Sd(String(i));case qt.RESOURCE_URL:if(Cr(i,"ResourceURL"))return tn(i);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(r){return DD(r)}bypassSecurityTrustStyle(r){return bD(r)}bypassSecurityTrustScript(r){return TD(r)}bypassSecurityTrustUrl(r){return AD(r)}bypassSecurityTrustResourceUrl(r){return SD(r)}};e.\u0275fac=function(i){return new(i||e)(I(Ke))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X="primary",Sc=Symbol("RouteTitle"),Hy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ts(t){return new Hy(t)}function iU(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$n(t[n],e[n]))return!1;return!0}function $n(t,e){let n=t?qy(t):void 0,r=e?qy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gT(t[i],e[i]))return!1;return!0}function qy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function mT(t){return t.length>0?t[t.length-1]:null}function si(t){return tg(t)?t:Xi(t)?ce(Promise.resolve(t)):B(t)}var sU={exact:vT,subset:_T},yT={exact:aU,subset:cU,ignored:()=>!0};function aT(t,e,n){return sU[n.paths](t.root,e.root,n.matrixParams)&&yT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aU(t,e){return $n(t,e)}function vT(t,e,n){if(!ro(t.segments,e.segments)||!eh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vT(t.children[r],e.children[r],n))return!1;return!0}function cU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gT(t[n],e[n]))}function _T(t,e,n){return wT(t,e,e.segments,n)}function wT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ro(i,n)||e.hasChildren()||!eh(i,n,r))}else if(t.segments.length===n.length){if(!ro(t.segments,n)||!eh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!_T(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ro(t.segments,i)||!eh(t.segments,i,r)||!t.children[X]?!1:wT(t.children[X],e,o,r)}}function eh(t,e,n){return e.every((r,i)=>yT[n](t[i].parameters,r.parameters))}var ri=class{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return dU.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return th(this)}},no=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return CT(this)}};function uU(t,e){return ro(t,e)&&t.every((n,r)=>$n(n.parameters,e[r].parameters))}function ro(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Mc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>new _c,providedIn:"root"});let t=e;return t})(),_c=class{parse(e){let n=new Gy(e);return new ri(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fc(e.root,!0)}`,r=pU(e.queryParams),i=typeof e.fragment=="string"?`#${hU(e.fragment)}`:"";return`${n}${r}${i}`}},dU=new _c;function th(t){return t.segments.map(e=>CT(e)).join("/")}function fc(t,e){if(!t.hasChildren())return th(t);if(e){let n=t.children[X]?fc(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${fc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lU(t,(r,i)=>i===X?[fc(t.children[X],!1)]:[`${i}:${fc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${th(t)}/${n[0]}`:`${th(t)}/(${n.join("//")})`}}function ET(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(t){return ET(t).replace(/%3B/gi,";")}function hU(t){return encodeURI(t)}function zy(t){return ET(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(t){return decodeURIComponent(t)}function cT(t){return nh(t.replace(/\+/g,"%20"))}function CT(t){return`${zy(t.path)}${fU(t.parameters)}`}function fU(t){return Object.entries(t).map(([e,n])=>`;${zy(e)}=${zy(n)}`).join("")}function pU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zd(n)}=${Zd(i)}`).join("&"):`${Zd(n)}=${Zd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gU=/^[^\/()?;#]+/;function Ly(t){let e=t.match(gU);return e?e[0]:""}var mU=/^[^\/()?;=#]+/;function yU(t){let e=t.match(mU);return e?e[0]:""}var vU=/^[^=?&#]+/;function _U(t){let e=t.match(vU);return e?e[0]:""}var wU=/^[^&#]+/;function EU(t){let e=t.match(wU);return e?e[0]:""}var Gy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new me(e,n)),r}parseSegment(){let e=Ly(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new no(nh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ly(this.remaining);i&&(r=i,this.capture(r))}e[nh(n)]=nh(r)}parseQueryParam(e){let n=_U(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=EU(this.remaining);s&&(r=s,this.capture(r))}let i=cT(n),o=cT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ly(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function IT(t){return t.segments.length>0?new me([],{[X]:t}):t}function DT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=DT(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new me(t.segments,e);return CU(n)}function CU(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new me(t.segments.concat(e.segments),e.children)}return t}function As(t){return t instanceof ri}function IU(t,e,n=null,r=null){let i=bT(t);return TT(i,e,n,r)}function bT(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=IT(r);return e??i}function TT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return jy(i,i,i,n,r);let o=DU(e);if(o.toRoot())return jy(i,i,new me([],{}),n,r);let s=bU(o,i,t),a=s.processChildren?mc(s.segmentGroup,s.index,o.commands):ST(s.segmentGroup,s.index,o.commands);return jy(i,s.segmentGroup,a,n,r)}function rh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function wc(t){return typeof t=="object"&&t!=null&&t.outlets}function jy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=AT(t,e,n);let a=IT(DT(s));return new ri(a,o,i)}function AT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=AT(o,e,n)}),new me(t.segments,r)}var ih=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rh(r[0]))throw new j(4003,!1);let i=r.find(wc);if(i&&i!==mT(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ih(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ih(n,e,r)}var Ds=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function bU(t,e,n){if(t.isAbsolute)return new Ds(e,!0,0);if(!n)return new Ds(e,!1,NaN);if(n.parent===null)return new Ds(n,!0,0);let r=rh(t.commands[0])?0:1,i=n.segments.length-1+r;return TU(n,i,t.numberOfDoubleDots)}function TU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Ds(r,!1,i-o)}function AU(t){return wc(t[0])?t[0].outlets:{[X]:t}}function ST(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return mc(t,e,n);let r=SU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new me(t.segments.slice(0,r.pathIndex),{});return o.children[X]=new me(t.segments.slice(r.pathIndex),t.children),mc(o,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?Wy(t,e,n):r.match?mc(t,0,i):Wy(t,e,n)}function mc(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=AU(n),i={};if(Object.keys(r).some(o=>o!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let o=mc(t.children[X],e,n);return new me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ST(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(t.segments,i)}}function SU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(wc(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!lT(c,u,s))return o;r+=2}else{if(!lT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(wc(o)){let c=MU(o.outlets);return new me(r,c)}if(i===0&&rh(n[0])){let c=t.segments[e];r.push(new no(c.path,uT(n[0]))),i++;continue}let s=wc(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&rh(a)?(r.push(new no(s,uT(a))),i+=2):(r.push(new no(s,{})),i++)}return new me(r,{})}function MU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Wy(new me([],{}),0,r))}),e}function uT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lT(t,e,n){return t==n.path&&$n(e,n.parameters)}var yc="imperative",ot=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ot||{}),nn=class{constructor(e,n){this.id=e,this.url=n}},Ss=class extends nn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ot.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hn=class extends nn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Gt||{}),oh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(oh||{}),ii=class extends nn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},oi=class extends nn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ot.NavigationSkipped}},Ec=class extends nn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sh=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ky=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qy=class extends nn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jy=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yy=class extends nn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zy=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xy=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ev=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tv=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nv=class{constructor(e){this.snapshot=e,this.type=ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rv=class{constructor(e){this.snapshot=e,this.type=ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ot.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cc=class{},Ic=class{constructor(e){this.url=e}};var iv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xc,this.attachRef=null}},xc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new iv,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ch=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ov(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ov(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sv(e,this._root).map(n=>n.value)}};function ov(t,e){if(t===e.value)return e;for(let n of e.children){let r=ov(t,n);if(r)return r}return null}function sv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sv(t,n);if(r.length)return r.unshift(e),r}return[]}var zt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Is(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uh=class extends ch{constructor(e,n){super(e),this.snapshot=n,mv(this,e)}toString(){return this.snapshot.toString()}};function MT(t){let e=xU(t),n=new lt([new no("",{})]),r=new lt({}),i=new lt({}),o=new lt({}),s=new lt(""),a=new qn(n,r,o,s,i,X,t,e.root);return a.snapshot=e.root,new uh(new zt(a,[]),e)}function xU(t){let e={},n={},r={},i="",o=new Dc([],e,r,i,n,X,t,null,{});return new lh("",new zt(o,[]))}var qn=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[Sc]))??B(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>Ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>Ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gv(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:A(A({},e.params),t.params),data:A(A({},e.data),t.data),resolve:A(A(A(A({},t.data),e.data),i?.data),t._resolvedData)}:r={params:A({},t.params),data:A({},t.data),resolve:A(A({},t.data),t._resolvedData??{})},i&&PT(i)&&(r.resolve[Sc]=i.title),r}var Dc=class{get title(){return this.data?.[Sc]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},lh=class extends ch{constructor(e,n){super(n),this.url=e,mv(this,n)}toString(){return xT(this._root)}};function mv(t,e){e.value._routerState=t,e.children.forEach(n=>mv(t,n))}function xT(t){let e=t.children.length>0?` { ${t.children.map(xT).join(", ")} } `:"";return`${t.value}${e}`}function By(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$n(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$n(e.params,n.params)||t.paramsSubject.next(n.params),oU(e.url,n.url)||t.urlSubject.next(n.url),$n(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function av(t,e){let n=$n(t.params,e.params)&&uU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||av(t.parent,e.parent))}function PT(t){return typeof t.title=="string"||t.title===null}var xt=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=D(xc),this.location=D(ys),this.changeDetector=D(eo),this.environmentInjector=D(At),this.inputBinder=D(ph,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new cv(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]});let t=e;return t})(),cv=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===qn?this.route:e===xc?this.childContexts:this.parent.get(e,n)}},ph=new R(""),dT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=ja([i.queryParams,i.params,i.data]).pipe(Me(([s,a,c],u)=>(c=A(A(A({},s),a),c),u===0?B(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Ab(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function PU(t,e,n){let r=bc(t,e._root,n?n._root:void 0);return new uh(r,e)}function bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=RU(t,e,n);return new zt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bc(t,a)),s}}let r=NU(e.value),i=e.children.map(o=>bc(t,o));return new zt(r,i)}}function RU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bc(t,r,i);return bc(t,r)})}function NU(t){return new qn(new lt(t.url),new lt(t.params),new lt(t.queryParams),new lt(t.fragment),new lt(t.data),t.outlet,t.component,t)}var RT="ngNavigationCancelingError";function NT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=As(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OT(!1,Gt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function OT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RT]=!0,n.cancellationCode=e,n}function OU(t){return FT(t)&&As(t.url)}function FT(t){return!!t&&t[RT]}var FU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Re({type:e,selectors:[["ng-component"]],standalone:!0,features:[tt],decls:1,vars:0,template:function(i,o){i&1&&z(0,"router-outlet")},dependencies:[xt],encapsulation:2});let t=e;return t})();function kU(t,e){return t.providers&&!t._injector&&(t._injector=Fd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yv(t){let e=t.children&&t.children.map(yv),n=e?ae(A({},t),{children:e}):A({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=FU),n}function zn(t){return t.outlet||X}function VU(t,e){let n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}function Pc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var UU=(t,e,n,r)=>$(i=>(new uv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),uv=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),By(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(By(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),By(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Pc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},dh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bs=class{constructor(e,n){this.component=e,this.route=n}};function LU(t,e,n){let r=t._root,i=e?e._root:null;return pc(r,i,n,[r.value])}function jU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!hI(t)?t:e.get(t):r}function pc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Is(e);return t.children.forEach(s=>{BU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vc(a,n.getContext(s),i)),i}function BU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=$U(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new dh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pc(t,e,a?a.children:null,r,i):pc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bs(a.outlet.component,s))}else s&&vc(e,a,i),i.canActivateChecks.push(new dh(r)),o.component?pc(t,null,a?a.children:null,r,i):pc(t,null,n,r,i);return i}function $U(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ro(t.url,e.url)||!$n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!av(t,e)||!$n(t.queryParams,e.queryParams);case"paramsChange":default:return!av(t,e)}}function vc(t,e,n){let r=Is(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?vc(s,e.children.getContext(o),n):vc(s,null,n):vc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bs(e.outlet.component,i)):n.canDeactivateChecks.push(new bs(null,i)):n.canDeactivateChecks.push(new bs(null,i))}function Rc(t){return typeof t=="function"}function HU(t){return typeof t=="boolean"}function qU(t){return t&&Rc(t.canLoad)}function zU(t){return t&&Rc(t.canActivate)}function GU(t){return t&&Rc(t.canActivateChild)}function WU(t){return t&&Rc(t.canDeactivate)}function KU(t){return t&&Rc(t.canMatch)}function kT(t){return t instanceof ur||t?.name==="EmptyError"}var Xd=Symbol("INITIAL_VALUE");function Ms(){return Me(t=>ja(t.map(e=>e.pipe(dr(1),Ui(Xd)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===Xd)return Xd;if(n===!1||n instanceof ri)return n}return!0}),et(e=>e!==Xd),dr(1)))}function QU(t,e){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?B(ae(A({},n),{guardsResult:!0})):JU(s,r,i,t).pipe(ze(a=>a&&HU(a)?YU(r,o,t,e):B(a)),$(a=>ae(A({},n),{guardsResult:a})))})}function JU(t,e,n,r){return ce(t).pipe(ze(i=>nL(i.component,i.route,n,e,r)),Yt(i=>i!==!0,!0))}function YU(t,e,n,r){return ce(e).pipe(lr(i=>Qo(XU(i.route.parent,r),ZU(i.route,r),tL(t,i.path,n),eL(t,i.route,n))),Yt(i=>i!==!0,!0))}function ZU(t,e){return t!==null&&e&&e(new nv(t)),B(!0)}function XU(t,e){return t!==null&&e&&e(new ev(t)),B(!0)}function eL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(o=>Nl(()=>{let s=Pc(e)??n,a=xs(o,s),c=zU(a)?a.canActivate(e,t):mn(s,()=>a(e,t));return si(c).pipe(Yt())}));return B(i).pipe(Ms())}function tL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>jU(s)).filter(s=>s!==null).map(s=>Nl(()=>{let a=s.guards.map(c=>{let u=Pc(s.node)??n,l=xs(c,u),d=GU(l)?l.canActivateChild(r,t):mn(u,()=>l(r,t));return si(d).pipe(Yt())});return B(a).pipe(Ms())}));return B(o).pipe(Ms())}function nL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return B(!0);let s=o.map(a=>{let c=Pc(e)??i,u=xs(a,c),l=WU(u)?u.canDeactivate(t,e,n,r):mn(c,()=>u(t,e,n,r));return si(l).pipe(Yt())});return B(s).pipe(Ms())}function rL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return B(!0);let o=i.map(s=>{let a=xs(s,t),c=qU(a)?a.canLoad(e,n):mn(t,()=>a(e,n));return si(c)});return B(o).pipe(Ms(),VT(r))}function VT(t){return Qp(Ge(e=>{if(As(e))throw NT(t,e)}),$(e=>e===!0))}function iL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return B(!0);let o=i.map(s=>{let a=xs(s,t),c=KU(a)?a.canMatch(e,n):mn(t,()=>a(e,n));return si(c)});return B(o).pipe(Ms(),VT(r))}var Tc=class{constructor(e){this.segmentGroup=e||null}},hh=class extends Error{constructor(e){super(),this.urlTree=e}};function Cs(t){return Ko(new Tc(t))}function oL(t){return Ko(new j(4e3,!1))}function sL(t){return Ko(OT(!1,Gt.GuardRejected))}var lv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[X])return oL(e.redirectTo);i=i.children[X]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new hh(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ri(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aL(t,e,n,r,i){let o=vv(t,e,n);return o.matched?(r=kU(e,r),iL(r,e,n,i).pipe($(s=>s===!0?o:A({},dv)))):B(o)}function vv(t,e,n){if(e.path==="**")return cL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?A({},dv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iU)(n,t,e);if(!i)return A({},dv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?A(A({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cL(t){return{matched:!0,parameters:t.length>0?mT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hT(t,e,n,r){return n.length>0&&dL(t,n,r)?{segmentGroup:new me(e,lL(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&hL(t,n,r)?{segmentGroup:new me(t.segments,uL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function uL(t,e,n,r){let i={};for(let o of n)if(gh(t,e,o)&&!r[zn(o)]){let s=new me([],{});i[zn(o)]=s}return A(A({},r),i)}function lL(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&zn(r)!==X){let i=new me([],{});n[zn(r)]=i}return n}function dL(t,e,n){return n.some(r=>gh(t,e,r)&&zn(r)!==X)}function hL(t,e,n){return n.some(r=>gh(t,e,r))}function gh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fL(t,e,n,r){return zn(t)!==r&&(r===X||!gh(e,n,t))?!1:vv(e,t,n).matched}function pL(t,e,n){return e.length===0&&!t.children[n]}var hv=class{};function gL(t,e,n,r,i,o,s="emptyOnly"){return new fv(t,e,n,r,i,s,o).recognize()}var mL=31,fv=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=hT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new Dc([],Object.freeze({}),Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,{},X,this.rootComponentType,null,{}),i=new zt(r,n),o=new lh("",i),s=IU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,X).pipe(Hr(r=>{if(r instanceof hh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Tc?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=gv(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(o=>o instanceof zt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ce(i).pipe(lr(o=>{let s=r.children[o],a=VU(n,o);return this.processSegmentGroup(e,a,s,o)}),Vi((o,s)=>(o.push(...s),o)),qr(null),sg(),ze(o=>{if(o===null)return Cs(r);let s=UT(o);return yL(s),B(s)}))}processSegment(e,n,r,i,o,s){return ce(n).pipe(lr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Hr(c=>{if(c instanceof Tc)return B(null);throw c}))),Yt(a=>!!a),Hr(a=>{if(kT(a))return pL(r,i,o)?B(new hv):Cs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return fL(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Cs(i):Cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=vv(n,i,o);if(!a)return Cs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mL&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(ze(h=>this.processSegment(e,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=aL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Me(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Me(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Dc(l,h,Object.freeze(A({},this.urlTree.queryParams)),this.urlTree.fragment,_L(r),zn(r),r.component??r._loadedComponent??null,r,wL(r)),{segmentGroup:g,slicedSegments:_}=hT(n,l,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe($(E=>E===null?null:new zt(f,E)));if(c.length===0&&_.length===0)return B(new zt(f,[]));let y=zn(r)===o;return this.processSegment(u,c,g,_,y?X:o,!0).pipe($(E=>new zt(f,E instanceof zt?[E]:[])))}))):Cs(n)))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?B({routes:n._loadedRoutes,injector:n._loadedInjector}):rL(e,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):sL(n))):B({routes:[],injector:e})}};function yL(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function vL(t){let e=t.value.routeConfig;return e&&e.path===""}function UT(t){let e=[],n=new Set;for(let r of t){if(!vL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=UT(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!n.has(r))}function _L(t){return t.data||{}}function wL(t){return t.resolve||{}}function EL(t,e,n,r,i,o){return ze(s=>gL(t,e,n,r,s.extractedUrl,i,o).pipe($(({state:a,tree:c})=>ae(A({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function CL(t,e){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of LT(c))s.add(u);let a=0;return ce(s).pipe(lr(c=>o.has(c)?IL(c,r,t,e):(c.data=gv(c,c.parent,t).resolve,B(void 0))),Ge(()=>a++),Jo(1),ze(c=>a===s.size?B(n):Dt))})}function LT(t){let e=t.children.map(n=>LT(n)).flat();return[t,...e]}function IL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!PT(i)&&(o[Sc]=i.title),DL(o,t,e,r).pipe($(s=>(t._resolvedData=s,t.data=gv(t,t.parent,n).resolve,null)))}function DL(t,e,n,r){let i=qy(t);if(i.length===0)return B({});let o={};return ce(i).pipe(ze(s=>bL(t[s],e,n,r).pipe(Yt(),Ge(a=>{o[s]=a}))),Jo(1),ig(o),Hr(s=>kT(s)?Dt:Ko(s)))}function bL(t,e,n,r){let i=Pc(e)??r,o=xs(t,i),s=o.resolve?o.resolve(e,n):mn(i,()=>o(e,n));return si(s)}function $y(t){return Me(e=>{let n=t(e);return n?ce(n).pipe($(()=>e)):B(e)})}var jT=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===X);return i}getResolvedTitleForRoute(r){return r.data[Sc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>D(TL),providedIn:"root"});let t=e;return t})(),TL=(()=>{let e=class e extends jT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(I(oT))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nc=new R("",{providedIn:"root",factory:()=>({})}),Ac=new R(""),_v=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(Bd)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return B(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=si(r.loadComponent()).pipe($(BT),Ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),zr(()=>{this.componentLoaders.delete(r)})),o=new qo(i,()=>new ge).pipe(Ho());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return B({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=AL(i,this.compiler,r,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(i)})),a=new qo(s,()=>new ge).pipe(Ho());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AL(t,e,n,r){return si(t.loadChildren()).pipe($(BT),ze(i=>i instanceof Ya||Array.isArray(i)?B(i):ce(e.compileModuleAsync(i))),$(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ac,[],{optional:!0,self:!0}).flat()),{routes:s.map(yv),injector:o}}))}function SL(t){return t&&typeof t=="object"&&"default"in t}function BT(t){return SL(t)?t.default:t}var wv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>D(ML),providedIn:"root"});let t=e;return t})(),ML=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$T=new R(""),HT=new R("");function xL(t,e,n){let r=t.get(HT),i=t.get(Ke);return t.get(le).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),PL(t))),{onViewTransitionCreated:c}=r;return c&&mn(t,()=>c({transition:a,from:e,to:n})),s})}function PL(t){return new Promise(e=>{oy(e,{injector:t})})}var Ev=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=D(_v),this.environmentInjector=D(At),this.urlSerializer=D(Mc),this.rootContexts=D(xc),this.location=D(ws),this.inputBindingEnabled=D(ph,{optional:!0})!==null,this.titleStrategy=D(jT),this.options=D(Nc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(wv),this.createViewTransition=D($T,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Zy(o)),i=o=>this.events.next(new Xy(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ae(A(A({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(et(s=>s.id!==0),$(s=>ae(A({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Me(s=>{let a=!1,c=!1;return B(s).pipe(Me(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Gt.SupersededByNewNavigation),Dt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(A({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new oi(u.id,this.urlSerializer.serialize(u.rawUrl),h,oh.IgnoredSameUrlNavigation)),u.resolve(null),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return B(u).pipe(Me(h=>{let f=this.transitions?.getValue();return this.events.next(new Ss(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Dt:Promise.resolve(h)}),EL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ae(A({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new sh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:_,extras:y}=u,E=new Ss(h,this.urlSerializer.serialize(f),g,_);this.events.next(E);let U=MT(this.rootComponentType).snapshot;return this.currentTransition=s=ae(A({},u),{targetSnapshot:U,urlAfterRedirects:f,extras:ae(A({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,B(s)}else{let h="";return this.events.next(new oi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,oh.IgnoredByUrlHandlingStrategy)),u.resolve(null),Dt}}),Ge(u=>{let l=new Ky(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$(u=>(this.currentTransition=s=ae(A({},u),{guards:LU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),QU(this.environmentInjector,u=>this.events.next(u)),Ge(u=>{if(s.guardsResult=u.guardsResult,As(u.guardsResult))throw NT(this.urlSerializer,u.guardsResult);let l=new Qy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),et(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Gt.GuardRejected),!1)),$y(u=>{if(u.guards.canActivateChecks.length)return B(u).pipe(Ge(l=>{let d=new Jy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Me(l=>{let d=!1;return B(l).pipe(CL(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Gt.NoDataFromResolver)}}))}),Ge(l=>{let d=new Yy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),$y(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ge(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...l(f));return h};return ja(l(u.targetSnapshot.root)).pipe(qr(null),dr(1))}),$y(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ce(d).pipe($(()=>s)):B(s)}),$(u=>{let l=PU(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ae(A({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ge(()=>{this.events.next(new Cc)}),UU(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),dr(1),Ge({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),cg(this.transitionAbortSubject.pipe(Ge(u=>{throw u}))),zr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Gt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hr(u=>{if(c=!0,FT(u))this.events.next(new ii(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),OU(u)?this.events.next(new Ic(u.url)):s.resolve(!1);else{this.events.next(new Ec(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return Dt}))}))}cancelNavigationTransition(r,i,o){let s=new ii(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RL(t){return t!==yc}var NL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>D(OL),providedIn:"root"});let t=e;return t})(),pv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},OL=(()=>{let e=class e extends pv{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=gs(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:()=>D(FL),providedIn:"root"});let t=e;return t})(),FL=(()=>{let e=class e extends qT{constructor(){super(...arguments),this.location=D(ws),this.urlSerializer=D(Mc),this.options=D(Nc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(wv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=MT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ss)this.stateMemento=this.createStateMemento();else if(r instanceof oi)this.rawUrlTree=i.initialUrl;else if(r instanceof sh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Cc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ii&&(r.code===Gt.GuardRejected||r.code===Gt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ec?this.restoreHistory(i,!0):r instanceof Hn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=A(A({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=A(A({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=gs(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gc||{});function zT(t,e){t.events.pipe(et(n=>n instanceof Hn||n instanceof ii||n instanceof Ec||n instanceof oi),$(n=>n instanceof Hn||n instanceof oi?gc.COMPLETE:(n instanceof ii?n.code===Gt.Redirect||n.code===Gt.SupersededByNewNavigation:!1)?gc.REDIRECTING:gc.FAILED),et(n=>n!==gc.REDIRECTING),dr(1)).subscribe(()=>{e()})}function kL(t){throw t}var VL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(Ld),this.stateManager=D(qT),this.options=D(Nc,{optional:!0})||{},this.pendingTasks=D(Qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(Ev),this.urlSerializer=D(Mc),this.location=D(ws),this.urlHandlingStrategy=D(wv),this._events=new ge,this.errorHandler=this.options.errorHandler||kL,this.navigated=!1,this.routeReuseStrategy=D(NL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(Ac,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(ph,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=D(le)instanceof le&&le.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ii&&i.code!==Gt.Redirect&&i.code!==Gt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Hn)this.navigated=!0;else if(i instanceof Ic){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||RL(o.source)};this.scheduleNavigation(a,yc,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}jL(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=A({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(yv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=A(A({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=bT(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return TT(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=As(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,yc,null,i)}navigate(r,i={skipLocationChange:!1}){return LL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=A({},VL):i===!1?o=A({},UL):o=i,As(r))return aT(this.currentUrlTree,r,o);let s=this.parseUrl(r);return aT(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return zT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function jL(t){return!(t instanceof Cc)&&!(t instanceof Ic)}var mh=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:OD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(N(Te),N(qn),Vm("tabindex"),N(Xr),N(Vn),N(Bn))},e.\u0275dir=je({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&J("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ln("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Le.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ei],skipLocationChange:[Le.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ei],replaceUrl:[Le.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ei],routerLink:"routerLink"},standalone:!0,features:[ay,kn]});let t=e;return t})();var fh=class{};var BL=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(et(r=>r instanceof Hn),lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Fd(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ce(o).pipe($r())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=B(null);let s=o.pipe(ze(a=>a===null?B(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ce([s,a]).pipe($r())}else return s})}};e.\u0275fac=function(i){return new(i||e)(I(Te),I(Bd),I(At),I(fh),I(_v))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GT=new R(""),$L=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Hn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof oi&&r.code===oh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ah&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ah(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){zD()},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function WT(t,...e){return Yr([{provide:Ac,multi:!0,useValue:t},[],{provide:qn,useFactory:KT,deps:[Te]},{provide:oc,multi:!0,useFactory:QT},e.map(n=>n.\u0275providers)])}function KT(t){return t.routerState.root}function Ps(t,e){return{\u0275kind:t,\u0275providers:e}}function QT(){let t=D(Ht);return e=>{let n=t.get(jn);if(e!==n.components[0])return;let r=t.get(Te),i=t.get(JT);t.get(Cv)===1&&r.initialNavigation(),t.get(YT,null,ie.Optional)?.setUpPreloading(),t.get(GT,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var JT=new R("",{factory:()=>new ge}),Cv=new R("",{providedIn:"root",factory:()=>1});function HL(){return Ps(2,[{provide:Cv,useValue:0},{provide:jd,multi:!0,deps:[Ht],useFactory:e=>{let n=e.get(Fb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(JT);zT(i,()=>{r(!0)}),e.get(Ev).afterPreactivation=()=>(r(!0),o.closed?B(void 0):o),i.initialNavigation()}))}}])}function qL(){return Ps(3,[{provide:jd,multi:!0,useFactory:()=>{let e=D(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:Cv,useValue:2}])}var YT=new R("");function zL(t){return Ps(0,[{provide:YT,useExisting:BL},{provide:fh,useExisting:t}])}function ZT(){return Ps(6,[{provide:Bn,useClass:Iy}])}function GL(){return Ps(8,[dT,{provide:ph,useExisting:dT}])}function WL(t){let e=[{provide:$T,useValue:xL},{provide:HT,useValue:A({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ps(9,e)}var fT=new R("ROUTER_FORROOT_GUARD"),KL=[ws,{provide:Mc,useClass:_c},Te,xc,{provide:qn,useFactory:KT,deps:[Te]},_v,[]],Lt=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[KL,[],{provide:Ac,multi:!0,useValue:r},{provide:fT,useFactory:ZL,deps:[[Te,new fs,new Em]]},{provide:Nc,useValue:i||{}},i?.useHash?JL():YL(),QL(),i?.preloadingStrategy?zL(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?XL(i):[],i?.bindToComponentInputs?GL().\u0275providers:[],i?.enableViewTransitions?WL().\u0275providers:[],ej()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ac,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(I(fT,8))},e.\u0275mod=ht({type:e}),e.\u0275inj=dt({});let t=e;return t})();function QL(){return{provide:GT,useFactory:()=>{let t=D(Lb),e=D(le),n=D(Nc),r=D(Ev),i=D(Mc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new $L(i,r,t,e,n)}}}function JL(){return{provide:Bn,useClass:Iy}}function YL(){return{provide:Bn,useClass:Cy}}function ZL(t){return"guarded"}function XL(t){return[t.initialNavigation==="disabled"?qL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?HL().\u0275providers:[]]}var pT=new R("");function ej(){return[{provide:pT,useFactory:QT},{provide:oc,multi:!0,useExisting:pT}]}var sA=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(N(Xr),N(Vn))},e.\u0275dir=je({type:e});let t=e;return t})(),tj=(()=>{let e=class e extends sA{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=gs(e)))(o||e)}})(),e.\u0275dir=je({type:e,features:[vn]});let t=e;return t})(),Dv=new R("");var nj={provide:Dv,useExisting:vr(()=>ui),multi:!0};function rj(){let t=Ar()?Ar().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ij=new R(""),ui=(()=>{let e=class e extends sA{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(N(Xr),N(Vn),N(ij,8))},e.\u0275dir=je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&J("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Zi([nj]),vn]});let t=e;return t})();function ai(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function aA(t){return t!=null&&typeof t.length=="number"}var Vc=new R(""),Th=new R(""),oj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gn=class{static min(e){return sj(e)}static max(e){return aj(e)}static required(e){return cA(e)}static requiredTrue(e){return cj(e)}static email(e){return uj(e)}static minLength(e){return lj(e)}static maxLength(e){return dj(e)}static pattern(e){return hj(e)}static nullValidator(e){return vh(e)}static compose(e){return pA(e)}static composeAsync(e){return gA(e)}};function sj(t){return e=>{if(ai(e.value)||ai(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function aj(t){return e=>{if(ai(e.value)||ai(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function cA(t){return ai(t.value)?{required:!0}:null}function cj(t){return t.value===!0?null:{required:!0}}function uj(t){return ai(t.value)||oj.test(t.value)?null:{email:!0}}function lj(t){return e=>ai(e.value)||!aA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function dj(t){return e=>aA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function hj(t){if(!t)return vh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ai(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function vh(t){return null}function uA(t){return t!=null}function lA(t){return Xi(t)?ce(t):t}function dA(t){let e={};return t.forEach(n=>{e=n!=null?A(A({},e),n):e}),Object.keys(e).length===0?null:e}function hA(t,e){return e.map(n=>n(t))}function fj(t){return!t.validate}function fA(t){return t.map(e=>fj(e)?e:n=>e.validate(n))}function pA(t){if(!t)return null;let e=t.filter(uA);return e.length==0?null:function(n){return dA(hA(n,e))}}function bv(t){return t!=null?pA(fA(t)):null}function gA(t){if(!t)return null;let e=t.filter(uA);return e.length==0?null:function(n){let r=hA(n,e).map(lA);return ng(r).pipe($(dA))}}function Tv(t){return t!=null?gA(fA(t)):null}function XT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function mA(t){return t._rawValidators}function yA(t){return t._rawAsyncValidators}function Iv(t){return t?Array.isArray(t)?t:[t]:[]}function _h(t,e){return Array.isArray(t)?t.includes(e):t===e}function eA(t,e){let n=Iv(e);return Iv(t).forEach(i=>{_h(n,i)||n.push(i)}),n}function tA(t,e){return Iv(e).filter(n=>!_h(t,n))}var wh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Sr=class extends wh{get formDirective(){return null}get path(){return null}},oo=class extends wh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Eh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},pj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xW=ae(A({},pj),{"[class.ng-submitted]":"isSubmitted"}),Ns=(()=>{let e=class e extends Eh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(N(oo,2))},e.\u0275dir=je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&kd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[vn]});let t=e;return t})(),Wn=(()=>{let e=class e extends Eh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(N(Sr,10))},e.\u0275dir=je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&kd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[vn]});let t=e;return t})();var Oc="VALID",yh="INVALID",Rs="PENDING",Fc="DISABLED";function vA(t){return(Ah(t)?t.validators:t)||null}function gj(t){return Array.isArray(t)?bv(t):t||null}function _A(t,e){return(Ah(e)?e.asyncValidators:t)||null}function mj(t){return Array.isArray(t)?Tv(t):t||null}function Ah(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function yj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function vj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var Ch=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Oc}get invalid(){return this.status===yh}get pending(){return this.status==Rs}get disabled(){return this.status===Fc}get enabled(){return this.status!==Fc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tA(e,this._rawAsyncValidators))}hasValidator(e){return _h(this._rawValidators,e)}hasAsyncValidator(e){return _h(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fc,this.errors=null,this._forEachChild(r=>{r.disable(ae(A({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(A({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this._forEachChild(r=>{r.enable(ae(A({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(A({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oc||this.status===Rs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fc:Oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rs,this._hasOwnPendingAsyncValidator=!0;let n=lA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Fc:this.errors?yh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rs)?Rs:this._anyControlsHaveStatus(yh)?yh:Oc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ah(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mj(this._rawAsyncValidators)}},ci=class extends Ch{constructor(e,n,r){super(vA(n),_A(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){vj(this,!0,e),Object.keys(e).forEach(r=>{yj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Uc=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Sh}),Sh="always";function wA(t,e){return[...e.path,t]}function Ih(t,e,n=Sh){Av(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),wj(t,e),Cj(t,e),Ej(t,e),_j(t,e)}function nA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),bh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Dh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _j(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Av(t,e){let n=mA(t);e.validator!==null?t.setValidators(XT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=yA(t);e.asyncValidator!==null?t.setAsyncValidators(XT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Dh(e._rawValidators,i),Dh(e._rawAsyncValidators,i)}function bh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=mA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=yA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Dh(e._rawValidators,r),Dh(e._rawAsyncValidators,r),n}function wj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&EA(t,e)})}function Ej(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&EA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function EA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Cj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function CA(t,e){t==null,Av(t,e)}function Ij(t,e){return bh(t,e)}function IA(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Dj(t){return Object.getPrototypeOf(t.constructor)===tj}function DA(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bA(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ui?n=o:Dj(o)?r=o:i=o}),i||r||n||null}function bj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Tj={provide:Sr,useExisting:vr(()=>_n)},kc=Promise.resolve(),_n=(()=>{let e=class e extends Sr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new rt,this.form=new ci({},bv(r),Tv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){kc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Ih(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){kc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){kc.then(()=>{let i=this._findContainer(r.path),o=new ci({});CA(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){kc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){kc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,DA(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(N(Vc,10),N(Th,10),N(Uc,8))},e.\u0275dir=je({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&J("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Le.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zi([Tj]),vn]});let t=e;return t})();function rA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var li=class extends Ch{constructor(e=null,n,r){super(vA(n),_A(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ah(n)&&(n.nonNullable||n.initialValueIsDefault)&&(iA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){iA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Aj=t=>t instanceof li;var Sj={provide:oo,useExisting:vr(()=>Sv)},oA=Promise.resolve(),Sv=(()=>{let e=class e extends oo{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new li,this._registered=!1,this.name="",this.update=new rt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=bA(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),IA(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ih(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){oA.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&ei(i);oA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?wA(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(N(Sr,9),N(Vc,10),N(Th,10),N(Dv,10),N(eo,8),N(Uc,8))},e.\u0275dir=je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Le.None,"disabled","isDisabled"],model:[Le.None,"ngModel","model"],options:[Le.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zi([Sj]),vn,kn]});let t=e;return t})(),Kn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var TA=new R("");var Mj={provide:Sr,useExisting:vr(()=>Lc)},Lc=(()=>{let e=class e extends Sr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Ih(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){nA(r.control||null,r,!1),bj(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,DA(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(nA(i||null,r),Aj(o)&&(Ih(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);CA(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Ij(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Av(this.form,this),this._oldForm&&bh(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(N(Vc,10),N(Th,10),N(Uc,8))},e.\u0275dir=je({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&J("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Le.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zi([Mj]),vn,kn]});let t=e;return t})();var xj={provide:oo,useExisting:vr(()=>jc)},jc=(()=>{let e=class e extends oo{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new rt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=bA(this,s)}ngOnChanges(r){this._added||this._setUpControl(),IA(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return wA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(N(Sr,13),N(Vc,10),N(Th,10),N(Dv,10),N(TA,8))},e.\u0275dir=je({type:e,selectors:[["","formControlName",""]],inputs:{name:[Le.None,"formControlName","name"],isDisabled:[Le.None,"disabled","isDisabled"],model:[Le.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zi([xj]),vn,kn]});let t=e;return t})();var Pj=(()=>{let e=class e{constructor(){this._validator=vh}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):vh,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=je({type:e,features:[kn]});let t=e;return t})();var Rj={provide:Vc,useExisting:vr(()=>Bc),multi:!0};var Bc=(()=>{let e=class e extends Pj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ei,this.createValidator=r=>cA}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=gs(e)))(o||e)}})(),e.\u0275dir=je({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Ln("required",o._enabled?"":null)},inputs:{required:"required"},features:[Zi([Rj]),vn]});let t=e;return t})();var AA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=dt({});let t=e;return t})();var jt=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Uc,useValue:r.callSetDisabledState??Sh}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=dt({imports:[AA]});let t=e;return t})(),Mh=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:TA,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Uc,useValue:r.callSetDisabledState??Sh}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=dt({imports:[AA]});let t=e;return t})();var Oj="firebase",Fj="10.11.1";jr(Oj,Fj,"app");var Os=new yr("ANGULARFIRE2_VERSION");var kj=(t,e)=>{let n=e?[e]:KE(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},so=class{constructor(){return kj(Vj)}},Vj="app-check";function Mv(){}var xh=class{zone;delegate;constructor(e,n=Xp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},xv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mv,{},Mv,Mv)),n.pipe(Ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ph=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new xh(Zone.current)),this.insideAngular=n.run(()=>new xh(Zone.current,La)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(I(le))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uj(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Bt(t){return Lj(Uj())(t)}function Lj(t){return function(n){return n=n.lift(new xv(t.ngZone)),n.pipe(ln(t.outsideAngular),Jt(t.insideAngular))}}var $j=new Map,Hj={activated:!1,tokenObservers:[]},qj={initialized:!1,enabled:!1};function wn(t){return $j.get(t)||Object.assign({},Hj)}function NA(){return qj}var zj="https://content-firebaseappcheck.googleapis.com/v1";var Gj="exchangeDebugToken",MA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},SK=24*60*60*1e3;var Rv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return m(this,null,function*(){this.stop();try{this.pending=new kp,this.pending.promise.catch(n=>{}),yield Wj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new kp,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Wj(t){return new Promise(e=>{setTimeout(e,t)})}var Kj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},di=new zE("appCheck","AppCheck",Kj);function OA(t){if(!wn(t).activated)throw di.create("use-before-activation",{appName:t.name})}function FA(r,i){return m(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(f){throw di.create("fetch-network-error",{originalErrorMessage:f?.message})}if(c.status!==200)throw di.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(f){throw di.create("fetch-parse-error",{originalErrorMessage:f?.message})}let l=u.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let d=Number(l[1])*1e3,h=Date.now();return{token:u.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function kA(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${zj}/projects/${n}/apps/${r}:${Gj}?key=${i}`,body:{debug_token:e}}}var Qj="firebase-app-check-database",Jj=1,Nv="firebase-app-check-store";var Rh=null;function Yj(){return Rh||(Rh=new Promise((t,e)=>{try{let n=indexedDB.open(Qj,Jj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(di.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Nv,{keyPath:"compositeKey"})}}}catch(n){e(di.create("storage-open",{originalErrorMessage:n?.message}))}}),Rh)}function Zj(t,e){return Xj(eB(t),e)}function Xj(t,e){return m(this,null,function*(){let r=(yield Yj()).transaction(Nv,"readwrite"),o=r.objectStore(Nv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(di.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function eB(t){return`${t.options.appId}-${t.name}`}var Ov=new ol("@firebase/app-check");function Pv(t,e){return il()?Zj(t,e).catch(n=>{Ov.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function VA(){return NA().enabled}function UA(){return m(this,null,function*(){let t=NA();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var tB={error:"UNKNOWN_ERROR"};function nB(t){return $E.encodeString(JSON.stringify(t),!1)}function Fv(t,e=!1){return m(this,null,function*(){let n=t.app;OA(n);let r=wn(n),i=r.token,o;if(i&&!Hc(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Hc(c)?i=c:yield Pv(n,void 0))}if(!e&&i&&Hc(i))return{token:i.token};let s=!1;if(VA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=FA(kA(n,yield UA()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Pv(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield wn(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Ov.warn(c.message):Ov.error(c),o=c}let a;return i?o?Hc(i)?a={token:i.token,internalError:o}:a=PA(o):(a={token:i.token},r.token=i,yield Pv(n,i)):a=PA(o),s&&sB(n,a),a})}function rB(t){return m(this,null,function*(){let e=t.app;OA(e);let{provider:n}=wn(e);if(VA()){let r=yield UA(),{token:i}=yield FA(kA(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function iB(t,e,n,r){let{app:i}=t,o=wn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Hc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),xA(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>xA(t))}function LA(t,e){let n=wn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function xA(t){let{app:e}=t,n=wn(e),r=n.tokenRefresher;r||(r=oB(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function oB(t){let{app:e}=t;return new Rv(()=>m(this,null,function*(){let n=wn(e),r;if(n.token?r=yield Fv(t,!0):r=yield Fv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=wn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},MA.RETRIAL_MIN_WAIT,MA.RETRIAL_MAX_WAIT)}function sB(t,e){let n=wn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Hc(t){return t.expireTimeMillis-Date.now()>0}function PA(t){return{token:nB(tB),error:t}}var kv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=wn(this.app);for(let n of e)LA(this.app,n.next);return Promise.resolve()}};function aB(t,e){return new kv(t,e)}function cB(t){return{getToken:e=>Fv(t,e),getLimitedUseToken:()=>rB(t),addTokenListener:e=>iB(t,"INTERNAL",e),removeTokenListener:e=>LA(t.app,e)}}var uB="@firebase/app-check",lB="0.8.3";var dB="app-check",RA="app-check-internal";function hB(){Fa(new Ni(dB,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return aB(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(RA).initialize()})),Fa(new Ni(RA,t=>{let e=t.getProvider("app-check").getImmediate();return cB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),jr(uB,lB)}hB();var fB=["localhost","0.0.0.0","127.0.0.1"],jK=typeof window<"u"&&fB.includes(window.location.hostname);var pB="firebase",gB="10.11.1";kt.registerVersion(pB,gB,"app-compat");var mB=["ngOnDestroy"],$A=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(mB.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(u=>n.run(()=>u)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(l=>{let d=l?.(...u);return r?.spy?.apply&&r.spy.apply(o,u,d),d})})})});var Nh=class{constructor(e){return e}},Fs=new R("angularfire2.app.options"),ks=new R("angularfire2.app.name");function qc(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=kt.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>kt.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;yB("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Nh(s)}var yB=(t,...e)=>{fy()&&typeof console<"u"&&console[t](...e)},vB={provide:Nh,useFactory:qc,deps:[Fs,le,[new fs,ks]]},HA=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Fs,useValue:n},{provide:ks,useValue:r}]}}constructor(n){kt.registerVersion("angularfire",Os.full,"core"),kt.registerVersion("angularfire",Os.full,"app-compat"),kt.registerVersion("angular",Eb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(I(vt))};static \u0275mod=ht({type:t});static \u0275inj=dt({providers:[vB]})}return t})();function Oh(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return _B(i,s)||(BA("error",`${e} was already initialized on the ${n} Firebase App with different settings.${wB?" You may need to reload as Firebase is not HMR aware.":""}`),BA("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function _B(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var wB=typeof module<"u"&&!!module.hot,BA=(t,...e)=>{fy()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Vv=new R("angularfire2.auth.use-emulator"),Uv=new R("angularfire2.auth.settings"),Lv=new R("angularfire2.auth.tenant-id"),jv=new R("angularfire2.auth.langugage-code"),Bv=new R("angularfire2.auth.use-device-language"),$v=new R("angularfire.auth.persistence"),Hv=(t,e,n,r,i,o,s,a)=>Oh(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[u,l]of Object.entries(s))c.settings[u]=l;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),Vs=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,u,l,d,h,f){let g=new ge,_=B(void 0).pipe(Jt(s.outsideAngular),Me(()=>o.runOutsideAngular(()=>import("./chunk-FCE334PV.js"))),$(()=>qc(n,o,r)),$(y=>Hv(y,o,a,u,l,d,c,h)),Fl({bufferSize:1,refCount:!1}));if(ti(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=B(null);else{_.pipe(Yt()).subscribe();let y=_.pipe(Me(T=>T.getRedirectResult().then(V=>V,()=>null)),Bt,Fl({bufferSize:1,refCount:!1})),E=_.pipe(Me(T=>new re(V=>({unsubscribe:o.runOutsideAngular(()=>T.onAuthStateChanged(q=>V.next(q),q=>V.error(q),()=>V.complete()))})))),U=_.pipe(Me(T=>new re(V=>({unsubscribe:o.runOutsideAngular(()=>T.onIdTokenChanged(q=>V.next(q),q=>V.error(q),()=>V.complete()))}))));this.authState=y.pipe(kl(E),ln(s.outsideAngular),Jt(s.insideAngular)),this.user=y.pipe(kl(U),ln(s.outsideAngular),Jt(s.insideAngular)),this.idToken=this.user.pipe(Me(T=>T?ce(T.getIdToken()):B(null))),this.idTokenResult=this.user.pipe(Me(T=>T?ce(T.getIdTokenResult()):B(null))),this.credential=rg(y,g,this.authState.pipe(et(T=>!T))).pipe($(T=>T?.user?T:null),ln(s.outsideAngular),Jt(s.insideAngular))}return $A(this,_,o,{spy:{apply:(y,E,U)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&U.then(T=>g.next(T))}}})}static \u0275fac=function(r){return new(r||t)(I(Fs),I(ks,8),I(vt),I(le),I(Ph),I(Vv,8),I(Uv,8),I(Lv,8),I(jv,8),I(Bv,8),I($v,8),I(so,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var EB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cn={},P,h0=h0||{},Q=EB||self;function Kh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function iu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function CB(t){return Object.prototype.hasOwnProperty.call(t,zv)&&t[zv]||(t[zv]=++IB)}var zv="closure_uid_"+(1e9*Math.random()>>>0),IB=0;function DB(t,e,n){return t.call.apply(t.bind,arguments)}function bB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=DB:_t=bB,_t.apply(null,arguments)}function Fh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function at(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function hi(){this.s=this.s,this.o=this.o}var TB=0;hi.prototype.s=!1;hi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),TB!=0)&&CB(this)};hi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var nS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function f0(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qA(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Kh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var AB=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Q.addEventListener("test",n,e),Q.removeEventListener("test",n,e)}catch{}return t}();function Jc(t){return/^[\s\xa0]*$/.test(t)}function Qh(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Qn(t){return Qh().indexOf(t)!=-1}function p0(t){return p0[" "](t),t}p0[" "]=function(){};function SB(t,e){var n=m4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var MB=Qn("Opera"),Bs=Qn("Trident")||Qn("MSIE"),rS=Qn("Edge"),Jv=rS||Bs,iS=Qn("Gecko")&&!(Qh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),xB=Qh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge");function oS(){var t=Q.document;return t?t.documentMode:void 0}var Yv;e:{if(kh="",Vh=function(){var t=Qh();if(iS)return/rv:([^\);]+)(\)|;)/.exec(t);if(rS)return/Edge\/([\d\.]+)/.exec(t);if(Bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xB)return/WebKit\/(\S+)/.exec(t);if(MB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Vh&&(kh=Vh?Vh[1]:""),Bs&&(Uh=oS(),Uh!=null&&Uh>parseFloat(kh))){Yv=String(Uh);break e}Yv=kh}var kh,Vh,Uh,Zv;Q.document&&Bs?(Gv=oS(),Zv=Gv||parseInt(Yv,10)||void 0):Zv=void 0;var Gv,PB=Zv;function Yc(t,e){if(wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iS){e:{try{p0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:RB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yc.$.h.call(this)}}at(Yc,wt);var RB={2:"touch",3:"pen",4:"mouse"};Yc.prototype.h=function(){Yc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ou="closure_listenable_"+(1e6*Math.random()|0),NB=0;function OB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++NB,this.fa=this.ia=!1}function Jh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function g0(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function FB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function sS(t){let e={};for(let n in t)e[n]=t[n];return e}var zA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<zA.length;o++)n=zA[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yh(t){this.src=t,this.g={},this.h=0}Yh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=e0(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new OB(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Xv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=nS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Jh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function e0(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var m0="closure_lm_"+(1e6*Math.random()|0),Wv={};function cS(t,e,n,r,i){if(r&&r.once)return lS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)cS(t,e[o],n,r,i);return null}return n=_0(n),t&&t[ou]?t.O(e,n,iu(r)?!!r.capture:!!r,i):uS(t,e,n,!1,r,i)}function uS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=iu(i)?!!i.capture:!!i,a=v0(t);if(a||(t[m0]=a=new Yh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=kB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)AB||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kB(){function t(n){return e.call(t.src,t.listener,n)}let e=VB;return t}function lS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)lS(t,e[o],n,r,i);return null}return n=_0(n),t&&t[ou]?t.P(e,n,iu(r)?!!r.capture:!!r,i):uS(t,e,n,!0,r,i)}function dS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dS(t,e[o],n,r,i);else r=iu(r)?!!r.capture:!!r,n=_0(n),t&&t[ou]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=e0(o,n,r,i),-1<n&&(Jh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=v0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=e0(e,n,r,i)),(n=-1<t?e[t]:null)&&y0(n))}function y0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ou])Xv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=v0(e))?(Xv(n,t),n.h==0&&(n.src=null,e[m0]=null)):Jh(t)}}}function hS(t){return t in Wv?Wv[t]:Wv[t]="on"+t}function VB(t,e){if(t.fa)t=!0;else{e=new Yc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&y0(t),t=n.call(r,e)}return t}function v0(t){return t=t[m0],t instanceof Yh?t:null}var Kv="__closure_events_fn_"+(1e9*Math.random()>>>0);function _0(t){return typeof t=="function"?t:(t[Kv]||(t[Kv]=function(e){return t.handleEvent(e)}),t[Kv])}function st(){hi.call(this),this.i=new Yh(this),this.S=this,this.J=null}at(st,hi);st.prototype[ou]=!0;st.prototype.removeEventListener=function(t,e,n,r){dS(this,t,e,n,r)};function gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new wt(e,t);else if(e instanceof wt)e.target=e.target||t;else{var i=e;e=new wt(r,t),aS(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Lh(s,r,!0,e)&&i}if(s=e.g=t,i=Lh(s,r,!0,e)&&i,i=Lh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Lh(s,r,!1,e)&&i}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jh(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Lh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Xv(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var w0=Q.JSON.stringify,t0=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function UB(){var t=E0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var n0=class{constructor(){this.h=this.g=null}add(e,n){let r=fS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},fS=new t0(()=>new r0,t=>t.reset()),r0=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function LB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function jB(t){Q.setTimeout(()=>{throw t},0)}var Zc,Xc=!1,E0=new n0,pS=()=>{let t=Q.Promise.resolve(void 0);Zc=()=>{t.then(BB)}},BB=()=>{for(var t;t=UB();){try{t.h.call(t.g)}catch(n){jB(n)}var e=fS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xc=!1};function Zh(t,e){st.call(this),this.h=t||1,this.g=e||Q,this.j=_t(this.qb,this),this.l=Date.now()}at(Zh,st);P=Zh.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gt(this,"tick"),this.ga&&(C0(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function C0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}P.N=function(){Zh.$.N.call(this),C0(this),delete this.g};function I0(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function gS(t){t.g=I0(()=>{t.g=null,t.i&&(t.i=!1,gS(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var i0=class extends hi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gS(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function eu(t){hi.call(this),this.h=t,this.g={}}at(eu,hi);var GA=[];function mS(t,e,n,r){Array.isArray(n)||(n&&(GA[0]=n.toString()),n=GA);for(var i=0;i<n.length;i++){var o=cS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function yS(t){g0(t.g,function(e,n){this.g.hasOwnProperty(n)&&y0(e)},t),t.g={}}eu.prototype.N=function(){eu.$.N.call(this),yS(this)};eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xh(){this.g=!0}Xh.prototype.Ea=function(){this.g=!1};function $B(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&d[1]=="type"?s+(l+"="+u+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function HB(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Ls(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zB(t,n)+(r?" "+r:"")})}function qB(t,e){t.info(function(){return"TIMEOUT: "+e})}Xh.prototype.info=function(){};function zB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return w0(n)}catch{return e}}var lo={},WA=null;function ef(){return WA=WA||new st}lo.Ta="serverreachability";function vS(t){wt.call(this,lo.Ta,t)}at(vS,wt);function tu(t){let e=ef();gt(e,new vS(e))}lo.STAT_EVENT="statevent";function _S(t,e){wt.call(this,lo.STAT_EVENT,t),this.stat=e}at(_S,wt);function Pt(t){let e=ef();gt(e,new _S(e,t))}lo.Ua="timingevent";function wS(t,e){wt.call(this,lo.Ua,t),this.size=e}at(wS,wt);function su(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var tf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ES={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function D0(){}D0.prototype.h=null;function KA(t){return t.h||(t.h=t.i())}function CS(){}var au={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function b0(){wt.call(this,"d")}at(b0,wt);function T0(){wt.call(this,"c")}at(T0,wt);var o0;function nf(){}at(nf,D0);nf.prototype.g=function(){return new XMLHttpRequest};nf.prototype.i=function(){return{}};o0=new nf;function cu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new eu(this),this.P=GB,t=Jv?125:void 0,this.V=new Zh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IS}function IS(){this.i=null,this.g="",this.h=!1}var GB=45e3,DS={},s0={};P=cu.prototype;P.setTimeout=function(t){this.P=t};function a0(t,e,n){t.L=1,t.A=of(xr(e)),t.u=n,t.S=!0,bS(t,null)}function bS(t,e){t.G=Date.now(),uu(t),t.B=xr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),NS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new IS,t.g=eM(t.l,n?e:null,!t.u),0<t.O&&(t.M=new i0(_t(t.Pa,t,t.g),t.O)),mS(t.U,t.g,"readystatechange",t.nb),e=t.I?sS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),tu(),$B(t.j,t.v,t.B,t.m,t.W,t.u)}P.nb=function(t){t=t.target;let e=this.M;e&&Jn(t)==3?e.l():this.Pa(t)};P.Pa=function(t){try{if(t==this.g)e:{let l=Jn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Jv||this.g&&(this.h.h||this.g.ja()||ZA(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?tu(3):tu(2)),rf(this);var n=this.g.da();this.ca=n;t:if(TS(this)){var r=ZA(this.g);t="";var i=r.length,o=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),Qc(this);var s="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,HB(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jc(a)){var u=a;break t}}u=null}if(n=u)Ls(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,c0(this,n);else{this.i=!1,this.s=3,Pt(12),ao(this),Qc(this);break e}}this.S?(AS(this,l,s),Jv&&this.i&&l==3&&(mS(this.U,this.V,"tick",this.mb),this.V.start())):(Ls(this.j,this.m,s,null),c0(this,s)),l==4&&ao(this),this.i&&!this.J&&(l==4?JS(this.l,this):(this.i=!1,uu(this)))}else f4(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),ao(this),Qc(this)}}}catch{}finally{}};function TS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function AS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=WB(t,n),i==s0){e==4&&(t.s=4,Pt(14),r=!1),Ls(t.j,t.m,null,"[Incomplete Response]");break}else if(i==DS){t.s=4,Pt(15),Ls(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ls(t.j,t.m,i,null),c0(t,i);TS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),R0(e),e.M=!0,Pt(11))):(Ls(t.j,t.m,n,"[Invalid Chunked Response]"),ao(t),Qc(t))}P.mb=function(){if(this.g){var t=Jn(this.g),e=this.g.ja();this.o<e.length&&(rf(this),AS(this,t,e),this.i&&t!=4&&uu(this))}};function WB(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?s0:(n=Number(e.substring(n,r)),isNaN(n)?DS:(r+=1,r+n>e.length?s0:(e=e.slice(r,r+n),t.o=r+n,e)))}P.cancel=function(){this.J=!0,ao(this)};function uu(t){t.Y=Date.now()+t.P,SS(t,t.P)}function SS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=su(_t(t.lb,t),e)}function rf(t){t.C&&(Q.clearTimeout(t.C),t.C=null)}P.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(qB(this.j,this.B),this.L!=2&&(tu(),Pt(17)),ao(this),this.s=2,Qc(this)):SS(this,this.Y-t)};function Qc(t){t.l.H==0||t.J||JS(t.l,t)}function ao(t){rf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,C0(t.V),yS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function c0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||u0(n.i,t))){if(!t.K&&u0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qh(n),cf(n);else break e;P0(n),Pt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=su(_t(n.ib,n),6e3));if(1>=kS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else co(n,11)}else if((t.K||n.g==t)&&qh(n),!Jc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(A0(o,o.h),o.h=null))}if(r.F){let _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Ae(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=XS(r,r.J?r.pa:null,r.Y),s.K){VS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(rf(a),uu(a)),r.g=s}else KS(r);0<n.j.length&&uf(n)}else u[0]!="stop"&&u[0]!="close"||co(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?co(n,7):x0(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}tu(4)}catch{}}function KB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Kh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function QB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Kh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function MS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Kh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=QB(t),r=KB(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var xS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function uo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof uo){this.h=t.h,$h(this,t.j),this.s=t.s,this.g=t.g,Hh(this,t.m),this.l=t.l;var e=t.i,n=new nu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),QA(this,n),this.o=t.o}else t&&(e=String(t).match(xS))?(this.h=!1,$h(this,e[1]||"",!0),this.s=Wc(e[2]||""),this.g=Wc(e[3]||"",!0),Hh(this,e[4]),this.l=Wc(e[5]||"",!0),QA(this,e[6]||"",!0),this.o=Wc(e[7]||"")):(this.h=!1,this.i=new nu(null,this.h))}uo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Kc(e,JA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Kc(e,JA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Kc(n,n.charAt(0)=="/"?XB:ZB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Kc(n,t4)),t.join("")};function xr(t){return new uo(t)}function $h(t,e,n){t.j=n?Wc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QA(t,e,n){e instanceof nu?(t.i=e,n4(t.i,t.h)):(n||(e=Kc(e,e4)),t.i=new nu(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function of(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var JA=/[#\/\?@]/g,ZB=/[#\?:]/g,XB=/[#\?]/g,e4=/[#\?@]/g,t4=/#/g;function nu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fi(t){t.g||(t.g=new Map,t.h=0,t.i&&JB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}P=nu.prototype;P.add=function(t,e){fi(this),this.i=null,t=$s(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function PS(t,e){fi(t),e=$s(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function RS(t,e){return fi(t),e=$s(t,e),t.g.has(e)}P.forEach=function(t,e){fi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};P.ta=function(){fi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};P.Z=function(t){fi(this);let e=[];if(typeof t=="string")RS(this,t)&&(e=e.concat(this.g.get($s(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};P.set=function(t,e){return fi(this),this.i=null,t=$s(this,t),RS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};P.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NS(t,e,n){PS(t,e),0<n.length&&(t.i=null,t.g.set($s(t,e),f0(n)),t.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function $s(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function n4(t,e){e&&!t.j&&(fi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(PS(this,r),NS(this,i,n))},t)),t.j=e}var r4=class{constructor(t,e){this.g=t,this.map=e}};function OS(t){this.l=t||i4,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var i4=10;function FS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kS(t){return t.h?1:t.g?t.g.size:0}function u0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function A0(t,e){t.g?t.g.add(e):t.h=e}function VS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}OS.prototype.cancel=function(){if(this.i=US(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function US(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return f0(t.i)}var o4=class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}};function s4(){this.g=new o4}function a4(t,e,n){let r=n||"";try{MS(t,function(i,o){let s=i;iu(i)&&(s=w0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function c4(t,e){let n=new Xh;if(Q.Image){let r=new Image;r.onload=Fh(jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fh(jh,n,r,"TestLoadImage: error",!1,e),r.onabort=Fh(jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fh(jh,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function jh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lu(t){this.l=t.ec||null,this.j=t.ob||!1}at(lu,D0);lu.prototype.g=function(){return new sf(this.l,this.j)};lu.prototype.i=function(t){return function(){return t}}({});function sf(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=S0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}at(sf,st);var S0=0;P=sf.prototype;P.open=function(t,e){if(this.readyState!=S0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ru(this)};P.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,du(this)),this.readyState=S0};P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function LS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?du(this):ru(this),this.readyState==3&&LS(this)}};P.Za=function(t){this.g&&(this.response=this.responseText=t,du(this))};P.Ya=function(t){this.g&&(this.response=t,du(this))};P.ka=function(){this.g&&du(this)};function du(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ru(t)}P.setRequestHeader=function(t,e){this.v.append(t,e)};P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ru(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var u4=Q.JSON.parse;function Fe(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jS,this.L=this.M=!1}at(Fe,st);var jS="",l4=/^https?$/i,d4=["POST","PUT"];P=Fe.prototype;P.Oa=function(t){this.M=t};P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():o0.g(),this.C=this.u?KA(this.u):KA(o0),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){YA(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=nS(d4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HS(this),0<this.B&&((this.L=h4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=I0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){YA(this,o)}};function h4(t){return Bs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}P.ua=function(){typeof h0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function YA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BS(t),af(t)}function BS(t){t.F||(t.F=!0,gt(t,"complete"),gt(t,"error"))}P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),af(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),af(this,!0)),Fe.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?$S(this):this.kb())};P.kb=function(){$S(this)};function $S(t){if(t.h&&typeof h0<"u"&&(!t.C[1]||Jn(t)!=4||t.da()!=2)){if(t.v&&Jn(t)==4)I0(t.La,0,t);else if(gt(t,"readystatechange"),Jn(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(xS)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!l4.test(i?i.toLowerCase():"")}n=r}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var o=2<Jn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",BS(t)}}finally{af(t)}}}}function af(t,e){if(t.g){HS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function HS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}P.isActive=function(){return!!this.g};function Jn(t){return t.g?t.g.readyState:0}P.da=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),u4(e)}};function ZA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function f4(t){let e={};t=(t.g&&2<=Jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Jc(t[r]))continue;var n=LB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}FB(e,function(r){return r.join(", ")})}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qS(t){let e="";return g0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function M0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ae(t,e,n))}function zc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zS(t){this.Ga=0,this.j=[],this.l=new Xh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zc("baseRetryDelayMs",5e3,t),this.hb=zc("retryDelaySeedMs",1e4,t),this.eb=zc("forwardChannelMaxRetries",2,t),this.xa=zc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OS(t&&t.concurrentRequestLimit),this.Ja=new s4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}P=zS.prototype;P.ra=8;P.H=1;function x0(t){if(GS(t),t.H==3){var e=t.W++,n=xr(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),hu(t,n),e=new cu(t,t.l,e),e.L=2,e.A=of(xr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Q.Image&&(new Image().src=e.A,n=!0),n||(e.g=eM(e.l,null),e.g.ha(e.A)),e.G=Date.now(),uu(e)}ZS(t)}function cf(t){t.g&&(R0(t),t.g.cancel(),t.g=null)}function GS(t){cf(t),t.u&&(Q.clearTimeout(t.u),t.u=null),qh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function uf(t){if(!FS(t.i)&&!t.m){t.m=!0;var e=t.Na;Zc||pS(),Xc||(Zc(),Xc=!0),E0.add(e,t),t.C=0}}function p4(t,e){return kS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=su(_t(t.Na,t,e),YS(t,t.C)),t.C++,!0)}P.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new cu(this,this.l,t),o=this.s;if(this.U&&(o?(o=sS(o),aS(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=WS(this,i,e),n=xr(this.I),Ae(n,"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),hu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(qS(o)))+"&"+e:this.o&&M0(n,this.o,o)),A0(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,a0(i,n,null)):a0(i,n,e),this.H=2}}else this.H==3&&(t?XA(this,t):this.j.length==0||FS(this.i)||XA(this))};function XA(t,e){var n;e?n=e.m:n=t.W++;let r=xr(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),hu(t,r),t.o&&t.s&&M0(r,t.o,t.s),n=new cu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=WS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),A0(t.i,n),a0(n,r,e)}function hu(t,e){t.na&&g0(t.na,function(n,r){Ae(e,r,n)}),t.h&&MS({},function(n,r){Ae(e,r,n)})}function WS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?_t(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{a4(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function KS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zc||pS(),Xc||(Zc(),Xc=!0),E0.add(e,t),t.A=0}}function P0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=su(_t(t.Ma,t),YS(t,t.A)),t.A++,!0)}P.Ma=function(){if(this.u=null,QS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=su(_t(this.jb,this),t)}};P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pt(10),cf(this),QS(this))};function R0(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function QS(t){t.g=new cu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=xr(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),hu(t,e),t.o&&t.s&&M0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=of(xr(e)),n.u=null,n.S=!0,bS(n,t)}P.ib=function(){this.v!=null&&(this.v=null,cf(this),P0(this),Pt(19))};function qh(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function JS(t,e){var n=null;if(t.g==e){qh(t),R0(t),t.g=null;var r=2}else if(u0(t.i,e))n=e.F,VS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ef(),gt(r,new wS(r,n)),uf(t)}else KS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&p4(t,e)||r==2&&P0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:co(t,5);break;case 4:co(t,10);break;case 3:co(t,6);break;default:co(t,2)}}}function YS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function co(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=_t(t.pb,t);n||(n=new uo("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||$h(n,"https"),of(n)),c4(n.toString(),r)}else Pt(2);t.H=0,t.h&&t.h.za(e),ZS(t),GS(t)}P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pt(2)):(this.l.info("Failed to ping google.com"),Pt(1))};function ZS(t){if(t.H=0,t.ma=[],t.h){let e=US(t.i);(e.length!=0||t.j.length!=0)&&(qA(t.ma,e),qA(t.ma,t.j),t.i.i.length=0,f0(t.j),t.j.length=0),t.h.ya()}}function XS(t,e,n){var r=n instanceof uo?xr(n):new uo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Hh(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new uo(null);r&&$h(o,r),e&&(o.g=e),i&&Hh(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),hu(t,r),r}function eM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Fe(new lu({ob:n})):new Fe(t.va),e.Oa(t.J),e}P.isActive=function(){return!!this.h&&this.h.isActive(this)};function tM(){}P=tM.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.isActive=function(){return!0};P.Va=function(){};function zh(){if(Bs&&!(10<=Number(PB)))throw Error("Environmental error: no available transport.")}zh.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){st.call(this),this.g=new zS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Jc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Hs(this)}at(Wt,st);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=XS(t,null,t.Y),uf(t)};Wt.prototype.close=function(){x0(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=w0(t),t=n);e.j.push(new r4(e.fb++,t)),e.H==3&&uf(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,x0(this.g),delete this.g,Wt.$.N.call(this)};function nM(t){b0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}at(nM,b0);function rM(){T0.call(this),this.status=1}at(rM,T0);function Hs(t){this.g=t}at(Hs,tM);Hs.prototype.Ba=function(){gt(this.g,"a")};Hs.prototype.Aa=function(t){gt(this.g,new nM(t))};Hs.prototype.za=function(t){gt(this.g,new rM)};Hs.prototype.ya=function(){gt(this.g,"b")};function g4(){this.blockSize=-1}function En(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}at(En,g4);En.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Qv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}En.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Qv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Qv(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Qv(this,r),i=0;break}}this.h=i,this.i+=e};En.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function _e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var m4={};function N0(t){return-128<=t&&128>t?SB(t,function(e){return new _e([e|0],0>e?-1:0)}):new _e([t|0],0>t?-1:0)}function Yn(t){if(isNaN(t)||!isFinite(t))return js;if(0>t)return pt(Yn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=l0;return new _e(e,0)}function iM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pt(iM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yn(Math.pow(e,8)),r=js,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Yn(Math.pow(e,o)),r=r.R(o).add(Yn(s))):(r=r.R(n),r=r.add(Yn(s)))}return r}var l0=4294967296,js=N0(0),d0=N0(1),eS=N0(16777216);P=_e.prototype;P.ea=function(){if(rn(this))return-pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:l0+r)*e,e*=l0}return t};P.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Mr(this))return"0";if(rn(this))return"-"+pt(this).toString(t);for(var e=Yn(Math.pow(t,6)),n=this,r="";;){var i=Wh(n,e).g;n=Gh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Mr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Mr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function rn(t){return t.h==-1}P.X=function(t){return t=Gh(this,t),rn(t)?-1:Mr(t)?0:1};function pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new _e(n,~t.h).add(d0)}P.abs=function(){return rn(this)?pt(this):this};P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new _e(n,n[n.length-1]&-2147483648?-1:0)};function Gh(t,e){return t.add(pt(e))}P.R=function(t){if(Mr(this)||Mr(t))return js;if(rn(this))return rn(t)?pt(this).R(pt(t)):pt(pt(this).R(t));if(rn(t))return pt(this.R(pt(t)));if(0>this.X(eS)&&0>t.X(eS))return Yn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Bh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Bh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Bh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Bh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new _e(n,0)};function Bh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gc(t,e){this.g=t,this.h=e}function Wh(t,e){if(Mr(e))throw Error("division by zero");if(Mr(t))return new Gc(js,js);if(rn(t))return e=Wh(pt(t),e),new Gc(pt(e.g),pt(e.h));if(rn(e))return e=Wh(t,pt(e)),new Gc(pt(e.g),e.h);if(30<t.g.length){if(rn(t)||rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=d0,r=e;0>=r.X(t);)n=tS(n),r=tS(r);var i=Us(n,1),o=Us(r,1);for(r=Us(r,2),n=Us(n,2);!Mr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Us(r,1),n=Us(n,1)}return e=Gh(t,i.R(e)),new Gc(i,e)}for(i=js;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Yn(n),s=o.R(e);rn(s)||0<s.X(t);)n-=r,o=Yn(n),s=o.R(e);Mr(o)&&(o=d0),i=i.add(o),t=Gh(t,s)}return new Gc(i,t)}P.gb=function(t){return Wh(this,t).h};P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new _e(n,this.h&t.h)};P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new _e(n,this.h|t.h)};P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new _e(n,this.h^t.h)};function tS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new _e(n,t.h)}function Us(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new _e(i,t.h)}zh.prototype.createWebChannel=zh.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;tf.NO_ERROR=0;tf.TIMEOUT=8;tf.HTTP_ERROR=6;ES.COMPLETE="complete";CS.EventType=au;au.OPEN="a";au.CLOSE="b";au.ERROR="c";au.MESSAGE="d";st.prototype.listen=st.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;En.prototype.digest=En.prototype.l;En.prototype.reset=En.prototype.reset;En.prototype.update=En.prototype.j;_e.prototype.add=_e.prototype.add;_e.prototype.multiply=_e.prototype.R;_e.prototype.modulo=_e.prototype.gb;_e.prototype.compare=_e.prototype.X;_e.prototype.toNumber=_e.prototype.ea;_e.prototype.toString=_e.prototype.toString;_e.prototype.getBits=_e.prototype.D;_e.fromNumber=Yn;_e.fromString=iM;var oM=Cn.createWebChannelTransport=function(){return new zh},sM=Cn.getStatEventTarget=function(){return ef()},lf=Cn.ErrorCode=tf,aM=Cn.EventType=ES,cM=Cn.Event=lo,O0=Cn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uM=Cn.FetchXmlHttpFactory=lu,fu=Cn.WebChannel=CS,lM=Cn.XhrIo=Fe,dM=Cn.Md5=En,ho=Cn.Integer=_e;var hM="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var wa="10.11.1";var wi=new ol("@firebase/firestore");function Ks(){return wi.logLevel}function hx(t){wi.setLogLevel(t)}function C(t,...e){if(wi.logLevel<=An.DEBUG){let n=e.map(Vw);wi.debug(`Firestore (${wa}): ${t}`,...n)}}function $e(t,...e){if(wi.logLevel<=An.ERROR){let n=e.map(Vw);wi.error(`Firestore (${wa}): ${t}`,...n)}}function sn(t,...e){if(wi.logLevel<=An.WARN){let n=e.map(Vw);wi.warn(`Firestore (${wa}): ${t}`,...n)}}function Vw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function F(t="Unexpected state"){let e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+t;throw $e(e),new Error(e)}function L(t,e){t||F()}function fx(t,e){t||F()}function x(t,e){return t}var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=class extends qE{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ze=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ef=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},L0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}},j0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},B0=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Ze;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ze,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ze)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L(typeof r.accessToken=="string"),new Ef(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return L(e===null||typeof e=="string"),new Ye(e)}},$0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},H0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},q0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},z0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,C("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L(typeof n.token=="string"),this.R=n.token,new q0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function y4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Cf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=y4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Y(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function px(t){return t+"\0"}var Ne=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new w(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new w(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new w(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new w(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var H=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ne(0,0))}static max(){return new t(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var If=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&F(),r===void 0?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},he=class t extends If{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new w(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},v4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,He=class t extends If{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return v4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new w(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new w(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new w(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new w(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var M=class t{constructor(e){this.path=e}static fromPath(e){return new t(he.fromString(e))}static fromName(e){return new t(he.fromString(e).popFirst(5))}static empty(){return new t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new he(e.slice()))}};var ia=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function G0(t){return t.fields.find(e=>e.kind===2)}function po(t){return t.fields.filter(e=>e.kind!==2)}ia.UNKNOWN_ID=-1;var ea=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var bu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,an.min())}};function gx(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=H.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new an(i,M.empty(),e)}function mx(t){return new an(t.readTime,t.key,-1)}var an=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(H.min(),M.empty(),-1)}static max(){return new t(H.max(),M.empty(),-1)}};function Uw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:Y(t.largestBatchId,e.largestBatchId))}var yx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Df=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xi(t){return m(this,null,function*(){if(t.code!==v.FAILED_PRECONDITION||t.message!==yx)throw t;C("LocalStore","Unexpectedly lost primary lease")})}var p=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};var bf=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ze,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new wo(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Lw(r.target.error);this.V.reject(new wo(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new wo(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(C("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new K0(n)}},Ei=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Oa())===12.2&&$e("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return C("SimpleDb","Removing database:",e),go(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!il())return!1;if(t.C())return!0;let e=Oa(),n=t.S(e),r=0<n&&n<10,i=vx(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return m(this,null,function*(){return this.db||(C("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{let s=o.target.result;n(s)},i.onblocked=()=>{r(new wo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{let s=o.target.error;s.name==="VersionError"?r(new w(v.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new w(v.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new wo(e,s))},i.onupgradeneeded=o=>{C("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{C("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return m(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=bf.open(this.db,e,o?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),p.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(C("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function vx(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var W0=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return go(this.B.delete())}},wo=class extends w{constructor(e,n){super(v.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Pi(t){return t.name==="IndexedDbTransactionError"}var K0=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(C("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(C("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),go(r)}add(e){return C("SimpleDb","ADD",this.store.name,e,e),go(this.store.add(e))}get(e){return go(this.store.get(e)).next(n=>(n===void 0&&(n=null),C("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return C("SimpleDb","DELETE",this.store.name,e),go(this.store.delete(e))}count(){return C("SimpleDb","COUNT",this.store.name),go(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let o=i.getAll(r.range);return new p((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(r),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new p((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){C("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new p((r,i)=>{n.onerror=o=>{let s=Lw(o.target.error);i(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){let r=[];return new p((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void i();let c=new W0(a),u=n(a.primaryKey,a.value,c);if(u instanceof p){let l=u.catch(d=>(c.done(),p.reject(d)));r.push(l)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>p.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function go(t){return new p((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Lw(r.target.error);n(i)}})}var fM=!1;function Lw(t){let e=Ei.S(Oa());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new w("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fM||(fM=!0,setTimeout(()=>{throw r},0)),r}}return t}var Q0=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){C("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>m(this,null,function*(){this.task=null;try{C("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Pi(n)?C("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield xi(n)}yield this.X(6e4)}))}},J0=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return m(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,o=!0;return p.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return C("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(C("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{let s=mx(o);Uw(s,r)>0&&(r=s)}),new an(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Kt=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Wu(t){return t==null}function Tu(t){return t===0&&1/t==-1/0}function _x(t){return typeof t=="number"&&Number.isInteger(t)&&!Tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Rt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pM(e)),e=_4(t.get(n),e);return pM(e)}function _4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function pM(t){return t+""}function Zn(t){let e=t.length;if(L(e>=2),e===2)return L(t.charAt(0)===""&&t.charAt(1)===""),he.emptyPath();let n=e-2,r=[],i="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&F(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:F()}o=s+2}return new he(r)}var gM=["userId","batchId"];function gf(t,e){return[t,Rt(e)]}function wx(t,e,n){return[t,Rt(e),n]}var w4={},E4=["prefixPath","collectionGroup","readTime","documentId"],C4=["prefixPath","collectionGroup","documentId"],I4=["collectionGroup","readTime","prefixPath","documentId"],D4=["canonicalId","targetId"],b4=["targetId","path"],T4=["path","targetId"],A4=["collectionId","parent"],S4=["indexId","uid"],M4=["uid","sequenceNumber"],x4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],P4=["indexId","uid","orderedDocumentKey"],R4=["userId","collectionPath","documentId"],N4=["userId","collectionPath","largestBatchId"],O4=["userId","collectionGroup","largestBatchId"],Ex=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],F4=[...Ex,"documentOverlays"],Cx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ix=Cx,Dx=[...Ix,"indexConfiguration","indexState","indexEntries"],k4=Dx;var Au=class extends Df{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function ut(t,e){let n=x(t);return Ei.F(n._e,e)}function mM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Se=class t{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xs(this.root,e,this.comparator,!0)}},Xs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},er=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();let e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}};er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,n,r,i,o){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ie=class t{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tf(this.data.getIterator())}getIteratorFrom(e){return new Tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Tf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function qs(t){return t.hasNext()?t.getNext():void 0}var Qt=class t{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ie(He.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function Tx(){return typeof atob<"u"}var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Af("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var V4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(L(!!t),typeof t=="string"){let e=0,n=V4.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}function yp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jw(t){let e=t.mapValue.fields.__previous_value__;return yp(e)?jw(e):e}function Su(t){let e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}var Y0=class{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ii=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mf={nullValue:"NULL_VALUE"};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yp(t)?4:Ax(t)?9007199254740991:10:F()}function rr(t,e){if(t===e)return!0;let n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),a=Nr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ci(i.bytesValue).isEqual(Ci(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?Tu(s)===Tu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(mM(s)!==mM(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!rr(s[c],a[c])))return!1;return!0}(t,e);default:return F()}}function Mu(t,e){return(t.values||[]).find(n=>rr(n,e))!==void 0}function Di(t,e){if(t===e)return 0;let n=Eo(t),r=Eo(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ke(o.integerValue||o.doubleValue),c=ke(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return yM(t.timestampValue,e.timestampValue);case 4:return yM(Su(t),Su(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ci(o),c=Ci(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=Y(a[u],c[u]);if(l!==0)return l}return Y(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Y(ke(o.latitude),ke(s.latitude));return a!==0?a:Y(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Di(a[u],c[u]);if(l)return l}return Y(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===vi.mapValue&&s===vi.mapValue)return 0;if(o===vi.mapValue)return 1;if(s===vi.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=Y(c[d],l[d]);if(h!==0)return h;let f=Di(a[c[d]],u[l[d]]);if(f!==0)return f}return Y(c.length,l.length)}(t.mapValue,e.mapValue);default:throw F()}}function yM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Y(t,e);let n=Nr(t),r=Nr(e),i=Y(n.seconds,r.seconds);return i!==0?i:Y(n.nanos,r.nanos)}function oa(t){return Z0(t)}function Z0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ci(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Z0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Z0(n.fields[s])}`;return i+"}"}(t.mapValue):F()}function Co(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function X0(t){return!!t&&"integerValue"in t}function xu(t){return!!t&&"arrayValue"in t}function vM(t){return!!t&&"nullValue"in t}function _M(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yf(t){return!!t&&"mapValue"in t}function wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ax(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function U4(t){return"nullValue"in t?mf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Co(Ii.empty(),M.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:F()}function L4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Co(Ii.empty(),M.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?vi:F()}function wM(t,e){let n=Di(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function EM(t,e){let n=Di(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Ct=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=He.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=wu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(wu(this.value))}};function Sx(t){let e=[];return Ro(t.fields,(n,r)=>{let i=new He([n]);if(yf(r)){let o=Sx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Qt(e)}var Xe=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,H.min(),H.min(),H.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,H.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,H.min(),H.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,H.min(),H.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ir=class{constructor(e,n){this.position=e,this.inclusive=n}};function CM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=M.comparator(M.fromName(s.referenceValue),n.key):r=Di(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function IM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rr(t.position[n],e.position[n]))return!1;return!0}var Io=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function j4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Sf=class{},se=class t extends Sf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n_(e,n,r):n==="array-contains"?new o_(e,r):n==="in"?new Mf(e,r):n==="not-in"?new s_(e,r):n==="array-contains-any"?new a_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r_(e,r):new i_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Di(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Di(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},we=class t extends Sf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return sa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function sa(t){return t.op==="and"}function e_(t){return t.op==="or"}function Bw(t){return Mx(t)&&sa(t)}function Mx(t){for(let e of t.filters)if(e instanceof we)return!1;return!0}function t_(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(Bw(t))return t.filters.map(e=>t_(e)).join(",");{let e=t.filters.map(n=>t_(n)).join(",");return`${t.op}(${e})`}}function xx(t,e){return t instanceof se?function(r,i){return i instanceof se&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)}(t,e):t instanceof we?function(r,i){return i instanceof we&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&xx(s,i.filters[a]),!0):!1}(t,e):void F()}function Px(t,e){let n=t.filters.concat(e);return we.create(n,t.op)}function Rx(t){return t instanceof se?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof we?function(n){return n.op.toString()+" {"+n.getFilters().map(Rx).join(" ,")+"}"}(t):"Filter"}var n_=class extends se{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){let n=M.comparator(e.key,this.key);return this.matchesComparison(n)}},r_=class extends se{constructor(e,n){super(e,"in",n),this.keys=Nx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},i_=class extends se{constructor(e,n){super(e,"not-in",n),this.keys=Nx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Nx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}var o_=class extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return xu(n)&&Mu(n.arrayValue,this.value)}},Mf=class extends se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}},s_=class extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Mu(this.value.arrayValue,n)}},a_=class extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!xu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mu(this.value.arrayValue,r))}};var c_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function u_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new c_(t,e,n,r,i,o,s)}function Do(t){let e=x(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>t_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ue=n}return e.ue}function Ku(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IM(t.startAt,e.startAt)&&IM(t.endAt,e.endAt)}function xf(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Pf(t,e){return t.filters.filter(n=>n instanceof se&&n.field.isEqual(e))}function DM(t,e,n){let r=mf,i=!0;for(let o of Pf(t,e)){let s=mf,a=!0;switch(o.op){case"<":case"<=":s=U4(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=mf}wM({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];wM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function bM(t,e,n){let r=vi,i=!0;for(let o of Pf(t,e)){let s=vi,a=!0;switch(o.op){case">=":case">":s=L4(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=vi}EM({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];EM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}var In=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Ox(t,e,n,r,i,o,s,a){return new In(t,e,n,r,i,o,s,a)}function Ea(t){return new In(t)}function TM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $w(t){return t.collectionGroup!==null}function ta(t){let e=x(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ie(He.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Io(o,r))}),n.has(He.keyField().canonicalString())||e.ce.push(new Io(He.keyField(),r))}return e.ce}function Nt(t){let e=x(t);return e.le||(e.le=B4(e,ta(t))),e.le}function B4(t,e){if(t.limitType==="F")return u_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Io(i.field,o)});let n=t.endAt?new ir(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ir(t.startAt.position,t.startAt.inclusive):null;return u_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l_(t,e){let n=t.filters.concat([e]);return new In(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rf(t,e,n){return new In(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qu(t,e){return Ku(Nt(t),Nt(e))&&t.limitType===e.limitType}function Fx(t){return`${Do(Nt(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Rx(i)).join(", ")}]`),Wu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(Nt(t))}; limitType=${t.limitType})`}function Ju(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):M.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let u=CM(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,ta(r),i)||r.endAt&&!function(s,a,c){let u=CM(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,ta(r),i))}(t,e)}function kx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vx(t){return(e,n)=>{let r=!1;for(let i of ta(t)){let o=$4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $4(t,e,n){let r=t.field.isKeyField()?M.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Di(c,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}var or=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return bx(this.inner)}size(){return this.innerSize}};var H4=new Se(M.comparator);function $t(){return H4}var Ux=new Se(M.comparator);function vu(...t){let e=Ux;for(let n of t)e=e.insert(n.key,n);return e}function Lx(t){let e=Ux;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xn(){return Eu()}function jx(){return Eu()}function Eu(){return new or(t=>t.toString(),(t,e)=>t.isEqual(e))}var q4=new Se(M.comparator),z4=new Ie(M.comparator);function Z(...t){let e=z4;for(let n of t)e=e.add(n);return e}var G4=new Ie(Y);function Hw(){return G4}function Bx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function $x(t){return{integerValue:""+t}}function Hx(t,e){return _x(e)?$x(e):Bx(t,e)}var aa=class{constructor(){this._=void 0}};function W4(t,e,n){return t instanceof bi?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yp(o)&&(o=jw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Or?zx(t,e):t instanceof Fr?Gx(t,e):function(i,o){let s=qx(i,o),a=AM(s)+AM(i.Pe);return X0(s)&&X0(i.Pe)?$x(a):Bx(i.serializer,a)}(t,e)}function K4(t,e,n){return t instanceof Or?zx(t,e):t instanceof Fr?Gx(t,e):n}function qx(t,e){return t instanceof Ti?function(r){return X0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var bi=class extends aa{},Or=class extends aa{constructor(e){super(),this.elements=e}};function zx(t,e){let n=Wx(e);for(let r of t.elements)n.some(i=>rr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Fr=class extends aa{constructor(e){super(),this.elements=e}};function Gx(t,e){let n=Wx(e);for(let r of t.elements)n=n.filter(i=>!rr(i,r));return{arrayValue:{values:n}}}var Ti=class extends aa{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function AM(t){return ke(t.integerValue||t.doubleValue)}function Wx(t){return xu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var bo=class{constructor(e,n){this.field=e,this.transform=n}};function Q4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Or&&i instanceof Or||r instanceof Fr&&i instanceof Fr?ra(r.elements,i.elements,rr):r instanceof Ti&&i instanceof Ti?rr(r.Pe,i.Pe):r instanceof bi&&i instanceof bi}(t.transform,e.transform)}var d_=class{constructor(e,n){this.version=e,this.transformResults=n}},Ve=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ca=class{};function Kx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Si(t.key,Ve.none()):new Ai(t.key,t.data,Ve.none());{let n=t.data,r=Ct.empty(),i=new Ie(He.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Dn(t.key,r,new Qt(i.toArray()),Ve.none())}}function J4(t,e,n){t instanceof Ai?function(i,o,s){let a=i.value.clone(),c=MM(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dn?function(i,o,s){if(!vf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=MM(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Qx(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Cu(t,e,n,r){return t instanceof Ai?function(o,s,a,c){if(!vf(o.precondition,s))return a;let u=o.value.clone(),l=xM(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dn?function(o,s,a,c){if(!vf(o.precondition,s))return a;let u=xM(o.fieldTransforms,c,s),l=s.data;return l.setAll(Qx(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return vf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Y4(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=qx(r.transform,i||null);o!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,o))}return n||null}function SM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ra(r,i,(o,s)=>Q4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ai=class extends ca{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dn=class extends ca{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Qx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function MM(t,e,n){let r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,K4(s,a,n[i]))}return r}function xM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,W4(o,s,e))}return r}var Si=class extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Pu=class extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ru=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&J4(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=jx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=Kx(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>SM(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>SM(n,r))}},h_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){L(e.mutations.length===r.length);let i=function(){return q4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Nu=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var f_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,de;function Jx(t){switch(t){default:return F();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function Yx(t){if(t===void 0)return $e("GRPC error has no .code"),v.UNKNOWN;switch(t){case Qe.OK:return v.OK;case Qe.CANCELLED:return v.CANCELLED;case Qe.UNKNOWN:return v.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return v.INTERNAL;case Qe.UNAVAILABLE:return v.UNAVAILABLE;case Qe.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Qe.NOT_FOUND:return v.NOT_FOUND;case Qe.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Qe.ABORTED:return v.ABORTED;case Qe.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Qe.DATA_LOSS:return v.DATA_LOSS;default:return F()}}(de=Qe||(Qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var PM=null;function Zx(){return new TextEncoder}var Z4=new ho([4294967295,4294967295],0);function RM(t){let e=Zx().encode(t),n=new dM;return n.update(e),new Uint8Array(n.digest())}function NM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ho([n,r],0),new ho([i,o],0)]}var p_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _o(`Invalid padding: ${n}`);if(r<0)throw new _o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _o(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ho.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ho.fromNumber(r)));return i.compare(Z4)===1&&(i=new ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=RM(e),[r,i]=NM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=RM(e),[r,i]=NM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_o=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ou=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(H.min(),i,new Se(Y),$t(),Z())}},Fu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Z(),Z(),Z())}};var na=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Nf=class{constructor(e,n){this.targetId=e,this.me=n}},Of=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ff=class{constructor(){this.fe=0,this.ge=FM(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Z(),n=Z(),r=Z();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Fu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=FM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,L(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},g_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=$t(),this.qe=OM(),this.Qe=new Se(Y)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(xf(o))if(r===0){let s=new M(o.path);this.Ue(n,s,Xe.newNoDocument(s,H.min()))}else L(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}PM?.et(function(l,d,h,f,g){var _,y,E,U,T,V;let q={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},G=d.unchangedNames;return G&&(q.bloomFilter={applied:g===0,hashCount:(_=G?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(U=(E=(y=G?.bits)===null||y===void 0?void 0:y.bitmap)===null||E===void 0?void 0:E.length)!==null&&U!==void 0?U:0,padding:(V=(T=G?.bits)===null||T===void 0?void 0:T.padding)!==null&&V!==void 0?V:0,mightContain:ye=>{var Ft;return(Ft=f?.mightContain(ye))!==null&&Ft!==void 0&&Ft}}),q}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ci(r).toUint8Array()}catch(c){if(c instanceof Af)return sn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new p_(s,i,o)}catch(c){return sn(c instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&xf(a.target)){let c=new M(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Xe.newNoDocument(c,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Z();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Ou(e,n,this.Qe,this.ke,r);return this.ke=$t(),this.qe=OM(),this.Qe=new Se(Y),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ff,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ie(Y),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||C("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ff),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function OM(){return new Se(M.comparator)}function FM(){return new Se(M.comparator)}var X4={asc:"ASCENDING",desc:"DESCENDING"},e3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t3={and:"AND",or:"OR"},m_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function y_(t,e){return t.useProto3Json||Wu(e)?e:{value:e}}function ua(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n3(t,e){return ua(t,e.toTimestamp())}function qe(t){return L(!!t),H.fromTimestamp(function(n){let r=Nr(n);return new Ne(r.seconds,r.nanos)}(t))}function qw(t,e){return v_(t,e).canonicalString()}function v_(t,e){let n=function(i){return new he(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function e1(t){let e=he.fromString(t);return L(l1(e)),e}function ku(t,e){return qw(t.databaseId,e.path)}function tr(t,e){let n=e1(e);if(n.get(1)!==t.databaseId.projectId)throw new w(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new w(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(r1(n))}function t1(t,e){return qw(t.databaseId,e)}function n1(t){let e=e1(t);return e.length===4?he.emptyPath():r1(e)}function __(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r1(t){return L(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kM(t,e,n){return{name:ku(t,e),fields:n.value.mapValue.fields}}function i1(t,e,n){let r=tr(t,e.name),i=qe(e.updateTime),o=e.createTime?qe(e.createTime):H.min(),s=new Ct({mapValue:{fields:e.fields}}),a=Xe.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function r3(t,e){return"found"in e?function(r,i){L(!!i.found),i.found.name,i.found.updateTime;let o=tr(r,i.found.name),s=qe(i.found.updateTime),a=i.found.createTime?qe(i.found.createTime):H.min(),c=new Ct({mapValue:{fields:i.found.fields}});return Xe.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(r,i){L(!!i.missing),L(!!i.readTime);let o=tr(r,i.missing),s=qe(i.readTime);return Xe.newNoDocument(o,s)}(t,e):F()}function i3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:F()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?(L(l===void 0||typeof l=="string"),ct.fromBase64String(l||"")):(L(l===void 0||l instanceof Buffer||l instanceof Uint8Array),ct.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let l=u.code===void 0?v.UNKNOWN:Yx(u.code);return new w(l,u.message||"")}(s);n=new Of(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=tr(t,r.document.name),o=qe(r.document.updateTime),s=r.document.createTime?qe(r.document.createTime):H.min(),a=new Ct({mapValue:{fields:r.document.fields}}),c=Xe.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new na(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=tr(t,r.document),o=r.readTime?qe(r.readTime):H.min(),s=Xe.newNoDocument(i,o),a=r.removedTargetIds||[];n=new na([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=tr(t,r.document),o=r.removedTargetIds||[];n=new na([],o,i,null)}else{if(!("filter"in e))return F();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new f_(i,o),a=r.targetId;n=new Nf(a,s)}}return n}function Vu(t,e){let n;if(e instanceof Ai)n={update:kM(t,e.key,e.value)};else if(e instanceof Si)n={delete:ku(t,e.key)};else if(e instanceof Dn)n={update:kM(t,e.key,e.data),updateMask:l3(e.fieldMask)};else{if(!(e instanceof Pu))return F();n={verify:ku(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof bi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Or)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ti)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:n3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:F()}(t,e.precondition)),n}function w_(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?Ve.updateTime(qe(o.updateTime)):o.exists!==void 0?Ve.exists(o.exists):Ve.none()}(e.currentDocument):Ve.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let c=null;if("setToServerValue"in a)L(a.setToServerValue==="REQUEST_TIME"),c=new bi;else if("appendMissingElements"in a){let l=a.appendMissingElements.values||[];c=new Or(l)}else if("removeAllFromArray"in a){let l=a.removeAllFromArray.values||[];c=new Fr(l)}else"increment"in a?c=new Ti(s,a.increment):F();let u=He.fromServerFormat(a.fieldPath);return new bo(u,c)}(t,i)):[];if(e.update){e.update.name;let i=tr(t,e.update.name),o=new Ct({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let u=c.fieldPaths||[];return new Qt(u.map(l=>He.fromServerFormat(l)))}(e.updateMask);return new Dn(i,o,s,n,r)}return new Ai(i,o,n,r)}if(e.delete){let i=tr(t,e.delete);return new Si(i,n)}if(e.verify){let i=tr(t,e.verify);return new Pu(i,n)}return F()}function o3(t,e){return t&&t.length>0?(L(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?qe(i.updateTime):qe(o);return s.isEqual(H.min())&&(s=qe(o)),new d_(s,i.transformResults||[])}(n,e))):[]}function o1(t,e){return{documents:[t1(t,e.path)]}}function s1(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=t1(t,i);let o=function(u){if(u.length!==0)return u1(we.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Js(h.field),direction:a3(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=y_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function a1(t){let e=n1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){L(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){let h=c1(d);return h instanceof we&&Bw(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new Io(Ys(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Wu(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new ir(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new ir(f,h)}(n.endAt)),Ox(e,i,s,o,a,"F",c,u)}function s3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function c1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ys(n.unaryFilter.field);return se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ys(n.unaryFilter.field);return se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ys(n.unaryFilter.field);return se.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ys(n.unaryFilter.field);return se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):t.fieldFilter!==void 0?function(n){return se.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return we.create(n.compositeFilter.filters.map(r=>c1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return F()}}(n.compositeFilter.op))}(t):F()}function a3(t){return X4[t]}function c3(t){return e3[t]}function u3(t){return t3[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Ys(t){return He.fromServerFormat(t.fieldPath)}function u1(t){return t instanceof se?function(n){if(n.op==="=="){if(_M(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(vM(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_M(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(vM(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:c3(n.op),value:n.value}}}(t):t instanceof we?function(n){let r=n.getFilters().map(i=>u1(i));return r.length===1?r[0]:{compositeFilter:{op:u3(n.op),filters:r}}}(t):F()}function l3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var la=class t{constructor(e,n,r,i,o=H.min(),s=H.min(),a=ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kf=class{constructor(e){this.ut=e}};function d3(t,e){let n;if(e.document)n=i1(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=M.fromSegments(e.noDocument.path),i=Ao(e.noDocument.readTime);n=Xe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return F();{let r=M.fromSegments(e.unknownDocument.path),i=Ao(e.unknownDocument.version);n=Xe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let o=new Ne(i[0],i[1]);return H.fromTimestamp(o)}(e.readTime)),n}function VM(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:ku(o,s.key),fields:s.data.value.mapValue.fields,updateTime:ua(o,s.version.toTimestamp()),createTime:ua(o,s.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:To(e.version)};else{if(!e.isUnknownDocument())return F();r.unknownDocument={path:n.path.toArray(),version:To(e.version)}}return r}function Vf(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function To(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ao(t){let e=new Ne(t.seconds,t.nanoseconds);return H.fromTimestamp(e)}function mo(t,e){let n=(e.baseMutations||[]).map(o=>w_(t.ut,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let r=e.mutations.map(o=>w_(t.ut,o)),i=Ne.fromMillis(e.localWriteTimeMs);return new Ru(e.batchId,i,n,r)}function _u(t){let e=Ao(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ao(t.lastLimboFreeSnapshotVersion):H.min(),r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return L(o.documents.length===1),Nt(Ea(n1(o.documents[0])))}(t.query):function(o){return Nt(a1(o))}(t.query),new la(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ct.fromBase64String(t.resumeToken))}function d1(t,e){let n=To(e.snapshotVersion),r=To(e.lastLimboFreeSnapshotVersion),i;i=xf(e.target)?o1(t.ut,e.target):s1(t.ut,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Do(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zw(t){let e=a1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rf(e,e.limit,"L"):e}function F0(t,e){return new Nu(e.largestBatchId,w_(t.ut,e.overlayMutation))}function UM(t,e){let n=e.path.lastSegment();return[t,Rt(e.path.popLast()),n]}function LM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:To(r.readTime),documentKey:Rt(r.documentKey.path),largestBatchId:r.largestBatchId}}var E_=class{getBundleMetadata(e,n){return jM(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Ao(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return jM(e).put(function(i){return{bundleId:i.id,createTime:To(qe(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return BM(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:zw(o.bundledQuery),readTime:Ao(o.readTime)}}(r)})}saveNamedQuery(e,n){return BM(e).put(function(i){return{name:i.name,readTime:To(qe(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function jM(t){return ut(t,"bundles")}function BM(t){return ut(t,"namedQueries")}var Uf=class t{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return pu(e).get(UM(this.userId,n)).next(r=>r?F0(this.serializer,r):null)}getOverlays(e,n){let r=Xn();return p.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((o,s)=>{let a=new Nu(n,s);i.push(this.lt(e,a))}),p.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(s=>i.add(Rt(s.getCollectionPath())));let o=[];return i.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(pu(e).j("collectionPathOverlayIndex",a))}),p.waitFor(o)}getOverlaysForCollection(e,n,r){let i=Xn(),o=Rt(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return pu(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let u=F0(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let o=Xn(),s,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return pu(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,l)=>{let d=F0(this.serializer,u);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):l.done()}).next(()=>o)}lt(e,n){return pu(e).put(function(i,o,s){let[a,c,u]=UM(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Vu(i.ut,s.mutation)}}(this.serializer,this.userId,n))}};function pu(t){return ut(t,"documentOverlays")}var Pr=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Tu(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Nr(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ci(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Ax(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):F()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),M.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Pr.St=new Pr;function h3(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function $M(t){let e=64-function(r){let i=0;for(let o=0;o<8;++o){let s=h3(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}var C_=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{let i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){let n=this.Lt(e),r=$M(n);this.Bt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){let n=this.Lt(e),r=$M(n);this.Bt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){let n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){let n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},I_=class{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}},D_=class{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}},yo=class{constructor(){this.Wt=new C_,this.Gt=new I_(this.Wt),this.zt=new D_(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}};var vo=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function pi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=HM(t.arrayValue,e.arrayValue),n!==0?n:(n=HM(t.directionalValue,e.directionalValue),n!==0?n:M.comparator(t.documentKey,e.documentKey)))}function HM(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Lf=class{constructor(e){this.Jt=new Ie((n,r)=>He.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(L(e.collectionGroup===this.collectionId),this.Xt)return!1;let n=G0(e);if(n!==void 0&&!this.tn(n))return!1;let r=po(e),i=new Set,o=0,s=0;for(;o<r.length&&this.tn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Jt.size>0){let a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<r.length;++o){let a=r[o];if(s>=this.Yt.length||!this.rn(this.Yt[s++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Ie(He.comparator),n=[];for(let r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ea(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ea(r.field,0))}for(let r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ea(r.field,r.dir==="asc"?0:1)));return new ia(ia.UNKNOWN_ID,this.collectionId,n,bu.empty())}tn(e){for(let n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function h1(t){var e,n;if(L(t instanceof se||t instanceof we),t instanceof se){if(t instanceof Mf){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>se.create(t.field,"==",o)))||[];return we.create(i,"or")}return t}let r=t.filters.map(i=>h1(i));return we.create(r,t.op)}function f3(t){if(t.getFilters().length===0)return[];let e=A_(h1(t));return L(f1(e)),b_(e)||T_(e)?[e]:e.getFilters()}function b_(t){return t instanceof se}function T_(t){return t instanceof we&&Bw(t)}function f1(t){return b_(t)||T_(t)||function(n){if(n instanceof we&&e_(n)){for(let r of n.getFilters())if(!b_(r)&&!T_(r))return!1;return!0}return!1}(t)}function A_(t){if(L(t instanceof se||t instanceof we),t instanceof se)return t;if(t.filters.length===1)return A_(t.filters[0]);let e=t.filters.map(r=>A_(r)),n=we.create(e,t.op);return n=jf(n),f1(n)?n:(L(n instanceof we),L(sa(n)),L(n.filters.length>1),n.filters.reduce((r,i)=>Gw(r,i)))}function Gw(t,e){let n;return L(t instanceof se||t instanceof we),L(e instanceof se||e instanceof we),n=t instanceof se?e instanceof se?function(i,o){return we.create([i,o],"and")}(t,e):qM(t,e):e instanceof se?qM(e,t):function(i,o){if(L(i.filters.length>0&&o.filters.length>0),sa(i)&&sa(o))return Px(i,o.getFilters());let s=e_(i)?i:o,a=e_(i)?o:i,c=s.filters.map(u=>Gw(u,a));return we.create(c,"or")}(t,e),jf(n)}function qM(t,e){if(sa(e))return Px(e,t.getFilters());{let n=e.filters.map(r=>Gw(t,r));return we.create(n,"or")}}function jf(t){if(L(t instanceof se||t instanceof we),t instanceof se)return t;let e=t.getFilters();if(e.length===1)return jf(e[0]);if(Mx(t))return t;let n=e.map(i=>jf(i)),r=[];return n.forEach(i=>{i instanceof se?r.push(i):i instanceof we&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:we.create(r,t.op)}var S_=class{constructor(){this.on=new Uu}addToCollectionParentIndex(e,n){return this.on.add(n),p.resolve()}getCollectionParents(e,n){return p.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return p.resolve()}deleteFieldIndex(e,n){return p.resolve()}deleteAllFieldIndexes(e){return p.resolve()}createTargetIndexes(e,n){return p.resolve()}getDocumentsMatchingTarget(e,n){return p.resolve(null)}getIndexType(e,n){return p.resolve(0)}getFieldIndexes(e,n){return p.resolve([])}getNextCollectionGroupToUpdate(e){return p.resolve(null)}getMinOffset(e,n){return p.resolve(an.min())}getMinOffsetFromCollectionGroup(e,n){return p.resolve(an.min())}updateCollectionGroup(e,n,r){return p.resolve()}updateIndexEntries(e,n){return p.resolve()}},Uu=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ie(he.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ie(he.comparator)).toArray()}};var df=new Uint8Array(0),M_=class{constructor(e,n){this.databaseId=n,this._n=new Uu,this.an=new or(r=>Do(r),(r,i)=>Ku(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});let o={collectionId:r,parent:Rt(i)};return zM(e).put(o)}return p.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[px(n),""],!1,!0);return zM(e).U(i).next(o=>{for(let s of o){if(s.collectionId!==n)break;r.push(Zn(s.parent))}return r})}addFieldIndex(e,n){let r=gu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let o=r.add(i);if(n.indexState){let s=Gs(e);return o.next(a=>{s.put(LM(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let r=gu(e),i=Gs(e),o=zs(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=gu(e),r=zs(e),i=Gs(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return p.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let o=new Lf(r).sn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let r=zs(e),i=!0,o=new Map;return p.forEach(this.un(n),s=>this.cn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Z(),a=[];return p.forEach(o,(c,u)=>{C("IndexedDbIndexManager",`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(V=>`${V.fieldPath}:${V.kind}`).join(",")}`}(c)} to execute ${Do(n)}`);let l=function(T,V){let q=G0(V);if(q===void 0)return null;for(let G of Pf(T,q.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null}(u,c),d=function(T,V){let q=new Map;for(let G of po(V))for(let ye of Pf(T,G.fieldPath))switch(ye.op){case"==":case"in":q.set(G.fieldPath.canonicalString(),ye.value);break;case"not-in":case"!=":return q.set(G.fieldPath.canonicalString(),ye.value),Array.from(q.values())}return null}(u,c),h=function(T,V){let q=[],G=!0;for(let ye of po(V)){let Ft=ye.kind===0?DM(T,ye.fieldPath,T.startAt):bM(T,ye.fieldPath,T.startAt);q.push(Ft.value),G&&(G=Ft.inclusive)}return new ir(q,G)}(u,c),f=function(T,V){let q=[],G=!0;for(let ye of po(V)){let Ft=ye.kind===0?bM(T,ye.fieldPath,T.endAt):DM(T,ye.fieldPath,T.endAt);q.push(Ft.value),G&&(G=Ft.inclusive)}return new ir(q,G)}(u,c),g=this.ln(c,u,h),_=this.ln(c,u,f),y=this.hn(c,u,d),E=this.Pn(c.indexId,l,g,h.inclusive,_,f.inclusive,y);return p.forEach(E,U=>r.G(U,n.limit).next(T=>{T.forEach(V=>{let q=M.fromSegments(V.documentKey);s.has(q)||(s=s.add(q),a.push(q))})}))}).next(()=>a)}return p.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=f3(we.create(e.filters,"and")).map(r=>u_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,o,s,a){let c=(n!=null?n.length:1)*Math.max(r.length,o.length),u=c/(n!=null?n.length:1),l=[];for(let d=0;d<c;++d){let h=n?this.In(n[d/u]):df,f=this.Tn(e,h,r[d%u],i),g=this.En(e,h,o[d%u],s),_=a.map(y=>this.Tn(e,h,y,!0));l.push(...this.createRange(f,g,_))}return l}Tn(e,n,r,i){let o=new vo(e,M.empty(),n,r);return i?o:o.Ht()}En(e,n,r,i){let o=new vo(e,M.empty(),n,r);return i?o.Ht():o}cn(e,n){let r=new Lf(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(let a of o)r.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2,i=this.un(n);return p.forEach(i,o=>this.cn(e,o).next(s=>{s?r!==0&&s.fields.length<function(c){let u=new Ie(He.comparator),l=!1;for(let d of c.filters)for(let h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?l=!0:u=u.add(h.field));for(let d of c.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(l?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){let r=new yo;for(let i of po(e)){let o=n.data.field(i.fieldPath);if(o==null)return null;let s=r.jt(i.kind);Pr.St.ht(o,s)}return r.Ut()}In(e){let n=new yo;return Pr.St.ht(e,n.jt(0)),n.Ut()}An(e,n){let r=new yo;return Pr.St.ht(Co(this.databaseId,n),r.jt(function(o){let s=po(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new yo);let o=0;for(let s of po(e)){let a=r[o++];for(let c of i)if(this.Rn(n,s.fieldPath)&&xu(a))i=this.Vn(i,s,a);else{let u=c.jt(s.kind);Pr.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){let i=[...e],o=[];for(let s of r.arrayValue.values||[])for(let a of i){let c=new yo;c.seed(a.Ut()),Pr.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(r=>r instanceof se&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=gu(e),i=Gs(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{let s=[];return p.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(l,d){let h=d?new bu(d.sequenceNumber,new an(Ao(d.readTime),new M(Zn(d.documentKey)),d.largestBatchId)):bu.empty(),f=l.fields.map(([g,_])=>new ea(He.fromServerFormat(g),_));return new ia(l.indexId,l.collectionGroup,f,h)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Y(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=gu(e),o=Gs(e);return this.fn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>p.forEach(a,c=>o.put(LM(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){let r=new Map;return p.forEach(n,(i,o)=>{let s=r.get(i.collectionGroup);return(s?p.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),p.forEach(a,c=>this.gn(e,i,c).next(u=>{let l=this.pn(o,c);return u.isEqual(l)?p.resolve():this.yn(e,o,c,u,l)}))))})}wn(e,n,r,i){return zs(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return zs(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){let i=zs(e),o=new Ie(pi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(s,a)=>{o=o.add(new vo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let r=new Ie(pi),i=this.dn(n,e);if(i==null)return r;let o=G0(n);if(o!=null){let s=e.data.field(o.fieldPath);if(xu(s))for(let a of s.arrayValue.values||[])r=r.add(new vo(n.indexId,e.key,this.In(a),i))}else r=r.add(new vo(n.indexId,e.key,df,i));return r}yn(e,n,r,i,o){C("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,u,l,d,h){let f=c.getIterator(),g=u.getIterator(),_=qs(f),y=qs(g);for(;_||y;){let E=!1,U=!1;if(_&&y){let T=l(_,y);T<0?U=!0:T>0&&(E=!0)}else _!=null?U=!0:E=!0;E?(d(y),y=qs(g)):U?(h(_),_=qs(f)):(_=qs(f),y=qs(g))}}(i,o,pi,a=>{s.push(this.wn(e,n,r,a))},a=>{s.push(this.Sn(e,n,r,a))}),p.waitFor(s)}fn(e){let n=1;return Gs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>pi(s,a)).filter((s,a,c)=>!a||pi(s,c[a-1])!==0);let i=[];i.push(e);for(let s of r){let a=pi(s,e),c=pi(s,n);if(a===0)i[0]=e.Ht();else if(a>0&&c<0)i.push(s),i.push(s.Ht());else if(c>0)break}i.push(n);let o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];let a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,df,[]],c=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,df,[]];o.push(IDBKeyRange.bound(a,c))}return o}bn(e,n){return pi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(GM)}getMinOffset(e,n){return p.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||F())).next(GM)}};function zM(t){return ut(t,"collectionParents")}function zs(t){return ut(t,"indexEntries")}function gu(t){return ut(t,"indexConfiguration")}function Gs(t){return ut(t,"indexState")}function GM(t){L(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;Uw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new an(e.readTime,e.documentKey,n)}var WM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},on=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function p1(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:s},(l,d,h)=>(a++,h.delete()));o.push(c.next(()=>{L(a===1)}));let u=[];for(let l of n.mutations){let d=wx(e,l.key.path,n.batchId);o.push(i.delete(d)),u.push(l.key)}return p.waitFor(o).next(()=>u)}function Bf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw F();e=t.noDocument}return JSON.stringify(e).length}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var $f=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){L(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let o=Zs(e),s=gi(e);return s.add({}).next(a=>{L(typeof a=="number");let c=new Ru(a,n,r,i),u=function(f,g,_){let y=_.baseMutations.map(U=>Vu(f.ut,U)),E=_.mutations.map(U=>Vu(f.ut,U));return{userId:g,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:y,mutations:E}}(this.serializer,this.userId,c),l=[],d=new Ie((h,f)=>Y(h.canonicalString(),f.canonicalString()));for(let h of i){let f=wx(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),l.push(s.put(u)),l.push(o.put(f,w4))}return d.forEach(h=>{l.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),p.waitFor(l).next(()=>c)})}lookupMutationBatch(e,n){return gi(e).get(n).next(r=>r?(L(r.userId===this.userId),mo(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?p.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gi(e).J({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(L(a.batchId>=r),o=mo(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return gi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).U("userMutationsIndex",n).next(r=>r.map(i=>mo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=gf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Zs(e).J({range:i},(s,a,c)=>{let[u,l,d]=s,h=Zn(l);if(u===this.userId&&n.path.isEqual(h))return gi(e).get(d).next(f=>{if(!f)throw F();L(f.userId===this.userId),o.push(mo(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(Y),i=[];return n.forEach(o=>{let s=gf(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Zs(e).J({range:a},(u,l,d)=>{let[h,f,g]=u,_=Zn(f);h===this.userId&&o.path.isEqual(_)?r=r.add(g):d.done()});i.push(c)}),p.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=gf(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ie(Y);return Zs(e).J({range:s},(c,u,l)=>{let[d,h,f]=c,g=Zn(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(f)):l.done()}).next(()=>this.vn(e,a))}vn(e,n){let r=[],i=[];return n.forEach(o=>{i.push(gi(e).get(o).next(s=>{if(s===null)throw F();L(s.userId===this.userId),r.push(mo(this.serializer,s))}))}),p.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return p1(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),p.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return p.resolve();let r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Zs(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){let c=Zn(o[1]);i.push(c)}else a.done()}).next(()=>{L(i.length===0)})})}containsKey(e,n){return g1(e,this.userId,n)}Mn(e){return m1(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function g1(t,e,n){let r=gf(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Zs(t).J({range:o,H:!0},(a,c,u)=>{let[l,d,h]=a;l===e&&d===i&&(s=!0),u.done()}).next(()=>s)}function gi(t){return ut(t,"mutations")}function Zs(t){return ut(t,"documentMutations")}function m1(t){return ut(t,"mutationQueues")}var da=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var x_=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{let r=new da(n.highestTargetId);return n.highestTargetId=r.next(),this.Bn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>H.fromTimestamp(new Ne(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Bn(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Bn(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ws(e).delete(n.targetId)).next(()=>this.Ln(e)).next(r=>(L(r.targetCount>0),r.targetCount-=1,this.Bn(e,r)))}removeTargets(e,n,r){let i=0,o=[];return Ws(e).J((s,a)=>{let c=_u(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>p.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Ws(e).J((r,i)=>{let o=_u(i);n(o)})}Ln(e){return KM(e).get("targetGlobalKey").next(n=>(L(n!==null),n))}Bn(e,n){return KM(e).put("targetGlobalKey",n)}kn(e,n){return Ws(e).put(d1(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){let r=Do(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Ws(e).J({range:i,index:"queryTargetsIndex"},(s,a,c)=>{let u=_u(a);Ku(n,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){let i=[],o=mi(e);return n.forEach(s=>{let a=Rt(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),p.waitFor(i)}removeMatchingKeys(e,n,r){let i=mi(e);return p.forEach(n,o=>{let s=Rt(o.path);return p.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){let r=mi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=mi(e),o=Z();return i.J({range:r,H:!0},(s,a,c)=>{let u=Zn(s[1]),l=new M(u);o=o.add(l)}).next(()=>o)}containsKey(e,n){let r=Rt(n.path),i=IDBKeyRange.bound([r],[px(r)],!1,!0),o=0;return mi(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],c,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return Ws(e).get(n).next(r=>r?_u(r):null)}};function Ws(t){return ut(t,"targets")}function KM(t){return ut(t,"targetGlobal")}function mi(t){return ut(t,"targetDocuments")}function QM([t,e],[n,r]){let i=Y(t,n);return i===0?Y(e,r):i}var P_=class{constructor(e){this.Qn=e,this.buffer=new Ie(QM),this.Kn=0}$n(){return++this.Kn}Un(e){let n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();QM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},R_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){C("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>m(this,null,function*(){this.Wn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pi(n)?C("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield xi(n)}yield this.Gn(3e5)}))}},N_=class{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return p.resolve(Kt.oe);let r=new P_(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(C("LruGarbageCollector","Garbage collection skipped; disabled"),p.resolve(WM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WM):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,o,s,a,c,u,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Ks()<=An.DEBUG&&C("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-l}ms`),p.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}};function p3(t,e){return new N_(t,e)}var O_=class{constructor(e,n){this.db=e,this.garbageCollector=p3(this,n)}jn(e){let n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return hf(e,r)}removeReference(e,n,r){return hf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return hf(e,n)}Xn(e,n){return function(i,o){let s=!1;return m1(i).Y(a=>g1(i,a,o).next(c=>(c&&(s=!0),p.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Zn(e,(s,a)=>{if(a<=n){let c=this.Xn(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,H.min()),mi(e).delete(function(d){return[0,Rt(d.path)]}(s))))});i.push(c)}}).next(()=>p.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return hf(e,n)}Zn(e,n){let r=mi(e),i,o=Kt.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{s===0?(o!==Kt.oe&&n(new M(Zn(i)),o),o=u,i=c):o=Kt.oe}).next(()=>{o!==Kt.oe&&n(new M(Zn(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function hf(t,e){return mi(t).put(function(r,i){return{targetId:0,path:Rt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Hf=class{constructor(){this.changes=new or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?p.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var F_=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return fo(e).put(r)}removeEntry(e,n,r){return fo(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Vf(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Xe.newInvalidDocument(n);return fo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(mu(n))},(i,o)=>{r=this.tr(n,o)}).next(()=>r)}nr(e,n){let r={size:0,document:Xe.newInvalidDocument(n)};return fo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(mu(n))},(i,o)=>{r={document:this.tr(n,o),size:Bf(o)}}).next(()=>r)}getEntries(e,n){let r=$t();return this.rr(e,n,(i,o)=>{let s=this.tr(i,o);r=r.insert(i,s)}).next(()=>r)}ir(e,n){let r=$t(),i=new Se(M.comparator);return this.rr(e,n,(o,s)=>{let a=this.tr(o,s);r=r.insert(o,a),i=i.insert(o,Bf(s))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return p.resolve();let i=new Ie(ZM);n.forEach(c=>i=i.add(c));let o=IDBKeyRange.bound(mu(i.first()),mu(i.last())),s=i.getIterator(),a=s.getNext();return fo(e).J({index:"documentKeyIndex",range:o},(c,u,l)=>{let d=M.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&ZM(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?l.$(mu(a)):l.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Vf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fo(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let l=$t();for(let d of u){let h=this.tr(M.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Ju(n,h)||i.has(h.key))&&(l=l.insert(h.key,h))}return l})}getAllFromCollectionGroup(e,n,r,i){let o=$t(),s=YM(n,r),a=YM(n,an.max());return fo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,l)=>{let d=this.tr(M.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(d.key,d),o.size===i&&l.done()}).next(()=>o)}newChangeBuffer(e){return new k_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return JM(e).get("remoteDocumentGlobalKey").next(n=>(L(!!n),n))}er(e,n){return JM(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){let r=d3(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(H.min())))return r}return Xe.newInvalidDocument(e)}};function y1(t){return new F_(t)}var k_=class extends Hf{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new or(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Ie((o,s)=>Y(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=VM(this._r.serializer,s);i=i.add(o.path.popLast());let u=Bf(c);r+=u-a.size,n.push(this._r.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){let c=VM(this._r.serializer,s.convertToNoDocument(H.min()));n.push(this._r.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,r)),p.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:r.get(o).readTime})}),r))}};function JM(t){return ut(t,"remoteDocumentGlobal")}function fo(t){return ut(t,"remoteDocumentsV14")}function mu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YM(t,e){let n=e.documentKey.path.toArray();return[t,Vf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ZM(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Y(n[o],r[o]),i)return i;return i=Y(n.length,r.length),i||(i=Y(n[n.length-2],r[r.length-2]),i||Y(n[n.length-1],r[r.length-1]))}var V_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var qf=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cu(r.mutation,i,Qt.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){let i=Xn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=vu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Xn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=$t(),s=Eu(),a=function(){return Eu()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Dn)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),Cu(l.mutation,u,l.mutation.getFieldMask(),Ne.now())):s.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new V_(l,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Eu(),i=new Se((s,a)=>s-a),o=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Qt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Z()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=jx();l.forEach(h=>{if(!o.has(h)){let f=Kx(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return p.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return M.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$w(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):p.resolve(Xn()),a=-1,c=o;return s.next(u=>p.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?p.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Z())).next(l=>({batchId:a,changes:Lx(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=vu();return this.indexManager.getCollectionParents(e,o).next(a=>p.forEach(a,c=>{let u=function(d,h){return new In(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,Xe.newInvalidDocument(l)))});let a=vu();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&Cu(l.mutation,u,Qt.empty(),Ne.now()),Ju(n,u)&&(a=a.insert(c,u))}),a})}};var U_=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return p.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qe(i.createTime)}}(n)),p.resolve()}getNamedQuery(e,n){return p.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:zw(i.bundledQuery),readTime:qe(i.readTime)}}(n)),p.resolve()}};var L_=class{constructor(){this.overlays=new Se(M.comparator),this.lr=new Map}getOverlay(e,n){return p.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Xn();return p.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),p.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),p.resolve()}getOverlaysForCollection(e,n,r){let i=Xn(),o=n.length+1,s=new M(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return p.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Se((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=Xn(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Xn(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return p.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Nu(n,r));let o=this.lr.get(n);o===void 0&&(o=Z(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}};var Lu=class{constructor(){this.hr=new Ie(Je.Pr),this.Ir=new Ie(Je.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new Je(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Je(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new M(new he([])),r=new Je(n,e),i=new Je(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new M(new he([])),r=new Je(n,e),i=new Je(n,e+1),o=Z();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Je(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return M.comparator(e.key,n.key)||Y(e.gr,n.gr)}static Tr(e,n){return Y(e.gr,n.gr)||M.comparator(e.key,n.key)}};var j_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ie(Je.Pr)}checkEmpty(e){return p.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ru(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.yr=this.yr.add(new Je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return p.resolve(s)}lookupMutationBatch(e,n){return p.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),o=i<0?0:i;return p.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return p.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{let a=this.wr(s.gr);o.push(a)}),p.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(Y);return n.forEach(i=>{let o=new Je(i,0),s=new Je(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),p.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;M.isDocumentKey(o)||(o=o.child(""));let s=new Je(new M(o),0),a=new Ie(Y);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},s),p.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){L(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return p.forEach(n.mutations,i=>{let o=new Je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new Je(n,0),i=this.yr.firstAfterOrEqual(r);return p.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,p.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var B_=class{constructor(e){this.Cr=e,this.docs=function(){return new Se(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return p.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=$t();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xe.newInvalidDocument(i))}),p.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$t(),s=n.path,a=new M(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Uw(mx(l),r)<=0||(i.has(l.key)||Ju(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return p.resolve(o)}getAllFromCollectionGroup(e,n,r,i){F()}vr(e,n){return p.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $_(this)}getSize(e){return p.resolve(this.size)}},$_=class extends Hf{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),p.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var H_=class{constructor(e){this.persistence=e,this.Fr=new or(n=>Do(n),Ku),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Lu,this.targetCount=0,this.Nr=da.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),p.resolve()}getLastRemoteSnapshotVersion(e){return p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return p.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),p.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),p.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new da(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,p.resolve()}updateTargetData(e,n){return this.kn(n),p.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,p.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),p.waitFor(o).next(()=>i)}getTargetCount(e){return p.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return p.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),p.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),p.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),p.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return p.resolve(r)}containsKey(e,n){return p.resolve(this.Or.containsKey(n))}};var zf=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Kt(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new H_(this),this.indexManager=new S_,this.remoteDocumentCache=function(i){return new B_(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new kf(n),this.Kr=new U_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new j_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);let i=new q_(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return p.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},q_=class extends Df{constructor(e){super(),this.currentSequenceNumber=e}},Gf=class t{constructor(e){this.persistence=e,this.Gr=new Lu,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw F()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),p.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),p.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),p.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p.forEach(this.Hr,r=>{let i=M.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,H.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return p.or([()=>p.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var z_=class{constructor(e){this.serializer=e}O(e,n,r,i){let o=new bf("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gM,{unique:!0}),c.createObjectStore("documentMutations")}(e),XM(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=p.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),XM(e)),s=s.next(()=>function(c){let u=c.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:H.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(c,u){return u.store("mutations").U().next(l=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gM,{unique:!0});let d=u.store("mutations"),h=l.map(f=>d.put(f));return p.waitFor(h)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Zr(o))),r<6&&i>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),r<7&&i>=7&&(s=s.next(()=>this.ei(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ni(o))),r<11&&i>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:R4});u.createIndex("collectionPathOverlayIndex",N4,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",O4,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:E4});u.createIndex("documentKeyIndex",C4),u.createIndex("collectionGroupIndex",I4)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ii(e,o))),r<15&&i>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:S4}).createIndex("sequenceNumberIndex",M4,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:x4}).createIndex("documentKeyIndex",P4,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),s}Xr(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Bf(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>p.forEach(i,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>p.forEach(a,c=>{L(c.userId===o.userId);let u=mo(this.serializer,c);return p1(e,o.userId,u).next(()=>{})}))}))}ei(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let o=[];return r.J((s,a)=>{let c=new he(s),u=function(d){return[0,Rt(d)]}(c);o.push(n.get(u).next(l=>l?p.resolve():(d=>n.put({targetId:0,path:Rt(d),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>p.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:A4});let r=n.store("collectionParents"),i=new Uu,o=s=>{if(i.add(s)){let a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Rt(c)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new he(s);return o(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,c],u)=>{let l=Zn(a);return o(l.popLast())}))}ni(e){let n=e.store("targets");return n.J((r,i)=>{let o=_u(i),s=d1(this.serializer,o);return n.put(s)})}ri(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(d){return d.document?new M(he.fromString(d.document.name).popFirst(5)):d.noDocument?M.fromSegments(d.noDocument.path):d.unknownDocument?M.fromSegments(d.unknownDocument.path):F()}(s).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>p.waitFor(i))}ii(e,n){let r=n.store("mutations"),i=y1(this.serializer),o=new zf(Gf.jr,this.serializer.ut);return r.U().next(s=>{let a=new Map;return s.forEach(c=>{var u;let l=(u=a.get(c.userId))!==null&&u!==void 0?u:Z();mo(this.serializer,c).keys().forEach(d=>l=l.add(d)),a.set(c.userId,l)}),p.forEach(a,(c,u)=>{let l=new Ye(u),d=Uf.ct(this.serializer,l),h=o.getIndexManager(l),f=$f.ct(l,this.serializer,h,o.referenceDelegate);return new qf(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Au(n,Kt.oe),c).next()})})}};function XM(t){t.createObjectStore("targetDocuments",{keyPath:b4}).createIndex("documentTargetsIndex",T4,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",D4,{unique:!0}),t.createObjectStore("targetGlobal")}var k0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",G_=class t{constructor(e,n,r,i,o,s,a,c,u,l,d=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=o,this.window=s,this.document=a,this.oi=u,this._i=l,this.ai=d,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!t.D())throw new w(v.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O_(this,i),this.Ii=n+"main",this.serializer=new kf(c),this.Ti=new Ei(this.Ii,this.ai,new z_(this.serializer)),this.qr=new x_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=y1(this.serializer),this.Kr=new E_,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,l===!1&&$e("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new w(v.FAILED_PRECONDITION,k0);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new Kt(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=n=>m(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(n=>m(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(()=>m(this,null,function*(){this.started&&(yield this.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ff(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Pi(e))return C("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return C("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return yu(e).get("owner").next(n=>p.resolve(this.wi(n)))}Si(e){return ff(e).delete(this.clientId)}bi(){return m(this,null,function*(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=ut(n,"clientMetadata");return r.U().next(i=>{let o=this.Ci(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return p.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ei)for(let n of e)this.Ei.removeItem(this.vi(n.clientId))}})}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?p.resolve(!0):yu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new w(v.FAILED_PRECONDITION,k0);return!1}}return!(!this.networkEnabled||!this.inForeground)||ff(e).U().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){let o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&C("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return m(this,null,function*(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),yield this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Au(e,Kt.oe);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()})}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>ff(e).U().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return $f.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new M_(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Uf.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){C("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",o=function(c){return c===16?k4:c===15?Dx:c===14?Ix:c===13?Cx:c===12?F4:c===11?Ex:void F()}(this.ai),s;return this.Ti.runTransaction(e,i,o,a=>(s=new Au(a,this.Br?this.Br.next():Kt.oe),n==="readwrite-primary"?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw $e(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new w(v.FAILED_PRECONDITION,yx);return r(s)}).next(c=>this.yi(s).next(()=>c)):this.Bi(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Bi(e){return yu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new w(v.FAILED_PRECONDITION,k0)})}yi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yu(e).put("owner",n)}static D(){return Ei.D()}pi(e){let n=yu(e);return n.get("owner").next(r=>this.wi(r)?(C("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):p.resolve())}Di(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||($e(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();let n=/(?:Version|Mobile)\/1[456]/;Vp()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{let r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return C("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $e("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){$e("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function yu(t){return ut(t,"owner")}function ff(t){return ut(t,"clientMetadata")}function Ww(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var W_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Z(),i=Z();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var K_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Wf=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return Vp()?8:vx(Oa())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new K_;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ks()<=An.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),p.resolve()):(Ks()<=An.DEBUG&&C("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ks()<=An.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nt(n))):p.resolve())}zi(e,n){if(TM(n))return p.resolve(null);let r=Nt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rf(n,null,"F"),r=Nt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Z(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,s,c.readTime)?this.zi(e,Rf(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return TM(n)||i.isEqual(H.min())?p.resolve(null):this.Gi.getDocuments(e,r).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,r,i)?p.resolve(null):(Ks()<=An.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qs(n)),this.Xi(e,s,n,gx(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ie(Vx(e));return n.forEach((i,o)=>{Ju(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ks()<=An.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.Gi.getDocumentsMatchingQuery(e,n,an.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Q_=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Se(Y),this.ns=new or(o=>Do(o),Ku),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qf(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function v1(t,e,n,r){return new Q_(t,e,n,r)}function _1(t,e){return m(this,null,function*(){let n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Z();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})})}function g3(t,e){let n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=p.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(_=>{let y=u.docVersions.get(g);L(y!==null),_.version.compareTo(y)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Z();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function w1(t){let e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function m3(t,e){let n=x(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ct.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(_,y,E){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(o,f))});let c=$t(),u=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(E1(o,s,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(H.min())){let l=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return p.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ts=i,o))}function E1(t,e,n){let r=Z(),i=Z();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=$t();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(H.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:i}})}function y3(t,e){let n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ha(t,e){let n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,p.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new la(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function fa(t,e,n){return m(this,null,function*(){let r=x(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Pi(s))throw s;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function Kf(t,e,n){let r=x(t),i=H.min(),o=Z();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){let d=x(c),h=d.ns.get(l);return h!==void 0?p.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,s,Nt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:H.min(),n?o:Z())).next(a=>(D1(r,kx(e),a),{documents:a,ls:o})))}function C1(t,e){let n=x(t),r=x(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function I1(t,e){let n=x(t),r=n.rs.get(e)||H.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,gx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(D1(n,e,i),i))}function D1(t,e,n){let r=t.rs.get(e)||H.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}function v3(t,e,n,r){return m(this,null,function*(){let i=x(t),o=Z(),s=$t();for(let u of n){let l=e.hs(u.metadata.name);u.document&&(o=o.add(l));let d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),s=s.insert(l,d)}let a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield ha(i,function(l){return Nt(Ea(he.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>E1(u,a,s).next(l=>(a.apply(u),l)).next(l=>i.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.qr.addMatchingKeys(u,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,l.us,l.cs)).next(()=>l.us)))})}function _3(r,i){return m(this,arguments,function*(t,e,n=Z()){let o=yield ha(t,Nt(zw(e.bundledQuery))),s=x(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=qe(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Kr.saveNamedQuery(a,e);let u=o.withResumeToken(ct.EMPTY_BYTE_STRING,c);return s.ts=s.ts.insert(u.targetId,u),s.qr.updateTargetData(a,u).next(()=>s.qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.Kr.saveNamedQuery(a,e))})})}function ex(t,e){return`firestore_clients_${t}_${e}`}function tx(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function V0(t,e){return`firestore_targets_${t}_${e}`}var Qf=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){let i=JSON.parse(r),o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new w(i.error.code,i.error.message))),s?new t(e,n,i.state,o):($e("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Iu=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){let r=JSON.parse(n),i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new w(r.error.code,r.error.message))),o?new t(e,r.state,i):($e("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Jf=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Hw();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=_x(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):($e("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},J_=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):($e("SharedClientState",`Failed to parse online state: ${e}`),null)}},ju=class{constructor(){this.activeTargetIds=Hw()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Du=class{constructor(e,n,r,i,o){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Se(Y),this.started=!1,this.ps=[];let s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=ex(this.persistenceKey,this.Rs),this.ws=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new ju),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){return m(this,null,function*(){let e=yield this.syncEngine.Li();for(let r of e){if(r===this.Rs)continue;let i=this.getItem(ex(this.persistenceKey,r));if(i){let o=Jf.Ts(r,i);o&&(this.gs=this.gs.insert(o.clientId,o))}}this.Fs();let n=this.storage.getItem(this.Cs);if(n){let r=this.Ms(n);r&&this.xs(r)}for(let r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(V0(this.persistenceKey,e));if(r){let i=Iu.Ts(e,r);i&&(n=i.state)}}return this.Bs.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(V0(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return C("SharedClientState","READ",e,n),n}setItem(e,n){C("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){C("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){let n=e;if(n.storageArea===this.storage){if(C("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void $e("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(()=>m(this,null,function*(){if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){let r=this.Ks(n.key);return this.$s(r,null)}{let r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){let r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){let r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){let r=function(o){let s=Kt.oe;if(o!=null)try{let a=JSON.parse(o);L(typeof a=="number"),s=a}catch(a){$e("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==Kt.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){let r=this.Hs(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,n,r){let i=new Qf(this.currentUser,e,n,r),o=tx(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Es())}Ls(e){let n=tx(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){let n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){let i=V0(this.persistenceKey,e),o=new Iu(e,n,r);this.setItem(i,o.Es())}Qs(e){let n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){let n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){let r=this.Ks(e);return Jf.Ts(r,n)}Ws(e,n){let r=this.bs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Qf.Ts(new Ye(o),i,n)}zs(e,n){let r=this.Ds.exec(e),i=Number(r[1]);return Iu.Ts(i,n)}Ms(e){return J_.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){return m(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);C("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){let r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),o=this.Os(r),s=[],a=[];return o.forEach(c=>{i.has(c)||s.push(c)}),i.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Hw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Yf=class{constructor(){this.eo=new ju,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ju,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Y_=class{ro(e){}shutdown(){}};var Zf=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pf=null;function U0(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}var w3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Z_=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var Et="WebChannelConnection",X_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){let a=U0(),c=this.Co(n,r.toUriEncodedString());C("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,o,s),this.Fo(n,c,u,i).then(l=>(C("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw sn("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){let i=w3[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let o=U0();return new Promise((s,a)=>{let c=new lM;c.setWithCredentials(!0),c.listenOnce(aM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lf.NO_ERROR:let l=c.getResponseJson();C(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case lf.TIMEOUT:C(Et,`RPC '${e}' ${o} timed out`),a(new w(v.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:let d=c.getStatus();if(C(Et,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(y){let E=y.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(E)>=0?E:v.UNKNOWN}(f.status);a(new w(g,f.message))}else a(new w(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new w(v.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{C(Et,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);C(Et,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=U0(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=oM(),a=sM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new uM({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");C(Et,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=s.createWebChannel(l,c),h=!1,f=!1,g=new Z_({co:y=>{f?C(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(C(Et,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Et,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),_=(y,E,U)=>{y.listen(E,T=>{try{U(T)}catch(V){setTimeout(()=>{throw V},0)}})};return _(d,fu.EventType.OPEN,()=>{f||(C(Et,`RPC '${e}' stream ${i} transport opened.`),g.Vo())}),_(d,fu.EventType.CLOSE,()=>{f||(f=!0,C(Et,`RPC '${e}' stream ${i} transport closed`),g.fo())}),_(d,fu.EventType.ERROR,y=>{f||(f=!0,sn(Et,`RPC '${e}' stream ${i} transport errored:`,y),g.fo(new w(v.UNAVAILABLE,"The operation could not be completed")))}),_(d,fu.EventType.MESSAGE,y=>{var E;if(!f){let U=y.data[0];L(!!U);let T=U,V=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(V){C(Et,`RPC '${e}' stream ${i} received error:`,V);let q=V.status,G=function(Op){let nl=Qe[Op];if(nl!==void 0)return Yx(nl)}(q),ye=V.message;G===void 0&&(G=v.INTERNAL,ye="Unknown error status: "+q+" with message "+V.message),f=!0,g.fo(new w(G,ye)),d.close()}else C(Et,`RPC '${e}' stream ${i} received:`,U),g.po(U)}}),_(a,cM.STAT_EVENT,y=>{y.stat===O0.PROXY?C(Et,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===O0.NOPROXY&&C(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.mo()},0),g}};function b1(){return typeof window<"u"?window:null}function _f(){return typeof document<"u"?document:null}function Yu(t){return new m_(t,!0)}var Bu=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var Xf=class{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Bu(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return m(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return m(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return m(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===v.RESOURCE_EXHAUSTED?($e(n.toString()),$e("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new w(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>m(this,null,function*(){this.state=0,this.start()}))}u_(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ew=class extends Xf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();let n=i3(this.serializer,e),r=function(o){if(!("targetChange"in o))return H.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?qe(s.readTime):H.min()}(e);return this.listener.l_(n,r)}h_(e){let n={};n.database=__(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=xf(c)?{documents:o1(o,c)}:{query:s1(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Xx(o,s.resumeToken);let u=y_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(H.min())>0){a.readTime=ua(o,s.snapshotVersion.toTimestamp());let u=y_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=s3(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){let n={};n.database=__(this.serializer),n.removeTarget=e,this.r_(n)}},tw=class extends Xf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=o3(e.writeResults,e.commitTime),r=qe(e.commitTime);return this.listener.d_(r,n)}return L(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=__(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Vu(this.serializer,r))};this.r_(n)}};var nw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new w(v.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,v_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new w(v.UNKNOWN,o.toString())})}Mo(e,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,v_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new w(v.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var rw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?($e(n),this.y_=!1):C("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var iw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(()=>m(this,null,function*(){Ri(this)&&(C("RemoteStore","Restarting streams for network reachability change."),yield function(c){return m(this,null,function*(){let u=x(c);u.M_.add(4),yield Ca(u),u.N_.set("Unknown"),u.M_.delete(4),yield Zu(u)})}(this))}))}),this.N_=new rw(r,i)}};function Zu(t){return m(this,null,function*(){if(Ri(t))for(let e of t.x_)yield e(!0)})}function Ca(t){return m(this,null,function*(){for(let e of t.x_)yield e(!1)})}function vp(t,e){let n=x(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Jw(n)?Qw(n):Da(n).Zo()&&Kw(n,e))}function pa(t,e){let n=x(t),r=Da(n);n.F_.delete(e),r.Zo()&&T1(n,e),n.F_.size===0&&(r.Zo()?r.t_():Ri(n)&&n.N_.set("Unknown"))}function Kw(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Da(t).h_(e)}function T1(t,e){t.L_.xe(e),Da(t).P_(e)}function Qw(t){t.L_=new g_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Da(t).start(),t.N_.w_()}function Jw(t){return Ri(t)&&!Da(t).Yo()&&t.F_.size>0}function Ri(t){return x(t).M_.size===0}function A1(t){t.L_=void 0}function E3(t){return m(this,null,function*(){t.N_.set("Online")})}function C3(t){return m(this,null,function*(){t.F_.forEach((e,n)=>{Kw(t,e)})})}function I3(t,e){return m(this,null,function*(){A1(t),Jw(t)?(t.N_.D_(e),Qw(t)):t.N_.set("Unknown")})}function D3(t,e,n){return m(this,null,function*(){if(t.N_.set("Online"),e instanceof Of&&e.state===2&&e.cause)try{yield function(i,o){return m(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ep(t,r)}else if(e instanceof na?t.L_.Ke(e):e instanceof Nf?t.L_.He(e):t.L_.We(e),!n.isEqual(H.min()))try{let r=yield w1(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.F_.get(u);l&&o.F_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.F_.get(c);if(!l)return;o.F_.set(c,l.withResumeToken(ct.EMPTY_BYTE_STRING,l.snapshotVersion)),T1(o,c);let d=new la(l.target,c,u,l.sequenceNumber);Kw(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield ep(t,r)}})}function ep(t,e,n){return m(this,null,function*(){if(!Pi(e))throw e;t.M_.add(1),yield Ca(t),t.N_.set("Offline"),n||(n=()=>w1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Zu(t)}))})}function S1(t,e){return e().catch(n=>ep(t,n,e))}function Ia(t){return m(this,null,function*(){let e=x(t),n=Mi(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;b3(e);)try{let i=yield y3(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,T3(e,i)}catch(i){yield ep(e,i)}M1(e)&&x1(e)})}function b3(t){return Ri(t)&&t.v_.length<10}function T3(t,e){t.v_.push(e);let n=Mi(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function M1(t){return Ri(t)&&!Mi(t).Yo()&&t.v_.length>0}function x1(t){Mi(t).start()}function A3(t){return m(this,null,function*(){Mi(t).R_()})}function S3(t){return m(this,null,function*(){let e=Mi(t);for(let n of t.v_)e.E_(n.mutations)})}function M3(t,e,n){return m(this,null,function*(){let r=t.v_.shift(),i=h_.from(r,e,n);yield S1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ia(t)})}function x3(t,e){return m(this,null,function*(){e&&Mi(t).T_&&(yield function(r,i){return m(this,null,function*(){if(function(s){return Jx(s)&&s!==v.ABORTED}(i.code)){let o=r.v_.shift();Mi(r).e_(),yield S1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ia(r)}})}(t,e)),M1(t)&&x1(t)})}function nx(t,e){return m(this,null,function*(){let n=x(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");let r=Ri(n);n.M_.add(3),yield Ca(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Zu(n)})}function ow(t,e){return m(this,null,function*(){let n=x(t);e?(n.M_.delete(2),yield Zu(n)):e||(n.M_.add(2),yield Ca(n),n.N_.set("Unknown"))})}function Da(t){return t.B_||(t.B_=function(n,r,i){let o=x(n);return o.m_(),new ew(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:E3.bind(null,t),Io:C3.bind(null,t),Eo:I3.bind(null,t),l_:D3.bind(null,t)}),t.x_.push(e=>m(this,null,function*(){e?(t.B_.e_(),Jw(t)?Qw(t):t.N_.set("Unknown")):(yield t.B_.stop(),A1(t))}))),t.B_}function Mi(t){return t.k_||(t.k_=function(n,r,i){let o=x(n);return o.m_(),new tw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:A3.bind(null,t),Eo:x3.bind(null,t),A_:S3.bind(null,t),d_:M3.bind(null,t)}),t.x_.push(e=>m(this,null,function*(){e?(t.k_.e_(),yield Ia(t)):(yield t.k_.stop(),t.v_.length>0&&(C("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var sw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ze,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new w(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ba(t,e){if($e("AsyncQueue",`${e}: ${t}`),Pi(t))return new w(v.UNAVAILABLE,`${e}: ${t}`);throw t}var tp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var np=class{constructor(){this.q_=new Se(M.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):F():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},ga=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,tp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var aw=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},cw=class{constructor(){this.queries=new or(e=>Fx(e),Qu),this.onlineState="Unknown",this.z_=new Set}};function Yw(t,e){return m(this,null,function*(){let n=x(t),r=3,i=e.query,o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new aw,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=ba(s,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Xw(n)})}function Zw(t,e){return m(this,null,function*(){let n=x(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function P3(t,e){let n=x(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Xw(n)}function R3(t,e,n){let r=x(t),i=r.queries.get(e);if(i)for(let o of i.U_)o.onError(n);r.queries.delete(e)}function Xw(t){t.z_.forEach(e=>{e.next()})}var uw,rx;(rx=uw||(uw={})).J_="default",rx.Cache="cache";var $u=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==uw.Cache}};var lw=class{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}};var rp=class{constructor(e){this.serializer=e}hs(e){return tr(this.serializer,e)}Ps(e){return e.metadata.exists?i1(this.serializer,e.document,!1):Xe.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return qe(e)}},dw=class{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=P1(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;let r=he.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){let n=new Map,r=new rp(this.serializer);for(let i of e)if(i.metadata.queries){let o=r.hs(i.metadata.name);for(let s of i.metadata.queries){let a=(n.get(s)||Z()).add(o);n.set(s,a)}}return n}complete(){return m(this,null,function*(){let e=yield v3(this.localStore,new rp(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(let r of this.queries)yield _3(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function P1(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var ip=class{constructor(e){this.key=e}},op=class{constructor(e){this.key=e}},sp=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Z(),this.mutatedKeys=Z(),this.Ia=Vx(e),this.Ta=new tp(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new np,i=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Ju(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),y=!1;h&&f?h.data.isEqual(f.data)?g!==_&&(r.track({type:3,doc:f}),y=!0):this.Ra(h,f)||(r.track({type:2,doc:f}),y=!0,(c&&this.Ia(f,c)>0||u&&this.Ia(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(c||u)&&(a=!0)),y&&(f?(s=s.add(f),o=_?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((l,d)=>function(f,g){let _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return _(f)-_(g)}(l.type,d.type)||this.Ia(l.doc,d.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,s.length!==0||u?{snapshot:new ga(this.query,e.Ta,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new np,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Z(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new op(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new ip(r))}),n}pa(e){this.la=e.ls,this.Pa=Z();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ga.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},hw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},fw=class{constructor(e){this.key=e,this.wa=!1}},pw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new or(a=>Fx(a),Qu),this.Da=new Map,this.Ca=new Set,this.va=new Se(M.comparator),this.Fa=new Map,this.Ma=new Lu,this.xa={},this.Oa=new Map,this.Na=da.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function N3(t,e,n=!0){return m(this,null,function*(){let r=_p(t),i,o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield R1(r,e,n,!0),i})}function O3(t,e){return m(this,null,function*(){let n=_p(t);yield R1(n,e,!0,!1)})}function R1(t,e,n,r){return m(this,null,function*(){let i=yield ha(t.localStore,Nt(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield eE(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&vp(t.remoteStore,i),a})}function eE(t,e,n,r,i){return m(this,null,function*(){t.Ba=(d,h,f)=>function(_,y,E,U){return m(this,null,function*(){let T=y.view.da(E);T.Zi&&(T=yield Kf(_.localStore,y.query,!1).then(({documents:ye})=>y.view.da(ye,T)));let V=U&&U.targetChanges.get(y.targetId),q=U&&U.targetMismatches.get(y.targetId)!=null,G=y.view.applyChanges(T,_.isPrimaryClient,V,q);return gw(_,y.targetId,G.fa),G.snapshot})}(t,d,h,f);let o=yield Kf(t.localStore,e,!0),s=new sp(e,o.ls),a=s.da(o.documents),c=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);gw(t,n,u.fa);let l=new hw(e,n,s);return t.ba.set(e,l),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function F3(t,e,n){return m(this,null,function*(){let r=x(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Qu(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fa(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pa(r.remoteStore,i.targetId),ma(r,i.targetId)}).catch(xi))):(ma(r,i.targetId),yield fa(r.localStore,i.targetId,!0))})}function k3(t,e){return m(this,null,function*(){let n=x(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pa(n.remoteStore,r.targetId))})}function V3(t,e,n){return m(this,null,function*(){let r=iE(t);try{let i=yield function(s,a){let c=x(s),u=Ne.now(),l=a.reduce((f,g)=>f.add(g.key),Z()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=$t(),_=Z();return c.ss.getEntries(f,l).next(y=>{g=y,g.forEach((E,U)=>{U.isValidDocument()||(_=_.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(y=>{d=y;let E=[];for(let U of a){let T=Y4(U,d.get(U.key).overlayedDocument);T!=null&&E.push(new Dn(U.key,T,Sx(T.value.mapValue),Ve.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,E,a)}).next(y=>{h=y;let E=y.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(f,y.batchId,E)})}).then(()=>({batchId:h.batchId,changes:Lx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.xa[s.currentUser.toKey()];u||(u=new Se(Y)),u=u.insert(a,c),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ur(r,i.changes),yield Ia(r.remoteStore)}catch(i){let o=ba(i,"Failed to persist write");n.reject(o)}})}function N1(t,e){return m(this,null,function*(){let n=x(t);try{let r=yield m3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Fa.get(o);s&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?L(s.wa):i.removedDocuments.size>0&&(L(s.wa),s.wa=!1))}),yield Ur(n,r,e)}catch(r){yield xi(r)}})}function ix(t,e,n){let r=x(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=x(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&Xw(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function U3(t,e,n){return m(this,null,function*(){let r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Se(M.comparator);s=s.insert(o,Xe.newNoDocument(o,H.min()));let a=Z().add(o),c=new Ou(H.min(),new Map,new Se(Y),s,a);yield N1(r,c),r.va=r.va.remove(o),r.Fa.delete(e),rE(r)}else yield fa(r.localStore,e,!1).then(()=>ma(r,e,n)).catch(xi)})}function L3(t,e){return m(this,null,function*(){let n=x(t),r=e.batch.batchId;try{let i=yield g3(n.localStore,e);nE(n,r,null),tE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ur(n,i)}catch(i){yield xi(i)}})}function j3(t,e,n){return m(this,null,function*(){let r=x(t);try{let i=yield function(s,a){let c=x(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(L(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);nE(r,e,n),tE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ur(r,i)}catch(i){yield xi(i)}})}function B3(t,e){return m(this,null,function*(){let n=x(t);Ri(n.remoteStore)||C("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(s){let a=x(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===-1)return void e.resolve();let i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){let i=ba(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function tE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function nE(t,e,n){let r=x(t),i=r.xa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function ma(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||O1(t,r)})}function O1(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(pa(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),rE(t))}function gw(t,e,n){for(let r of n)r instanceof ip?(t.Ma.addReference(r.key,e),$3(t,r)):r instanceof op?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||O1(t,r.key)):F()}function $3(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(C("SyncEngine","New document in limbo: "+n),t.Ca.add(r),rE(t))}function rE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new M(he.fromString(e)),r=t.Na.next();t.Fa.set(r,new fw(n)),t.va=t.va.insert(n,r),vp(t.remoteStore,new la(Nt(Ea(n.path)),r,"TargetPurposeLimboResolution",Kt.oe))}}function Ur(t,e,n){return m(this,null,function*(){let r=x(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{s.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=W_.Qi(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.Sa.l_(i),yield function(c,u){return m(this,null,function*(){let l=x(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>p.forEach(u,h=>p.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>p.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Pi(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,_)}}})}(r.localStore,o))})}function H3(t,e){return m(this,null,function*(){let n=x(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());let r=yield _1(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(c=>{c.reject(new w(v.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ur(n,r._s)}})}function q3(t,e){let n=x(t),r=n.Fa.get(e);if(r&&r.wa)return Z().add(r.key);{let i=Z(),o=n.Da.get(e);if(!o)return i;for(let s of o){let a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function z3(t,e){return m(this,null,function*(){let n=x(t),r=yield Kf(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&gw(n,e.targetId,i.fa),i})}function G3(t,e){return m(this,null,function*(){let n=x(t);return I1(n.localStore,e).then(r=>Ur(n,r))})}function W3(t,e,n,r){return m(this,null,function*(){let i=x(t),o=yield function(a,c){let u=x(a),l=x(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>l.Cn(d,c).next(h=>h?u.localDocuments.getDocuments(d,h):p.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?yield Ia(i.remoteStore):n==="acknowledged"||n==="rejected"?(nE(i,e,r||null),tE(i,e),function(a,c){x(x(a).mutationQueue).Fn(c)}(i.localStore,e)):F(),yield Ur(i,o)):C("SyncEngine","Cannot apply mutation batch with id: "+e)})}function K3(t,e){return m(this,null,function*(){let n=x(t);if(_p(n),iE(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield ox(n,r.toArray());n.La=!0,yield ow(n.remoteStore,!0);for(let o of i)vp(n.remoteStore,o)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(ma(n,s),fa(n.localStore,s,!0))),pa(n.remoteStore,s)}),yield i,yield ox(n,r),function(s){let a=x(s);a.Fa.forEach((c,u)=>{pa(a.remoteStore,u)}),a.Ma.Vr(),a.Fa=new Map,a.va=new Se(M.comparator)}(n),n.La=!1,yield ow(n.remoteStore,!1)}})}function ox(t,e,n){return m(this,null,function*(){let r=x(t),i=[],o=[];for(let s of e){let a,c=r.Da.get(s);if(c&&c.length!==0){a=yield ha(r.localStore,Nt(c[0]));for(let u of c){let l=r.ba.get(u),d=yield z3(r,l);d.snapshot&&o.push(d.snapshot)}}else{let u=yield C1(r.localStore,s);a=yield ha(r.localStore,u),yield eE(r,F1(u),s,!1,a.resumeToken)}i.push(a)}return r.Sa.l_(o),i})}function F1(t){return Ox(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Q3(t){return function(n){return x(x(n).persistence).Li()}(x(t).localStore)}function J3(t,e,n,r){return m(this,null,function*(){let i=x(t);if(i.La)return void C("SyncEngine","Ignoring unexpected query state notification.");let o=i.Da.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield I1(i.localStore,kx(o[0])),a=Ou.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ct.EMPTY_BYTE_STRING);yield Ur(i,s,a);break}case"rejected":yield fa(i.localStore,e,!0),ma(i,e,r);break;default:F()}})}function Y3(t,e,n){return m(this,null,function*(){let r=_p(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){C("SyncEngine","Adding an already active target "+i);continue}let o=yield C1(r.localStore,i),s=yield ha(r.localStore,o);yield eE(r,F1(o),s.targetId,!1,s.resumeToken),vp(r.remoteStore,s)}for(let i of n)r.Da.has(i)&&(yield fa(r.localStore,i,!1).then(()=>{pa(r.remoteStore,i),ma(r,i)}).catch(xi))}})}function _p(t){let e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U3.bind(null,e),e.Sa.l_=P3.bind(null,e.eventManager),e.Sa.ka=R3.bind(null,e.eventManager),e}function iE(t){let e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j3.bind(null,e),e}function Z3(t,e,n){let r=x(t);(function(o,s,a){return m(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(f,g){let _=x(f),y=qe(g.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",E=>_.Kr.getBundleMetadata(E,g.id)).then(E=>!!E&&E.createTime.compareTo(y)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(P1(c));let u=new dw(c,o.localStore,s.serializer),l=yield s.qa();for(;l;){let h=yield u._a(l);h&&a._updateProgress(h),l=yield s.qa()}let d=yield u.complete();return yield Ur(o,d.ca,void 0),yield function(f,g){let _=x(f);return _.persistence.runTransaction("Save bundle","readwrite",y=>_.Kr.saveBundleMetadata(y,g))}(o.localStore,c),a._completeWith(d.progress),Promise.resolve(d.ua)}catch(c){return sn("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var Hu=class{constructor(){this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){this.serializer=Yu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return v1(this.persistence,new Wf,e.initialUser,this.serializer)}createPersistence(e){return new zf(Gf.jr,this.serializer)}createSharedClientState(e){return new Yf}terminate(){return m(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var ap=class t extends Hu{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){yield Fp(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield iE(this.Qa.syncEngine),yield Ia(this.Qa.remoteStore),yield this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return v1(this.persistence,new Wf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new R_(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new J0(n,this.persistence);return new Q0(e.asyncQueue,r)}createPersistence(e){let n=Ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new G_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,b1(),_f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Yf}},mw=class t extends ap{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return m(this,null,function*(){yield Fp(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof Du&&(this.sharedClientState.syncEngine={Ys:W3.bind(null,n),Zs:J3.bind(null,n),Xs:Y3.bind(null,n),Li:Q3.bind(null,n),Js:G3.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.mi(r=>m(this,null,function*(){yield K3(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=b1();if(!Du.D(n))throw new w(v.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=Ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Du(n,e.asyncQueue,r,e.clientId,e.initialUser)}},qu=class{initialize(e,n){return m(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ix(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H3.bind(null,this.syncEngine),yield ow(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new cw}()}createDatastore(e){let n=Yu(e.databaseInfo.databaseId),r=function(o){return new X_(o)}(e.databaseInfo);return function(o,s,a,c){return new nw(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new iw(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ix(this.syncEngine,n,0),function(){return Zf.D()?new Zf:new Y_}())}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){let d=new pw(i,o,s,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return m(this,null,function*(){var e;yield function(r){return m(this,null,function*(){let i=x(r);C("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Ca(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function sx(t,e=10240){let n=0;return{read(){return m(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return m(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var ya=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):$e("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var yw=class{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Ze,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}getMetadata(){return m(this,null,function*(){return this.metadata.promise})}qa(){return m(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return m(this,null,function*(){let e=yield this.za();if(e===null)return null;let n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);let i=yield this.Ha(r);return new lw(JSON.parse(i),e.length+r)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return m(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ha(e){return m(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return m(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var vw=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return m(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new w(v.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,o){return m(this,null,function*(){let s=x(i),a={documents:o.map(d=>ku(s.serializer,d))},c=yield s.Mo("BatchGetDocuments",s.serializer.databaseId,he.emptyPath(),a,o.length),u=new Map;c.forEach(d=>{let h=r3(s.serializer,d);u.set(h.key.toString(),h)});let l=[];return o.forEach(d=>{let h=u.get(d.toString());L(!!h),l.push(h)}),l})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Si(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return m(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=M.fromPath(r);this.mutations.push(new Pu(i,this.precondition(i)))}),yield function(r,i){return m(this,null,function*(){let o=x(r),s={writes:i.map(a=>Vu(o.serializer,a))};yield o.Do("Commit",o.serializer.databaseId,he.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw F();n=H.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new w(v.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(H.min())?Ve.exists(!1):Ve.updateTime(n):Ve.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(H.min()))throw new w(v.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ve.updateTime(n)}return Ve.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var _w=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Za=r.maxAttempts,this.Jo=new Bu(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko(()=>m(this,null,function*(){let e=new vw(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})}))}tu(e){try{let n=this.updateFunction(e);return!Wu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Jx(n)}return!1}};var ww=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Cf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>m(this,null,function*(){C("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ze;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ba(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wf(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>m(this,null,function*(){r.isEqual(i)||(yield _1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ew(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield oE(t);C("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nx(e.remoteStore,i)),t._onlineComponents=e})}function k1(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function oE(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wf(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!k1(n))throw n;sn("Error using user provided cache. Falling back to memory cache: "+n),yield wf(t,new Hu)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield wf(t,new Hu);return t._offlineComponents})}function wp(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ew(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield Ew(t,new qu))),t._onlineComponents})}function V1(t){return oE(t).then(e=>e.persistence)}function sE(t){return oE(t).then(e=>e.localStore)}function U1(t){return wp(t).then(e=>e.remoteStore)}function aE(t){return wp(t).then(e=>e.syncEngine)}function X3(t){return wp(t).then(e=>e.datastore)}function va(t){return m(this,null,function*(){let e=yield wp(t),n=e.eventManager;return n.onListen=N3.bind(null,e.syncEngine),n.onUnlisten=F3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k3.bind(null,e.syncEngine),n})}function e$(t){return t.asyncQueue.enqueue(()=>m(this,null,function*(){let e=yield V1(t),n=yield U1(t);return e.setNetworkEnabled(!0),function(i){let o=x(i);return o.M_.delete(0),Zu(o)}(n)}))}function t$(t){return t.asyncQueue.enqueue(()=>m(this,null,function*(){let e=yield V1(t),n=yield U1(t);return e.setNetworkEnabled(!1),function(i){return m(this,null,function*(){let o=x(i);o.M_.add(0),yield Ca(o),o.N_.set("Offline")})}(n)}))}function n$(t,e){let n=new Ze;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(i,o,s){return m(this,null,function*(){try{let a=yield function(u,l){let d=x(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,l))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new w(v.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=ba(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield sE(t),e,n)})),n.promise}function L1(t,e,n={}){let r=new Ze;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(o,s,a,c,u){let l=new ya({next:h=>{s.enqueueAndForget(()=>Zw(o,d));let f=h.docs.has(a);!f&&h.fromCache?u.reject(new w(v.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?u.reject(new w(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new $u(Ea(a.path),l,{includeMetadataChanges:!0,ra:!0});return Yw(o,d)}(yield va(t),t.asyncQueue,e,n,r)})),r.promise}function r$(t,e){let n=new Ze;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(i,o,s){return m(this,null,function*(){try{let a=yield Kf(i,o,!0),c=new sp(o,a.ls),u=c.da(a.documents),l=c.applyChanges(u,!1);s.resolve(l.snapshot)}catch(a){let c=ba(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield sE(t),e,n)})),n.promise}function j1(t,e,n={}){let r=new Ze;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(o,s,a,c,u){let l=new ya({next:h=>{s.enqueueAndForget(()=>Zw(o,d)),h.fromCache&&c.source==="server"?u.reject(new w(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new $u(a,l,{includeMetadataChanges:!0,ra:!0});return Yw(o,d)}(yield va(t),t.asyncQueue,e,n,r)})),r.promise}function i$(t,e){let n=new ya(e);return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(i,o){x(i).z_.add(o),o.next()}(yield va(t),n)})),()=>{n.$a(),t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(i,o){x(i).z_.delete(o)}(yield va(t),n)}))}}function o$(t,e,n,r){let i=function(s,a){let c;return c=typeof s=="string"?Zx().encode(s):s,function(l,d){return new yw(l,d)}(function(l,d){if(l instanceof Uint8Array)return sx(l,d);if(l instanceof ArrayBuffer)return sx(new Uint8Array(l),d);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,Yu(e));t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){Z3(yield aE(t),i,r)}))}function s$(t,e){return t.asyncQueue.enqueue(()=>m(this,null,function*(){return function(r,i){let o=x(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,i))}(yield sE(t),e)}))}function B1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var ax=new Map;function cE(t,e,n){if(!n)throw new w(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uE(t,e,n,r){if(e===!0&&r===!0)throw new w(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cx(t){if(!M.isDocumentKey(t))throw new w(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ux(t){if(M.isDocumentKey(t))throw new w(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":F()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new w(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ep(t);throw new w(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $1(t,e){if(e<=0)throw new w(v.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var cp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new w(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new w(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new w(v.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new w(v.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new w(v.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},So=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new w(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new w(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L0;switch(r.type){case"firstParty":return new H0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new w(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=ax.get(n);r&&(C("ComponentProvider","Removing Datastore"),ax.delete(n),r.terminate())}(this),Promise.resolve()}};function H1(t,e,n,r={}){var i;let o=(t=fe(t,So))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&sn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ye.MOCK_USER;else{a=HE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new w(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ye(u)}t._authCredentials=new j0(new Ef(a,c))}}var mt=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},De=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},nr=class t extends mt{constructor(e,n,r){super(e,n,Ea(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new M(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function lE(t,e,...n){if(t=Pe(t),cE("collection","path",e),t instanceof So){let r=he.fromString(e,...n);return ux(r),new nr(t,null,r)}{if(!(t instanceof De||t instanceof nr))throw new w(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return ux(r),new nr(t.firestore,null,r)}}function q1(t,e){if(t=fe(t,So),cE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new w(v.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new mt(t,null,function(r){return new In(he.emptyPath(),r)}(e))}function Xu(t,e,...n){if(t=Pe(t),arguments.length===1&&(e=Cf.newId()),cE("doc","path",e),t instanceof So){let r=he.fromString(e,...n);return cx(r),new De(t,null,new M(r))}{if(!(t instanceof De||t instanceof nr))throw new w(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(he.fromString(e,...n));return cx(r),new De(t.firestore,t instanceof nr?t.converter:null,new M(r))}}function dE(t,e){return t=Pe(t),e=Pe(e),(t instanceof De||t instanceof nr)&&(e instanceof De||e instanceof nr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function hE(t,e){return t=Pe(t),e=Pe(e),t instanceof mt&&e instanceof mt&&t.firestore===e.firestore&&Qu(t._query,e._query)&&t.converter===e.converter}var Cw=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Bu(this,"async_queue_retry"),this.hu=()=>{let n=_f();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=_f();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=_f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Ze;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return m(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Pi(e))throw e;C("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw $e("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=sw.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&F()}verifyOperationInProgress(){}du(){return m(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function Iw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Dw=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ze,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var z1=-1,xe=class extends So{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Cw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||G1(this),this._firestoreClient.terminate()}};function nt(t){return t._firestoreClient||G1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function G1(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,u,l){return new Y0(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,B1(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ww(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function W1(t,e){nP(t=fe(t,xe));let n=nt(t);if(n._uninitializedComponentsProvider)throw new w(v.FAILED_PRECONDITION,"SDK cache is already specified.");sn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new qu;return Q1(n,i,new ap(i,r.cacheSizeBytes,e?.forceOwnership))}function K1(t){nP(t=fe(t,xe));let e=nt(t);if(e._uninitializedComponentsProvider)throw new w(v.FAILED_PRECONDITION,"SDK cache is already specified.");sn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new qu;return Q1(e,r,new mw(r,n.cacheSizeBytes))}function Q1(t,e,n){let r=new Ze;return t.asyncQueue.enqueue(()=>m(this,null,function*(){try{yield wf(t,n),yield Ew(t,e),r.resolve()}catch(i){let o=i;if(!k1(o))throw o;sn("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function J1(t){if(t._initialized&&!t._terminated)throw new w(v.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Ze;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{yield function(r){return m(this,null,function*(){if(!Ei.D())return Promise.resolve();let i=r+"main";yield Ei.delete(i)})}(Ww(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function Y1(t){return function(n){let r=new Ze;return n.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return B3(yield aE(n),r)})),r.promise}(nt(t=fe(t,xe)))}function Z1(t){return e$(nt(t=fe(t,xe)))}function X1(t){return t$(nt(t=fe(t,xe)))}function eP(t,e){let n=nt(t=fe(t,xe)),r=new Dw;return o$(n,t._databaseId,e,r),r}function tP(t,e){return s$(nt(t=fe(t,xe)),e).then(n=>n?new mt(t,null,n.query):null)}function nP(t){if(t._initialized||t._terminated)throw new w(v.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new w(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bn=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new w(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var kr=class{constructor(e){this._methodName=e}};var Mo=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new w(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new w(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}};var a$=/^__.*__$/,bw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ai(e,this.data,n,this.fieldTransforms)}},up=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function rP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}var lp=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return dp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(rP(this.fu)&&a$.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Tw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yu(e)}Fu(e,n,r,i=!1){return new lp({fu:e,methodName:n,vu:r,path:He.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function No(t){let e=t._freezeSettings(),n=Yu(t._databaseId);return new Tw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cp(t,e,n,r,i,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);gE("Data must be an object, but it was:",s,r);let a=sP(r,s),c,u;if(o.merge)c=new Qt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let d of o.mergeFields){let h=Pw(e,d,n);if(!s.contains(h))throw new w(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);cP(l,h)||l.push(h)}c=new Qt(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new bw(new Ct(a),c,u)}var zu=class t extends kr{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function iP(t,e,n){return new lp({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Aw=class t extends kr{_toFieldTransform(e){return new bo(e.path,new bi)}isEqual(e){return e instanceof t}},Sw=class t extends kr{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=iP(this,e,!0),r=this.Mu.map(o=>Oo(o,n)),i=new Or(r);return new bo(e.path,i)}isEqual(e){return e instanceof t&&Up(this.Mu,e.Mu)}},Mw=class t extends kr{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=iP(this,e,!0),r=this.Mu.map(o=>Oo(o,n)),i=new Fr(r);return new bo(e.path,i)}isEqual(e){return e instanceof t&&Up(this.Mu,e.Mu)}},xw=class t extends kr{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new Ti(e.serializer,Hx(e.serializer,this.xu));return new bo(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function fE(t,e,n,r){let i=t.Fu(1,e,n);gE("Data must be an object, but it was:",i,r);let o=[],s=Ct.empty();Ro(r,(c,u)=>{let l=mE(e,c,n);u=Pe(u);let d=i.Su(l);if(u instanceof zu)o.push(l);else{let h=Oo(u,d);h!=null&&(o.push(l),s.set(l,h))}});let a=new Qt(o);return new up(s,a,i.fieldTransforms)}function pE(t,e,n,r,i,o){let s=t.Fu(1,e,n),a=[Pw(e,r,n)],c=[i];if(o.length%2!=0)throw new w(v.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Pw(e,o[h])),c.push(o[h+1]);let u=[],l=Ct.empty();for(let h=a.length-1;h>=0;--h)if(!cP(u,a[h])){let f=a[h],g=c[h];g=Pe(g);let _=s.Su(f);if(g instanceof zu)u.push(f);else{let y=Oo(g,_);y!=null&&(u.push(f),l.set(f,y))}}let d=new Qt(u);return new up(l,d,s.fieldTransforms)}function oP(t,e,n,r=!1){return Oo(n,t.Fu(r?4:3,e))}function Oo(t,e){if(aP(t=Pe(t)))return gE("Unsupported field value:",e,t),sP(t,e);if(t instanceof kr)return function(r,i){if(!rP(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Oo(a,i.bu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ne.fromDate(r);return{timestampValue:ua(i.serializer,o)}}if(r instanceof Ne){let o=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ua(i.serializer,o)}}if(r instanceof Mo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sr)return{bytesValue:Xx(i.serializer,r._byteString)};if(r instanceof De){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Ep(r)}`)}(t,e)}function sP(t,e){let n={};return bx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,i)=>{let o=Oo(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Mo||t instanceof sr||t instanceof De||t instanceof kr)}function gE(t,e,n){if(!aP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ep(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Pw(t,e,n){if((e=Pe(e))instanceof bn)return e._internalPath;if(typeof e=="string")return mE(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}var c$=new RegExp("[~\\*/\\[\\]]");function mE(t,e,n){if(e.search(c$)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bn(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new w(v.INVALID_ARGUMENT,a+t+c)}function cP(t,e){return t.some(n=>n.isEqual(e))}var xo=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ip("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Rw=class extends xo{data(){return super.data()}};function Ip(t,e){return typeof e=="string"?mE(t,e):e instanceof bn?e._internalPath:e._delegate._internalPath}function uP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new w(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gu=class{},Po=class extends Gu{};function Lr(t,e,...n){let r=[];e instanceof Gu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(c=>c instanceof Nw).length,a=o.filter(c=>c instanceof hp).length;if(s>1||s>0&&a>0)throw new w(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var hp=class t extends Po{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return _P(e._query,n),new mt(e.firestore,e.converter,l_(e._query,n))}_parse(e){let n=No(e.firestore);return function(o,s,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new w(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){dx(d,l);let f=[];for(let g of d)f.push(lx(c,o,g));h={arrayValue:{values:f}}}else h=lx(c,o,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||dx(d,l),h=oP(a,s,d,l==="in"||l==="not-in");return se.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function lP(t,e,n){let r=e,i=Ip("where",t);return hp._create(i,r,n)}var Nw=class t extends Gu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:we.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)_P(s,c),s=l_(s,c)}(e._query,n),new mt(e.firestore,e.converter,l_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Ow=class t extends Po{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new w(v.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new w(v.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(o,s)}(e._query,this._field,this._direction);return new mt(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new In(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function dP(t,e="asc"){let n=e,r=Ip("orderBy",t);return Ow._create(r,n)}var fp=class t extends Po{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new mt(e.firestore,e.converter,Rf(e._query,this._limit,this._limitType))}};function hP(t){return $1("limit",t),fp._create("limit",t,"F")}function fP(t){return $1("limitToLast",t),fp._create("limitToLast",t,"L")}var pp=class t extends Po{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=vP(e,this.type,this._docOrFields,this._inclusive);return new mt(e.firestore,e.converter,function(i,o){return new In(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function pP(...t){return pp._create("startAt",t,!0)}function gP(...t){return pp._create("startAfter",t,!1)}var gp=class t extends Po{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=vP(e,this.type,this._docOrFields,this._inclusive);return new mt(e.firestore,e.converter,function(i,o){return new In(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}};function mP(...t){return gp._create("endBefore",t,!1)}function yP(...t){return gp._create("endAt",t,!0)}function vP(t,e,n,r){if(n[0]=Pe(n[0]),n[0]instanceof xo)return function(o,s,a,c,u){if(!c)throw new w(v.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let l=[];for(let d of ta(o))if(d.field.isKeyField())l.push(Co(s,c.key));else{let h=c.data.field(d.field);if(yp(h))throw new w(v.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let f=d.field.canonicalString();throw new w(v.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}l.push(h)}return new ir(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=No(t.firestore);return function(s,a,c,u,l,d){let h=s.explicitOrderBy;if(l.length>h.length)throw new w(v.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let f=[];for(let g=0;g<l.length;g++){let _=l[g];if(h[g].field.isKeyField()){if(typeof _!="string")throw new w(v.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!$w(s)&&_.indexOf("/")!==-1)throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);let y=s.path.child(he.fromString(_));if(!M.isDocumentKey(y))throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);let E=new M(y);f.push(Co(a,E))}else{let y=oP(c,u,_);f.push(y)}}return new ir(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function lx(t,e,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new w(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$w(e)&&n.indexOf("/")!==-1)throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(he.fromString(n));if(!M.isDocumentKey(r))throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Co(t,new M(r))}if(n instanceof De)return Co(t,n._key);throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ep(n)}.`)}function dx(t,e){if(!Array.isArray(t)||t.length===0)throw new w(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _P(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new w(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new w(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var _a=class{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ro(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Mo(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=jw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){let n=Nr(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=he.fromString(e);L(l1(r));let i=new Ii(r.get(1),r.get(3)),o=new M(r.popFirst(5));return i.isEqual(n)||$e(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Dp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Fw=class extends _a{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,n)}};var Rr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cn=class extends xo{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new _i(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ip("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},_i=class extends cn{data(e={}){return super.data(e)}},Tn=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _i(this._firestore,this._userDataWriter,r.key,r,new Rr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new w(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new _i(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new _i(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:u$(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function u$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function yE(t,e){return t instanceof cn&&e instanceof cn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Tn&&e instanceof Tn&&t._firestore===e._firestore&&hE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function wP(t){t=fe(t,De);let e=fe(t.firestore,xe);return L1(nt(e),t._key).then(n=>EE(e,t,n))}var Vr=class extends _a{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,n)}};function EP(t){t=fe(t,De);let e=fe(t.firestore,xe),n=nt(e),r=new Vr(e);return n$(n,t._key).then(i=>new cn(e,r,t._key,i,new Rr(i!==null&&i.hasLocalMutations,!0),t.converter))}function CP(t){t=fe(t,De);let e=fe(t.firestore,xe);return L1(nt(e),t._key,{source:"server"}).then(n=>EE(e,t,n))}function IP(t){t=fe(t,mt);let e=fe(t.firestore,xe),n=nt(e),r=new Vr(e);return uP(t._query),j1(n,t._query).then(i=>new Tn(e,r,t,i))}function DP(t){t=fe(t,mt);let e=fe(t.firestore,xe),n=nt(e),r=new Vr(e);return r$(n,t._query).then(i=>new Tn(e,r,t,i))}function bP(t){t=fe(t,mt);let e=fe(t.firestore,xe),n=nt(e),r=new Vr(e);return j1(n,t._query,{source:"server"}).then(i=>new Tn(e,r,t,i))}function vE(t,e,n){t=fe(t,De);let r=fe(t.firestore,xe),i=Dp(t.converter,e,n);return Ta(r,[Cp(No(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ve.none())])}function _E(t,e,n,...r){t=fe(t,De);let i=fe(t.firestore,xe),o=No(i),s;return s=typeof(e=Pe(e))=="string"||e instanceof bn?pE(o,"updateDoc",t._key,e,n,r):fE(o,"updateDoc",t._key,e),Ta(i,[s.toMutation(t._key,Ve.exists(!0))])}function TP(t){return Ta(fe(t.firestore,xe),[new Si(t._key,Ve.none())])}function AP(t,e){let n=fe(t.firestore,xe),r=Xu(t),i=Dp(t.converter,e);return Ta(n,[Cp(No(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ve.exists(!1))]).then(()=>r)}function wE(t,...e){var n,r,i;t=Pe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Iw(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Iw(e[s])){let d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof De)u=fe(t.firestore,xe),l=Ea(t._key.path),c={next:d=>{e[s]&&e[s](EE(u,t,d))},error:e[s+1],complete:e[s+2]};else{let d=fe(t,mt);u=fe(d.firestore,xe),l=d._query;let h=new Vr(u);c={next:f=>{e[s]&&e[s](new Tn(u,h,d,f))},error:e[s+1],complete:e[s+2]},uP(t._query)}return function(h,f,g,_){let y=new ya(_),E=new $u(f,y,g);return h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return Yw(yield va(h),E)})),()=>{y.$a(),h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return Zw(yield va(h),E)}))}}(nt(u),l,a,c)}function SP(t,e){return i$(nt(t=fe(t,xe)),Iw(e)?e:{next:e})}function Ta(t,e){return function(r,i){let o=new Ze;return r.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return V3(yield aE(r),i,o)})),o.promise}(nt(t),e)}function EE(t,e,n){let r=n.docs.get(e._key),i=new Vr(t);return new cn(t,i,e._key,r,new Rr(n.hasPendingWrites,n.fromCache),e.converter)}var l$={maxAttempts:5};var mp=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=No(e)}set(e,n,r){this._verifyNotCommitted();let i=yi(e,this._firestore),o=Dp(i.converter,n,r),s=Cp(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ve.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=yi(e,this._firestore),s;return s=typeof(n=Pe(n))=="string"||n instanceof bn?pE(this._dataReader,"WriteBatch.update",o._key,n,r,i):fE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ve.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=yi(e,this._firestore);return this._mutations=this._mutations.concat(new Si(n._key,Ve.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new w(v.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function yi(t,e){if((t=Pe(t)).firestore!==e)throw new w(v.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var kw=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=No(n)}get(n){let r=yi(n,this._firestore),i=new Fw(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return F();let s=o[0];if(s.isFoundDocument())return new xo(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new xo(this._firestore,i,r._key,null,r.converter);throw F()})}set(n,r,i){let o=yi(n,this._firestore),s=Dp(o.converter,r,i),a=Cp(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){let s=yi(n,this._firestore),a;return a=typeof(r=Pe(r))=="string"||r instanceof bn?pE(this._dataReader,"Transaction.update",s._key,r,i,o):fE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){let r=yi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=yi(e,this._firestore),r=new Vr(this._firestore);return super.get(e).then(i=>new cn(this._firestore,r,n._key,i._document,new Rr(!1,!1),n.converter))}};function MP(t,e,n){t=fe(t,xe);let r=Object.assign(Object.assign({},l$),n);return function(o){if(o.maxAttempts<1)throw new w(v.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){let c=new Ze;return o.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){let u=yield X3(o);new _w(o.asyncQueue,u,a,s,c).Xa()})),c.promise}(nt(t),i=>e(new kw(t,i)),r)}function xP(){return new zu("deleteField")}function PP(){return new Aw("serverTimestamp")}function RP(...t){return new Sw("arrayUnion",t)}function NP(...t){return new Mw("arrayRemove",t)}function OP(t){return new xw("increment",t)}(function(e,n=!0){(function(i){wa=i})(GE),Fa(new Ni("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new xe(new B0(r.getProvider("auth-internal")),new z0(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new w(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ii(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),jr(hM,"4.6.1",e),jr(hM,"4.6.1","esm2017")})();var d$="@firebase/firestore-compat",h$="0.3.30";function AE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new w("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function FP(){if(typeof Uint8Array>"u")throw new w("unimplemented","Uint8Arrays are not available in this environment.")}function kP(){if(!Tx())throw new w("unimplemented","Blobs are unavailable in Firestore in this environment.")}var bp=class t{constructor(e){this._delegate=e}static fromBase64String(e){return kP(),new t(sr.fromBase64String(e))}static fromUint8Array(e){return FP(),new t(sr.fromUint8Array(e))}toBase64(){return kP(),this._delegate.toBase64()}toUint8Array(){return FP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function CE(t){return f$(t,["next","error","complete"])}function f$(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var IE=class{enableIndexedDbPersistence(e,n){return W1(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return K1(e._delegate)}clearIndexedDbPersistence(e){return J1(e._delegate)}},Tp=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ii||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&sn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){H1(this._delegate,e,n,r)}enableNetwork(){return Z1(this._delegate)}disableNetwork(){return X1(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uE("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Y1(this._delegate)}onSnapshotsInSync(e){return SP(this._delegate,e)}get app(){if(!this._appCompat)throw new w("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ma(this,lE(this._delegate,e))}catch(n){throw Ot(n,"collection()","Firestore.collection()")}}doc(e){try{return new ar(this,Xu(this._delegate,e))}catch(n){throw Ot(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uo(this,q1(this._delegate,e))}catch(n){throw Ot(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return MP(this._delegate,n=>e(new Ap(this,n)))}batch(){return nt(this._delegate),new Sp(new mp(this._delegate,e=>Ta(this._delegate,e)))}loadBundle(e){return eP(this._delegate,e)}namedQuery(e){return tP(this._delegate,e).then(n=>n?new Uo(this,n):null)}},Aa=class extends _a{constructor(e){super(),this.firestore=e}convertBytes(e){return new bp(new sr(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return ar.forKey(n,this.firestore,null)}};function p$(t){hx(t)}var Ap=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Aa(e)}get(e){let n=Fo(e);return this._delegate.get(n).then(r=>new ko(this._firestore,new cn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=Fo(e);return r?(AE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Fo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Fo(e);return this._delegate.delete(n),this}},Sp=class{constructor(e){this._delegate=e}set(e,n,r){let i=Fo(e);return r?(AE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let o=Fo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){let n=Fo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Sa=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new _i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vo(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new t(e,new Aa(e),n),i.set(n,o)),o}};Sa.INSTANCES=new WeakMap;var ar=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Aa(e)}static forPath(e,n,r){if(e.length%2!==0)throw new w("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new De(n._delegate,r,new M(e)))}static forKey(e,n,r){return new t(n,new De(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ma(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ma(this.firestore,lE(this._delegate,e))}catch(n){throw Ot(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Pe(e),e instanceof De?dE(this._delegate,e):!1}set(e,n){n=AE("DocumentReference.set",n);try{return n?vE(this._delegate,e,n):vE(this._delegate,e)}catch(r){throw Ot(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?_E(this._delegate,e):_E(this._delegate,e,n,...r)}catch(i){throw Ot(i,"updateDoc()","DocumentReference.update()")}}delete(){return TP(this._delegate)}onSnapshot(...e){let n=VP(e),r=UP(e,i=>new ko(this.firestore,new cn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return wE(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=EP(this._delegate):e?.source==="server"?n=CP(this._delegate):n=wP(this._delegate),n.then(r=>new ko(this.firestore,new cn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Sa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ot(t,e,n){return t.message=t.message.replace(e,n),t}function VP(t){for(let e of t)if(typeof e=="object"&&!CE(e))return e;return{}}function UP(t,e){var n,r;let i;return CE(t[0])?i=t[0]:CE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ko=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ar(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return yE(this._delegate,e._delegate)}},Vo=class extends ko{data(e){let n=this._delegate.data(e);return this._delegate._converter||fx(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Uo=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Aa(e)}where(e,n,r){try{return new t(this.firestore,Lr(this._delegate,lP(e,n,r)))}catch(i){throw Ot(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Lr(this._delegate,dP(e,n)))}catch(r){throw Ot(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Lr(this._delegate,hP(e)))}catch(n){throw Ot(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Lr(this._delegate,fP(e)))}catch(n){throw Ot(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Lr(this._delegate,pP(...e)))}catch(n){throw Ot(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Lr(this._delegate,gP(...e)))}catch(n){throw Ot(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Lr(this._delegate,mP(...e)))}catch(n){throw Ot(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Lr(this._delegate,yP(...e)))}catch(n){throw Ot(n,"endAt()","Query.endAt()")}}isEqual(e){return hE(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=DP(this._delegate):e?.source==="server"?n=bP(this._delegate):n=IP(this._delegate),n.then(r=>new el(this.firestore,new Tn(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=VP(e),r=UP(e,i=>new el(this.firestore,new Tn(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return wE(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Sa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},DE=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Vo(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},el=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Uo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Vo(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new DE(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Vo(this._firestore,r))})}isEqual(e){return yE(this._delegate,e._delegate)}},Ma=class t extends Uo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new ar(this.firestore,e):null}doc(e){try{return e===void 0?new ar(this.firestore,Xu(this._delegate)):new ar(this.firestore,Xu(this._delegate,e))}catch(n){throw Ot(n,"doc()","CollectionReference.doc()")}}add(e){return AP(this._delegate,e).then(n=>new ar(this.firestore,n))}isEqual(e){return dE(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Sa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Fo(t){return fe(t,De)}var bE=class t{constructor(...e){this._delegate=new bn(...e)}static documentId(){return new t(He.keyField().canonicalString())}isEqual(e){return e=Pe(e),e instanceof bn?this._delegate._internalPath.isEqual(e._internalPath):!1}};var TE=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=PP();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=xP();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=RP(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=NP(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=OP(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var g$={Firestore:Tp,GeoPoint:Mo,Timestamp:Ne,Blob:bp,Transaction:Ap,WriteBatch:Sp,DocumentReference:ar,DocumentSnapshot:ko,Query:Uo,QueryDocumentSnapshot:Vo,QuerySnapshot:el,CollectionReference:Ma,FieldPath:bE,FieldValue:TE,setLogLevel:p$,CACHE_SIZE_UNLIMITED:z1};function m$(t,e){t.INTERNAL.registerComponent(new Ni("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},g$)))}function y$(t){m$(t,(e,n)=>new Tp(e,n,new IE)),t.registerVersion(d$,h$)}y$(kt);function v$(t,e=La){return new re(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function LP(t,e){return v$(t,e)}function _$(t,e){return LP(t,e).pipe(Ui(void 0),Ba(),$(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function xE(t,e){return LP(t,e).pipe($(n=>({payload:n,type:"query"})))}var Mp=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:o}=qP(r,n);return new Pp(i,o,this.afs)}snapshotChanges(){return _$(this.ref,this.afs.schedulers.outsideAngular).pipe(Bt)}valueChanges(e={}){return this.snapshotChanges().pipe($(({payload:n})=>e.idField?ae(A({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ce(this.ref.get(e)).pipe(Bt)}};function xp(t,e){return xE(t,e).pipe(Ui(void 0),Ba(),$(n=>{let[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let u=o.find(d=>d.doc.ref.isEqual(a.ref)),l=r?.payload.docs.find(d=>d.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&l&&JSON.stringify(l.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function jP(t,e,n){return xp(t,n).pipe(Vi((r,i)=>w$(r,i.map(o=>o.payload),e),[]),og(),$(r=>r.map(i=>({type:i.type,payload:i}))))}function w$(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=E$(t,r))}),t}function SE(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function E$(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return SE(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return SE(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return SE(t,e.oldIndex,1);break}return t}function BP(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Pp=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=xp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe($(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(Ui(void 0),Ba(),et(([r,i])=>i.length>0||!r),$(([,r])=>r),Bt)}auditTrail(e){return this.stateChanges(e).pipe(Vi((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=BP(e);return jP(this.query,n,this.afs.schedulers.outsideAngular).pipe(Bt)}valueChanges(e={}){return xE(this.query,this.afs.schedulers.outsideAngular).pipe($(n=>n.payload.docs.map(r=>e.idField?ae(A({},r.data()),{[e.idField]:r.id}):r.data())),Bt)}get(e){return ce(this.query.get(e)).pipe(Bt)}add(e){return this.ref.add(e)}doc(e){return new Mp(this.ref.doc(e),this.afs)}},ME=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?xp(this.query,this.afs.schedulers.outsideAngular).pipe(Bt):xp(this.query,this.afs.schedulers.outsideAngular).pipe($(n=>n.filter(r=>e.indexOf(r.type)>-1)),et(n=>n.length>0),Bt)}auditTrail(e){return this.stateChanges(e).pipe(Vi((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=BP(e);return jP(this.query,n,this.afs.schedulers.outsideAngular).pipe(Bt)}valueChanges(e={}){return xE(this.query,this.afs.schedulers.outsideAngular).pipe($(r=>r.payload.docs.map(i=>e.idField?A({[e.idField]:i.id},i.data()):i.data())),Bt)}get(e){return ce(this.query.get(e)).pipe(Bt)}},$P=new R("angularfire2.enableFirestorePersistence"),HP=new R("angularfire2.firestore.persistenceSettings"),C$=new R("angularfire2.firestore.settings"),I$=new R("angularfire2.firestore.use-emulator");function qP(t,e=n=>n){return{query:e(t),ref:t}}var tl=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,o,s,a,c,u,l,d,h,f,g,_,y,E,U){this.schedulers=c;let T=qc(n,a,r),V=l;d&&Hv(T,a,h,g,_,y,f,E),[this.firestore,this.persistenceEnabled$]=Oh(`${T.name}.firestore`,"AngularFirestore",T.name,()=>{let q=a.runOutsideAngular(()=>T.firestore());if(o&&q.settings(o),V&&q.useEmulator(...V),i&&!ti(s)){let G=()=>{try{return ce(q.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(ye){return typeof console<"u"&&console.warn(ye),B(!1)}};return[q,a.runOutsideAngular(G)]}else return[q,B(!1)]},[o,V,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:o,query:s}=qP(i,r),a=this.schedulers.ngZone.run(()=>o);return new Pp(a,s,this)}collectionGroup(n,r){let i=r||(s=>s),o=this.firestore.collectionGroup(n);return new ME(i(o),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new Mp(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(I(Fs),I(ks,8),I($P,8),I(C$,8),I(vt),I(le),I(Ph),I(HP,8),I(I$,8),I(Vs,8),I(Vv,8),I(Uv,8),I(Lv,8),I(jv,8),I(Bv,8),I($v,8),I(so,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),zP=(()=>{class t{constructor(){kt.registerVersion("angularfire",Os.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:$P,useValue:!0},{provide:HP,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ht({type:t});static \u0275inj=dt({providers:[tl]})}return t})();var xa=(()=>{let e=class e{constructor(r,i){this.auth=r,this.firestore=i,this.router=D(Te)}getAuth(){return Br()}signIn(r){return m(this,null,function*(){try{let i=yield this.auth.signInWithEmailAndPassword(r.email,r.password);return this.logLogin(r.email),i}catch(i){throw i}})}signUp(r){return al(Br(),r.email,r.password)}updateUser(r){return cl(Br().currentUser,{displayName:r})}sendRecoveryEmail(r){return sl(Br(),r)}signOut(){Br().signOut(),localStorage.removeItem("user"),this.routerlink("/login")}routerlink(r){this.router.navigateByUrl(r)}getUserLogged(){return this.auth.authState}logLogin(r){this.firestore.collection("usuarios").add({email:r,timestamp:new Date})}getUserUid(){return new Promise((r,i)=>{this.auth.onAuthStateChanged(function(o){o?(console.log(o),r(o.uid)):r("0")})})}};e.\u0275fac=function(i){return new(i||e)(I(Vs),I(tl))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WP=(()=>{let e=class e{constructor(r){this.router=r;let i=localStorage.getItem("loggedUser");i!=null&&(this.loggedUser=JSON.parse(i))}onLogoff(){localStorage.removeItem("loggedUser"),this.router.navigateByUrl("/login")}};e.\u0275fac=function(i){return new(i||e)(N(Te))},e.\u0275cmp=Re({type:e,selectors:[["app-error"]],standalone:!0,features:[tt],decls:12,vars:1,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container-fluid"],[1,"d-flex"],[1,"text-white"],["type","button",1,"btn","btn-primary",3,"click"],["src","./assets/imagenes/error.jpg"]],template:function(i,o){i&1&&(b(0,"nav",0)(1,"div",1)(2,"form",2)(3,"span",3),O(4),S(),b(5,"button",4),J("click",function(){return o.onLogoff()}),O(6,"Volver"),S()()()(),b(7,"div")(8,"h1"),O(9,"Error en el inicio de sesi\xF3n, vuelva a ingresar los datos"),S()(),z(10,"img",5)(11,"router-outlet")),i&2&&(ne(4),it("",o.loggedUser==null?null:o.loggedUser.email," "))},dependencies:[xt,jt,Kn,Wn,_n,Mt,Lt],styles:[".container[_ngcontent-%COMP%]{width:75vw;max-width:1000px;min-width:320px;margin:auto}img[_ngcontent-%COMP%]{width:100%;box-shadow:0 3px 5px #0f0f0f80}div[_ngcontent-%COMP%]{text-align:center}"]});let t=e;return t})();var KP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Re({type:e,selectors:[["app-bienvenido"]],standalone:!0,features:[tt],decls:3,vars:0,template:function(i,o){i&1&&(b(0,"h1"),O(1,"Bienvenido Usuario!!!"),S(),z(2,"router-outlet"))},dependencies:[xt,jt,Mt,Lt]});let t=e;return t})();var Pa=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Pa||{});function QP(t,e){return{type:Pa.Trigger,name:t,definitions:e,options:{}}}function PE(t,e=null){return{type:Pa.Animate,styles:e,timings:t}}function Rp(t){return{type:Pa.Style,styles:t,offset:null}}function Np(t,e,n){return{type:Pa.State,name:t,styles:e,options:n}}function RE(t,e,n=null){return{type:Pa.Transition,expr:t,animation:e,options:n}}var JP=["toast-component",""];function b$(t,e){if(t&1){let n=vs();b(0,"button",5),J("click",function(){wr(n);let i=Be();return Er(i.remove())}),b(1,"span",6),O(2,"\xD7"),S()()}}function T$(t,e){if(t&1&&(Vd(0),O(1),Ud()),t&2){let n=Be(2);ne(),it("[",n.duplicatesCount+1,"]")}}function A$(t,e){if(t&1&&(b(0,"div"),O(1),Un(2,T$,2,1,"ng-container",4),S()),t&2){let n=Be();br(n.options.titleClass),Ln("aria-label",n.title),ne(),it(" ",n.title," "),ne(),Ee("ngIf",n.duplicatesCount)}}function S$(t,e){if(t&1&&z(0,"div",7),t&2){let n=Be();br(n.options.messageClass),Ee("innerHTML",n.message,qm)}}function M$(t,e){if(t&1&&(b(0,"div",8),O(1),S()),t&2){let n=Be();br(n.options.messageClass),Ln("aria-label",n.message),ne(),it(" ",n.message," ")}}function x$(t,e){if(t&1&&(b(0,"div"),z(1,"div",9),S()),t&2){let n=Be();ne(),Yi("width",n.width+"%")}}function P$(t,e){if(t&1){let n=vs();b(0,"button",5),J("click",function(){wr(n);let i=Be();return Er(i.remove())}),b(1,"span",6),O(2,"\xD7"),S()()}}function R$(t,e){if(t&1&&(Vd(0),O(1),Ud()),t&2){let n=Be(2);ne(),it("[",n.duplicatesCount+1,"]")}}function N$(t,e){if(t&1&&(b(0,"div"),O(1),Un(2,R$,2,1,"ng-container",4),S()),t&2){let n=Be();br(n.options.titleClass),Ln("aria-label",n.title),ne(),it(" ",n.title," "),ne(),Ee("ngIf",n.duplicatesCount)}}function O$(t,e){if(t&1&&z(0,"div",7),t&2){let n=Be();br(n.options.messageClass),Ee("innerHTML",n.message,qm)}}function F$(t,e){if(t&1&&(b(0,"div",8),O(1),S()),t&2){let n=Be();br(n.options.messageClass),Ln("aria-label",n.message),ne(),it(" ",n.message," ")}}function k$(t,e){if(t&1&&(b(0,"div"),z(1,"div",9),S()),t&2){let n=Be();ne(),Yi("width",n.width+"%")}}var NE=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},OE=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},FE=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ge;_activate=new ge;_manualClose=new ge;_resetTimeout=new ge;_countDuplicate=new ge;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},Ra=class{toastId;config;message;title;toastType;toastRef;_onTap=new ge;_onAction=new ge;constructor(e,n,r,i,o,s){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},YP={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},ZP=new R("ToastConfig"),kE=class extends OE{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},V$=(()=>{class t{_document=D(Ke);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VE=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},U$=(()=>{class t{_overlayContainer=D(V$);_componentFactoryResolver=D(ms);_appRef=D(jn);_document=D(Ke);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new kE(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new VE(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Na=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,o,s){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=s,this.toastrConfig=A(A({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=A(A({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},o=""){return this._preBuildNotification(o,n,r,this.applyConfig(i))}success(n,r,i={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,n,r,this.applyConfig(i))}error(n,r,i={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,n,r,this.applyConfig(i))}info(n,r,i={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,n,r,this.applyConfig(i))}warning(n,r,i={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let c=s&&a.title===n;if((!s||c)&&a.message===r)return a.toastRef.onDuplicate(i,o),a}return null}applyConfig(n={}){return A(A({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,o)):this._buildNotification(n,r,i,o)}_buildNotification(n,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&o.enableHtml&&(u=this.sanitizer.sanitize(qt.HTML,r));let l=new FE(c),d=new Ra(this.index,o,u,i,n,l),h=[{provide:Ra,useValue:d}],f=Ht.create({providers:h,parent:this._injector}),g=new NE(o.toastComponent,f),_=c.attach(g,o.newestOnTop);l.componentInstance=_.instance;let y={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:_};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{y.toastRef.activate()})),this.toasts.push(y),y}static \u0275fac=function(r){return new(r||t)(I(ZP),I(U$),I(Ht),I(Uy),I(le))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),L$=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=ae(A({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=ae(A({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=ae(A({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(N(Na),N(Ra),N(le))};static \u0275cmp=Re({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&J("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(cy("@flyInOut",i.state),br(i.toastClasses),Yi("display",i.displayStyle))},standalone:!0,features:[tt],attrs:JP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Un(0,b$,3,0,"button",0)(1,A$,3,5,"div",1)(2,S$,1,3,"div",2)(3,M$,2,4,"div",3)(4,x$,2,2,"div",4),r&2&&(Ee("ngIf",i.options.closeButton),ne(),Ee("ngIf",i.title),ne(),Ee("ngIf",i.message&&i.options.enableHtml),ne(),Ee("ngIf",i.message&&!i.options.enableHtml),ne(),Ee("ngIf",i.options.progressBar))},dependencies:[sc],encapsulation:2,data:{animation:[QP("flyInOut",[Np("inactive",Rp({opacity:0})),Np("active",Rp({opacity:1})),Np("removed",Rp({opacity:0})),RE("inactive => active",PE("{{ easeTime }}ms {{ easing }}")),RE("active => removed",PE("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),j$=ae(A({},YP),{toastComponent:L$}),XP=(t={})=>Yr([{provide:ZP,useValue:{default:j$,config:t}}]);var B$=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(N(Na),N(Ra),N(jn))};static \u0275cmp=Re({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&J("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(br(i.toastClasses),Yi("display",i.displayStyle))},standalone:!0,features:[tt],attrs:JP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Un(0,P$,3,0,"button",0)(1,N$,3,5,"div",1)(2,O$,1,3,"div",2)(3,F$,2,4,"div",3)(4,k$,2,2,"div",4),r&2&&(Ee("ngIf",i.options.closeButton),ne(),Ee("ngIf",i.title),ne(),Ee("ngIf",i.message&&i.options.enableHtml),ne(),Ee("ngIf",i.message&&!i.options.enableHtml),ne(),Ee("ngIf",i.options.progressBar))},dependencies:[sc],encapsulation:2})}return t})(),AJ=ae(A({},YP),{toastComponent:B$});var tR=(()=>{let e=class e{constructor(r,i){this.router=r,this.toastr=i,this.firebaseService=D(xa),this.form=new ci({email:new li("",[Gn.required,Gn.email]),password:new li("",[Gn.required])})}ngOnInit(){}submit(){return m(this,null,function*(){this.form.valid&&this.firebaseService.signUp(this.form.value).then(r=>{console.log("___",r),this.router.navigateByUrl("/home")}).catch(r=>{this.toastr.error("Usuario ya registrado","ERROR")})})}inicio(){return m(this,null,function*(){this.router.navigateByUrl("/login")})}};e.\u0275fac=function(i){return new(i||e)(N(Te),N(Na))},e.\u0275cmp=Re({type:e,selectors:[["app-registro"]],standalone:!0,features:[tt],decls:30,vars:2,consts:[[1,"parent"],["id","container",1,"container"],[1,"form-container","sign-in"],[3,"ngSubmit","formGroup"],["for","email"],["type","email","name","email","id","email","formControlName","email","placeholder","nombre@gmail.com","required",""],["for","password"],["type","password","name","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required",""],["type","submit"],["type","inicio"],[1,"toggle-container"],[1,"toggle"],[1,"toggle-panel","toggle-right"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"form")(4,"form",3),J("ngSubmit",function(){return o.submit()}),b(5,"div")(6,"h1"),O(7,"Registro de Usuario"),S(),z(8,"br"),b(9,"label",4),O(10,"Correo electr\xF3nico "),S(),z(11,"input",5),b(12,"label",6),O(13,"Contrase\xF1a "),S(),z(14,"input",7),S(),b(15,"button",8),O(16,"Registrar"),S(),z(17,"br"),S(),b(18,"form",3),J("ngSubmit",function(){return o.inicio()}),b(19,"button",9),O(20,"Volver al inicio"),S(),z(21,"br"),S()()(),b(22,"div",10)(23,"div",11)(24,"div",12)(25,"h1"),O(26,"\xA1Hola, Usuario!"),S(),b(27,"p"),O(28,"Ingrese sus datos personales para seguir con el registro"),S()()()()()(),z(29,"router-outlet")),i&2&&(ne(4),Ee("formGroup",o.form),ne(14),Ee("formGroup",o.form))},dependencies:[Mt,Mh,Kn,ui,Ns,Wn,Bc,Lc,jc,jt,_n,Lt,xt],styles:['@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}.parent[_ngcontent-%COMP%]{background-color:#c9d6ff;background:linear-gradient(to right,#e2e2e2,#c9d6ff);display:flex;align-items:center;justify-content:center;flex-direction:column;height:100vh}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:30px;box-shadow:0 5px 15px #00000059;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;letter-spacing:.3px;margin:20px 0}.container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:13px;text-decoration:none;margin:15px 0 10px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#61d497;color:#fff;font-size:12px;padding:10px 45px;border:1px solid transparent;border-radius:8px;font-weight:600;letter-spacing:.5px;text-transform:uppercase;margin-top:10px;cursor:pointer}.container[_ngcontent-%COMP%]   button.hidden[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;height:100%}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#eee;border:none;margin:8px 0;padding:10px 5px;font-size:13px;border-radius:8px;width:100%;outline:none}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.active[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1;transition:all .5s}.container.active[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_move .6s}@keyframes _ngcontent-%COMP%_move{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.social-icons[_ngcontent-%COMP%]{margin:20px 0}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:20%;display:inline-flex;justify-content:center;align-items:center;margin:0 3px;width:40px;height:40px;transition:all .5s}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.3;border:1px solid #000}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:all .6s ease-in-out;border-radius:150px 0 0 100px;z-index:1000}.container.active[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{transform:translate(-100%);border-radius:0 150px 100px 0}.toggle[_ngcontent-%COMP%]{background-color:#33ff93;background:linear-gradient(to right,#5c6bc0,#33ff93);color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:all .6s ease-in-out}.container.active[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{transform:translate(50%)}.toggle-panel[_ngcontent-%COMP%]{position:absolute;width:50%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 30px;text-align:center;top:0;transform:translate(0);transition:all .6s ease-in-out}.toggle-left[_ngcontent-%COMP%]{transform:translate(-200%)}.container.active[_ngcontent-%COMP%]   .toggle-left[_ngcontent-%COMP%]{transform:translate(0)}.toggle-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.active[_ngcontent-%COMP%]   .toggle-right[_ngcontent-%COMP%]{transform:translate(200%)}']});let t=e;return t})();var nR=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.toastr=i,this.firestore=o,this.firebaseService=D(xa),this.usuariosCollection=[],this.user="",this.form=new ci({email:new li("",[Gn.required,Gn.email]),password:new li("",[Gn.required])})}ngOnInit(){}administradorLogin(){this.form.controls.email.setValue("fernando@gmail.com"),this.form.controls.password.setValue("123456")}invitadoLogin(){this.form.controls.email.setValue("daniel@gmail.com"),this.form.controls.password.setValue("123456")}submit(){return m(this,null,function*(){this.form.valid?this.firebaseService.signIn(this.form.value).then(r=>{console.log("___",r),this.router.navigateByUrl("/home")}):this.toastr.error("Datos incompletos o inv\xE1lidos","ERROR")})}registrar(){return m(this,null,function*(){this.router.navigateByUrl("/registro")})}};e.\u0275fac=function(i){return new(i||e)(N(Te),N(Na),N(tl))},e.\u0275cmp=Re({type:e,selectors:[["app-login"]],standalone:!0,features:[tt],decls:37,vars:2,consts:[[1,"parent"],["id","container",1,"container"],[1,"form-container","sign-in"],[3,"ngSubmit","formGroup"],["for","email"],["type","email","name","email","id","email","formControlName","email","placeholder","nombre@gmail.com","required",""],["for","password"],["type","password","name","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required",""],["type","submit"],["type","registrar"],[1,"text-center"],["type","button",1,"btn","btn-primary",2,"margin-right","4px",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"toggle-container"],[1,"toggle"],[1,"toggle-panel","toggle-right"]],template:function(i,o){i&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"form")(4,"form",3),J("ngSubmit",function(){return o.submit()}),b(5,"div")(6,"h1"),O(7,"Inicio de sesi\xF3n"),S(),z(8,"br"),b(9,"label",4),O(10,"Correo electr\xF3nico "),S(),z(11,"input",5),b(12,"label",6),O(13,"Contrase\xF1a "),S(),z(14,"input",7),S(),b(15,"button",8),O(16,"Ingresar"),S(),z(17,"br"),S(),b(18,"form",3),J("ngSubmit",function(){return o.registrar()}),b(19,"div"),O(20," No registrado? "),S(),b(21,"button",9),O(22,"Registrarse aqui"),S(),z(23,"br"),b(24,"div",10)(25,"button",11),J("click",function(){return o.administradorLogin()}),O(26,"Administrador"),S(),b(27,"button",12),J("click",function(){return o.invitadoLogin()}),O(28,"Invitado"),S()()()()(),b(29,"div",13)(30,"div",14)(31,"div",15)(32,"h1"),O(33,"\xA1Hola!"),S(),b(34,"p"),O(35,"Ingrese sus datos personales"),S()()()()()(),z(36,"router-outlet")),i&2&&(ne(4),Ee("formGroup",o.form),ne(14),Ee("formGroup",o.form))},dependencies:[Mt,Mh,Kn,ui,Ns,Wn,Bc,Lc,jc,jt,_n,Lt,xt],styles:['@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v26/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}.parent[_ngcontent-%COMP%]{background-color:#c9d6ff;background:linear-gradient(to right,#e2e2e2,#c9d6ff);display:flex;align-items:center;justify-content:center;flex-direction:column;height:100vh}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:30px;box-shadow:0 5px 15px #00000059;position:relative;overflow:hidden;width:900px;max-width:100%;min-height:580px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;letter-spacing:.3px;margin:20px 0}.container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:3px;text-decoration:none;margin:15px 0 10px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#61d497;color:#fff;font-size:12px;padding:7px 25px;border:1px solid transparent;border-radius:8px;font-weight:600;letter-spacing:.5px;text-transform:uppercase;margin-top:10px;cursor:pointer}.container[_ngcontent-%COMP%]   button.hidden[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;height:100%}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#eee;border:none;margin:8px 0;padding:10px 5px;font-size:13px;border-radius:8px;width:100%;outline:none}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.active[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1;transition:all .5s}.container.active[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_move .6s}@keyframes _ngcontent-%COMP%_move{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.social-icons[_ngcontent-%COMP%]{margin:20px 0}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:20%;display:inline-flex;justify-content:center;align-items:center;margin:0 3px;width:40px;height:40px;transition:all .5s}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.3;border:1px solid #000}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:all .6s ease-in-out;border-radius:150px 0 0 100px;z-index:1000}.container.active[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{transform:translate(-100%);border-radius:0 150px 100px 0}.toggle[_ngcontent-%COMP%]{background-color:#33ff93;background:linear-gradient(to right,#5c6bc0,#33ff93);color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:all .6s ease-in-out}.container.active[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{transform:translate(50%)}.toggle-panel[_ngcontent-%COMP%]{position:absolute;width:50%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 30px;text-align:center;top:0;transform:translate(0);transition:all .6s ease-in-out}.toggle-left[_ngcontent-%COMP%]{transform:translate(-200%)}.container.active[_ngcontent-%COMP%]   .toggle-left[_ngcontent-%COMP%]{transform:translate(0)}.toggle-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.active[_ngcontent-%COMP%]   .toggle-right[_ngcontent-%COMP%]{transform:translate(200%)}']});let t=e;return t})();var UE=(()=>{let e=class e{constructor(r,i){this.router=r,this.authFire=i,this.estaLogueado=!1,this.authFire.authState.subscribe(o=>{o&&o.uid?this.estaLogueado=!0:console.log(" No hay usuario logueado ")})}onLogoff(){localStorage.removeItem("loggedUser"),this.router.navigateByUrl("/login")}chat(){this.router.navigateByUrl("/chat")}quiensoy(){this.router.navigateByUrl("/quien-soy")}ngOnInit(){}Juego(r){this.router.navigate(["/Juegos/"+r])}};e.\u0275fac=function(i){return new(i||e)(N(Te),N(Vs))},e.\u0275cmp=Re({type:e,selectors:[["app-home"]],decls:34,vars:1,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container-fluid"],[1,"contenedor-left"],["type","button",1,"btnleft",3,"click"],[1,"d-flex"],[1,"text-white"],["type","button",1,"btn","btn-primary",3,"click"],[1,"container"],["id","menu",1,"menu","ld","ld-float-ttb-in",3,"click"],["src","./assets/imagenes/ahorcado.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"],[1,"media-body"],[1,"media-heading"],["src","./assets/imagenes/mayoromenor.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"],["src","./assets/imagenes/preguntados.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"],["src","./assets/imagenes/juegos.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"]],template:function(i,o){i&1&&(b(0,"section")(1,"nav",0)(2,"div",1)(3,"div",2)(4,"button",3),J("click",function(){return o.quiensoy()}),O(5,"Quien Soy"),S(),b(6,"button",3),J("click",function(){return o.chat()}),O(7,"Chat"),S()(),b(8,"form",4)(9,"span",5),O(10),S(),b(11,"button",6),J("click",function(){return o.onLogoff()}),O(12,"Cerrar sesi\xF3n"),S()()()(),b(13,"div",7)(14,"div",8),J("click",function(){return o.Juego("Ahorcado")}),z(15,"img",9),b(16,"div",10)(17,"h4",11),O(18,"Ahorcado"),S()()(),b(19,"div",8),J("click",function(){return o.Juego("MayorOMenor")}),z(20,"img",12),b(21,"div",10)(22,"h4",11),O(23,"Mayor o Menor"),S()()(),b(24,"div",8),J("click",function(){return o.Juego("Preguntados")}),z(25,"img",13),b(26,"div",10)(27,"h4",11),O(28,"Preguntados"),S()()(),b(29,"div",8),J("click",function(){return o.Juego("MiJuego")}),z(30,"img",14),b(31,"div",10)(32,"h4",11),O(33,"Mi Juego"),S()()()()()),i&2&&(ne(10),uy(o.loggedUser==null?null:o.loggedUser.email))},styles:[".container[_ngcontent-%COMP%]{width:100%;height:auto;background-color:transparent;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-content:center}.imagenDeMenu[_ngcontent-%COMP%]{height:55%;margin-bottom:2rem}.media-heading[_ngcontent-%COMP%]{color:#4883dd}.menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:space-between;background-color:#a6e2ec;width:45%;height:18rem;border-radius:1rem;margin-top:1rem;align-content:center;text-align:center;cursor:pointer;word-wrap:break-word;padding:1rem;-webkit-box-shadow:7px 7px 20px -8px rgba(0,3,5,1);-moz-box-shadow:7px 7px 20px -8px rgba(0,3,5,1);box-shadow:7px 7px 20px -8px #000305}#menu[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 10px #103f86}@media screen and (max-width: 1200px){.menu[_ngcontent-%COMP%]{height:auto}.encabezado[_ngcontent-%COMP%]{margin-bottom:1rem}}@media screen and (max-width: 720px){.container[_ngcontent-%COMP%]{height:auto;margin-left:3rem}.menu[_ngcontent-%COMP%]{width:80%;height:auto}}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]{background:#1e2b28;padding:60px 0;margin-top:8rem;height:10rem}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-align:center;width:100px;display:block;padding:15px,0;border-radius:10%;font-size:50px;margin:0 20px}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]:hover{background:#0078d7}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover{background:#4078c0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover{background:#0077b5}@media screen and (max-width: 470px){.menu[_ngcontent-%COMP%]{height:auto}.imagenDeMenu[_ngcontent-%COMP%]{width:auto;height:auto;margin-bottom:2rem}}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:100vh}.btnleft[_ngcontent-%COMP%]{color:#fff;text-align:center;background-color:#000;display:inline-block;margin:0}.contenedor-left[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var rR=(()=>{let e=class e{constructor(r){this.router=r;let i=localStorage.getItem("loggedUser");i!=null&&(this.loggedUser=JSON.parse(i))}onLogoff(){localStorage.removeItem("loggedUser"),this.router.navigateByUrl("/login")}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(N(Te))},e.\u0275cmp=Re({type:e,selectors:[["app-quien-soy"]],standalone:!0,features:[tt],decls:42,vars:1,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link","enable"],[1,"d-flex"],[1,"text-white"],["type","button",1,"btn","btn-primary",3,"click"],[1,"contenedor","ld","ld-float-rtl-in"],[1,"contenedor_texto"],[1,"texto"],[1,"nombre"],[1,"profesion"],[1,"main"],[1,"acerca_de"],[1,"contenedor","ld","ld-blur-in"],[1,"foto","ld","ld-vortex-in"],["src","./assets/imagenes/foto.jpg","width","250","height","250","alt","Fernando Daniel Quispe",1,"img"],["id","quien",1,"texto"],[1,"titulo"],["id","miJuego",1,"texto"],[1,"redes_sociales"],[1,"contenedor"],["href","https://github.com/fernando-quispe",1,"github"],[1,"fa","fa-github"]],template:function(i,o){i&1&&(b(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),O(5,"Inicio"),S()()(),b(6,"form",5)(7,"span",6),O(8),S(),b(9,"button",7),J("click",function(){return o.onLogoff()}),O(10,"Cerrar sesi\xF3n"),S()()()(),b(11,"header")(12,"div",8)(13,"div",9)(14,"div",10)(15,"h1",11),O(16,"Fernando Daniel Quispe"),S(),b(17,"h2",12),O(18,"Analista de Testing"),S()()()()(),b(19,"section",13)(20,"section",14)(21,"div",15)(22,"div",16),z(23,"img",17),S(),b(24,"div",18)(25,"h3",19),O(26,"Soy Fernando Daniel Quispe, Alumno de la UTN FRA"),S(),b(27,"p"),O(28,"Soy un estudiante que trabaja de Analista en Testing que le gusta aprender nuevos lenguajes de programacion para poder llegar a ser un desarrollador el dia de ma\xF1ana. "),S()(),z(29,"hr"),b(30,"div",20)(31,"h3",19),O(32,"Descripci\xF3n del juego 'XXX'"),S(),b(33,"p"),O(34,"El juego consiste en ...."),S()(),z(35,"hr"),S()()(),b(36,"footer")(37,"section",21)(38,"div",22)(39,"a",23),z(40,"i",24),S()()()(),z(41,"router-outlet")),i&2&&(ne(8),it("",o.loggedUser==null?null:o.loggedUser.email," "))},dependencies:[xt,jt,Kn,Wn,_n,Mt,Lt,mh],styles:["*[_ngcontent-%COMP%]{-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-sizing:border-box}body[_ngcontent-%COMP%]{background-color:#fff;font-family:Open Sans;color:#000;font-size:16px}.contenedor[_ngcontent-%COMP%]{font-family:Open Sans;width:90%;max-width:1000px;margin:auto;overflow:hidden}header[_ngcontent-%COMP%]{background-color:#64cfc1;background-repeat:no-repeat;background-position:center;max-height:300px}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{margin:2rem 0rem;text-align:right}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0rem 2rem;color:#fff;display:inline-block;text-decoration:none;border-bottom:2px solid transparent;padding-bottom:9px;font-size:1em}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(1,184,240,.87)}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]{display:flex;margin:70px 0;justify-content:center;align-content:center}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.5);padding:1rem;border-radius:3px;display:inline-block;text-align:center}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{color:#fff;font-weight:300;margin:0}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{margin-bottom:10px;font-size:50px;line-height:50px;color:#fff}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .profesion[_ngcontent-%COMP%]{color:#fff;font-size:25px;line-height:25px}.main[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{overflow:visible;text-align:center;margin-top:-60px}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{vertical-align:top;border-radius:50%;-webkit-box-shadow:7px 7px 50px -7px rgba(12,98,156,1);-moz-box-shadow:7px 7px 50px -7px rgba(12,98,156,1);box-shadow:7px 7px 50px -7px #0c629c}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{font-weight:600;font-size:1em;line-height:30px;width:80%;margin:40px auto 60px}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:34px;line-height:34px;margin-bottom:40px;font-weight:400;color:brown;text-align:center}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{color:#3895ea}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]{background-color:#fff;padding:60px,0px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:3rem}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:34px;line-height:34px;margin-bottom:40px;font-weight:400;color:#3895ea;text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:30%;margin-bottom:40px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .thumd[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:13rem;border-radius:3%;vertical-align:top;margin-bottom:2rem;-webkit-box-shadow:21px 29px 27px -22px rgb(7,7,7);-moz-box-shadow:21px 29px 27px -22px rgba(0,0,0,1);box-shadow:21px 29px 27px -22px #000}#quien[_ngcontent-%COMP%], #miJuego[_ngcontent-%COMP%]{background-color:#c4e2ee;padding:25px;border-radius:10px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{color:#3895ea;margin-bottom:10px;font-weight:700}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]{font-weight:300;font-size:14px;color:#cac6c6}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]{background:#1e2b28;padding:60px 0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-align:center;width:100px;display:block;padding:15px,0;border-radius:10%;font-size:50px;margin:0 20px}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover{background:#4078c0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover{background:#0077b5}@media screen and (max-width: 800px){header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:46%}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:150px;height:150px}}@media screen and (max-width: 500px){header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-size:35px}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .profesion[_ngcontent-%COMP%]{font-size:18px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:80%;align-content:center;margin-left:3rem}}body[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}"]});let t=e;return t})();var iR=(()=>{let e=class e{constructor(r,i){this.route=r,this.router=i}onLogoff(){localStorage.removeItem("loggedUser"),this.router.navigateByUrl("/login")}ngOnInit(){}Juego(r){this.router.navigate(["/Juegos/"+r])}};e.\u0275fac=function(i){return new(i||e)(N(qn),N(Te))},e.\u0275cmp=Re({type:e,selectors:[["app-juegos"]],decls:36,vars:1,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link","enable"],[1,"d-flex"],[1,"text-white"],["type","button",1,"btn","btn-primary",3,"click"],[1,"contenedor","ld","ld-float-rtl-in"],[1,"contenedor_texto"],[1,"texto"],[1,"nombre"],[1,"profesion"],[1,"container"],["id","menu",1,"menu","ld","ld-float-ttb-in",3,"click"],["src","./assets/imagenes/ahorcado.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"],[1,"media-body"],[1,"media-heading"],["src","./assets/imagenes/mayoromenor.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"],["src","./assets/imagenes/preguntados.jpg","alt","Avatar",1,"img-thumbnail","imagenDeMenu"]],template:function(i,o){i&1&&(b(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),O(5,"Inicio"),S()()(),b(6,"form",5)(7,"span",6),O(8),S(),b(9,"button",7),J("click",function(){return o.onLogoff()}),O(10,"Cerrar sesi\xF3n"),S()()()(),b(11,"header")(12,"div",8)(13,"div",9)(14,"div",10)(15,"h1",11),O(16,"Mis Juegos"),S(),b(17,"h2",12),O(18,"Listado de Juegos"),S()()()()(),b(19,"div",13)(20,"div",14),J("click",function(){return o.Juego("Ahorcado")}),z(21,"img",15),b(22,"div",16)(23,"h4",17),O(24,"Ahorcado"),S()()(),b(25,"div",14),J("click",function(){return o.Juego("MayorOMenor")}),z(26,"img",18),b(27,"div",16)(28,"h4",17),O(29,"Mayor o Menor"),S()()(),b(30,"div",14),J("click",function(){return o.Juego("Preguntados")}),z(31,"img",19),b(32,"div",16)(33,"h4",17),O(34,"Preguntados"),S()()()(),z(35,"footer")),i&2&&(ne(8),it("",o.loggedUser==null?null:o.loggedUser.email," "))},styles:["*[_ngcontent-%COMP%]{-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-sizing:border-box}body[_ngcontent-%COMP%]{background-color:#fff;font-family:Open Sans;color:#000;font-size:16px}.contenedor[_ngcontent-%COMP%]{font-family:Open Sans;width:90%;max-width:1000px;margin:auto;overflow:hidden}header[_ngcontent-%COMP%]{background-color:#64cfc1;background-repeat:no-repeat;background-position:center;max-height:300px}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{margin:2rem 0rem;text-align:right}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0rem 2rem;color:#fff;display:inline-block;text-decoration:none;border-bottom:2px solid transparent;padding-bottom:9px;font-size:1em}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-bottom:2px solid rgba(1,184,240,.87)}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]{display:flex;margin:70px 0;justify-content:center;align-content:center}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.5);padding:1rem;border-radius:3px;display:inline-block;text-align:center}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{color:#fff;font-weight:300;margin:0}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{margin-bottom:10px;font-size:50px;line-height:50px;color:#fff}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .profesion[_ngcontent-%COMP%]{color:#fff;font-size:25px;line-height:25px}.main[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{overflow:visible;text-align:center;margin-top:-60px}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{vertical-align:top;border-radius:50%;-webkit-box-shadow:7px 7px 50px -7px rgba(12,98,156,1);-moz-box-shadow:7px 7px 50px -7px rgba(12,98,156,1);box-shadow:7px 7px 50px -7px #0c629c}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]{font-weight:600;font-size:1em;line-height:30px;width:80%;margin:40px auto 60px}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:34px;line-height:34px;margin-bottom:40px;font-weight:400;color:brown;text-align:center}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{color:#3895ea}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]{background-color:#fff;padding:60px,0px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:3rem}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:34px;line-height:34px;margin-bottom:40px;font-weight:400;color:#3895ea;text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:30%;margin-bottom:40px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .thumd[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:13rem;border-radius:3%;vertical-align:top;margin-bottom:2rem;-webkit-box-shadow:21px 29px 27px -22px rgb(7,7,7);-moz-box-shadow:21px 29px 27px -22px rgba(0,0,0,1);box-shadow:21px 29px 27px -22px #000}#quien[_ngcontent-%COMP%], #miJuego[_ngcontent-%COMP%]{background-color:#c4e2ee;padding:25px;border-radius:10px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{color:#3895ea;margin-bottom:10px;font-weight:700}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]{font-weight:300;font-size:14px;color:#cac6c6}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]{background:#1e2b28;padding:60px 0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-align:center;width:100px;display:block;padding:15px,0;border-radius:10%;font-size:50px;margin:0 20px}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover{background:#4078c0}footer[_ngcontent-%COMP%]   .redes_sociales[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover{background:#0077b5}@media screen and (max-width: 800px){header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{text-align:center}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:46%}.main[_ngcontent-%COMP%]   .acerca_de[_ngcontent-%COMP%]   .foto[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:150px;height:150px}}@media screen and (max-width: 500px){header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-size:35px}header[_ngcontent-%COMP%]   .contenedor_texto[_ngcontent-%COMP%]   .texto[_ngcontent-%COMP%]   .profesion[_ngcontent-%COMP%]{font-size:18px}.main[_ngcontent-%COMP%]   .trabajos[_ngcontent-%COMP%]   .contenedor_trabajos[_ngcontent-%COMP%]   .trabajo[_ngcontent-%COMP%]{width:80%;align-content:center;margin-left:3rem}}body[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#6ce2a1}"]});let t=e;return t})();var $$=()=>({standalone:!0});function H$(t,e){if(t&1){let n=vs();b(0,"div",11),J("click",function(){wr(n);let i=Be();return Er(i.mostrarChat=!0)}),S()}}function q$(t,e){if(t&1&&(b(0,"p",23),O(1),S()),t&2){let n=e.$implicit,r=Be(2);Ee("ngClass",r.usuarioLogeado.uid==n.emisor?"enviado":"recibido"),ne(),it(" ",n.texto," ")}}function z$(t,e){if(t&1){let n=vs();b(0,"div",12)(1,"div",13),O(2," CHAT "),b(3,"div",14),J("click",function(){wr(n);let i=Be();return Er(i.mostrarChat=!1)}),O(4,"X "),S()(),b(5,"div",15)(6,"div",16),Un(7,q$,2,2,"p",17),S()(),b(8,"form",18),J("ngSubmit",function(){wr(n);let i=Be();return Er(i.enviarMensaje())}),b(9,"input",19),dy("ngModelChange",function(i){wr(n);let o=Be();return vb(o.nuevoMensaje,i)||(o.nuevoMensaje=i),Er(i)}),S(),b(10,"div",20),J("click",function(){wr(n);let i=Be();return Er(i.enviarMensaje())}),b(11,"span",21),z(12,"img",22),S()()()()}if(t&2){let n=Be();ne(7),Ee("ngForOf",n.mensajes),ne(2),ly("ngModel",n.nuevoMensaje),Ee("ngModelOptions",wb(3,$$))}}var oR=(()=>{let e=class e{constructor(r,i){this.router=r,this.authService=i,this.mostrarChat=!1,this.nuevoMensaje="",this.mensajes=[];let o=localStorage.getItem("loggedUser");o!=null&&(this.loggedUser=JSON.parse(o))}ngOnInit(){this.authService.getUserLogged().subscribe(r=>{this.usuarioLogeado=r})}onLogoff(){localStorage.removeItem("loggedUser"),this.router.navigateByUrl("/login")}enviarMensaje(){if(this.nuevoMensaje=="")return;console.log(this.nuevoMensaje);let r={emisor:this.usuarioLogeado.uid,texto:this.nuevoMensaje};this.mensajes.push(r),this.nuevoMensaje="",setTimeout(()=>{this.scrollToTheLastElementByClassName()},10),this.scrollToTheLastElementByClassName()}scrollToTheLastElementByClassName(){let r=document.getElementsByClassName("msj"),o=r[r.length-1].offsetTop}};e.\u0275fac=function(i){return new(i||e)(N(Te),N(xa))},e.\u0275cmp=Re({type:e,selectors:[["app-chat"]],standalone:!0,features:[tt],decls:16,vars:3,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container-fluid"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link","enable"],[1,"d-flex"],[1,"text-white"],["type","button",1,"btn","btn-primary",3,"click"],["class","chatIconContainer",3,"click",4,"ngIf"],["src","./assets/imagenes/burbujaschat.png","alt","chat Icon",1,"chatIcon"],["class","card text-center cardContainer",4,"ngIf"],[1,"chatIconContainer",3,"click"],[1,"card","text-center","cardContainer"],[1,"card-header"],[1,"closeIcon",3,"click"],[1,"card-body"],["id","contenedorDeMensajes",1,"contenedorDeMensajes","h-100"],["class","msj p-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-footer","text-muted","input-group",3,"ngSubmit"],["type","text","placeholder","Ingrese su mensaje",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"input-group-append",3,"click"],["id","basic-addon2",1,"input-group-text"],["src","./assets/imagenes/chat.png","width","20px","alt","seng message",1,"imgEnviar"],[1,"msj","p-2",3,"ngClass"]],template:function(i,o){i&1&&(b(0,"section")(1,"nav",0)(2,"div",1)(3,"ul",2)(4,"li",3)(5,"a",4),O(6,"Inicio"),S()()(),b(7,"form",5)(8,"span",6),O(9),S(),b(10,"button",7),J("click",function(){return o.onLogoff()}),O(11,"Cerrar sesi\xF3n"),S()()()()(),Un(12,H$,1,0,"div",8),z(13,"img",9),Un(14,z$,13,4,"div",10),z(15,"router-outlet")),i&2&&(ne(9),it("",o.loggedUser==null?null:o.loggedUser.email," "),ne(3),Ee("ngIf",o.usuarioLogeado&&!o.mostrarChat),ne(2),Ee("ngIf",o.usuarioLogeado&&o.mostrarChat))},dependencies:[xt,jt,Kn,ui,Ns,Wn,Sv,_n,Mt,Vb,Ub,sc,Lt,mh],styles:[".cardContainer[_ngcontent-%COMP%]{width:700px;height:900px;position:fixed;right:.5rem;bottom:.5rem}.card-header[_ngcontent-%COMP%]{background-color:#139725;color:#fff;font-weight:700}.card-body[_ngcontent-%COMP%]{padding:.5rem;background-image:url(/assets/imagenes/fondochat.jpg)}.imgEnviar[_ngcontent-%COMP%]:active{transform:scale(.9)}.enviado[_ngcontent-%COMP%]{display:block;float:right;background-color:teal;color:#fff;min-width:50.01%;border-radius:10px;text-align:flex}.recibido[_ngcontent-%COMP%]{display:block;float:left;background-color:gray;color:#fff;min-width:50.01%;border-radius:10px;text-align:flex}.contenedorDeMensajes[_ngcontent-%COMP%]{overflow:scroll;padding:.3rem}.contenedorDeMensajes[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.chatIconContainer[_ngcontent-%COMP%]{position:fixed;right:.5rem;bottom:.5rem;display:flex;justify-content:center;align-items:center;width:60px;height:60px;cursor:pointer;background-color:#139725;border-radius:100%;box-shadow:0 0 10px 2px #414040}.chatIconContainer[_ngcontent-%COMP%]:hover{text-decoration:none;color:#98ecb3;background-color:#90e78d}.chatIcon[_ngcontent-%COMP%]{position:fixed;right:.9rem;bottom:.9rem;width:40px;height:40px}.closeIcon[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:0rem;cursor:pointer}section[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#a8c8e6,#74d6e7);height:100vh}"]});let t=e;return t})();var sR=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:nR},{path:"error",component:WP},{path:"quien-soy",component:rR},{path:"home",component:UE},{path:"chat",component:oR},{path:"juegos",component:iR},{path:"registro",component:tR},{path:"",component:UE,children:[{path:"bienvenido",component:KP}]}];var aR={apiKey:"AIzaSyDLLuZ4LC1paSBlL6-NYt5Dbk25mXtoZDI",authDomain:"saladejuego-6496f.firebaseapp.com",projectId:"saladejuego-6496f",storageBucket:"saladejuego-6496f.appspot.com",messagingSenderId:"514966214529",appId:"1:514966214529:web:807a639e045525e6cb3a80"};WE(aR);var cR={providers:[XP({timeOut:3e3,preventDuplicates:!0}),WT(sR,ZT()),bm(Jb,HA.initializeApp(aR),zP)]};var uR=(()=>{let e=class e{constructor(){this.title="saladejuego"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Re({type:e,selectors:[["app-root"]],standalone:!0,features:[tt],decls:1,vars:0,template:function(i,o){i&1&&z(0,"router-outlet")},dependencies:[xt,jt,Mt,Lt]});let t=e;return t})();iT(uR,cR).catch(t=>console.error(t));
